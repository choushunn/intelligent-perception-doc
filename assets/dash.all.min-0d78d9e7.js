import{g as nu}from"./commonjsHelpers-de833af9.js";function ru(kr,bi){for(var wr=0;wr<bi.length;wr++){const ur=bi[wr];if(typeof ur!="string"&&!Array.isArray(ur)){for(const xn in ur)if(xn!=="default"&&!(xn in kr)){const Nr=Object.getOwnPropertyDescriptor(ur,xn);Nr&&Object.defineProperty(kr,xn,Nr.get?Nr:{enumerable:!0,get:()=>ur[xn]})}}}return Object.freeze(Object.defineProperty(kr,Symbol.toStringTag,{value:"Module"}))}var ho={exports:{}};/*! For license information please see dash.all.min.js.LICENSE.txt */(function(kr,bi){(function(wr,ur){kr.exports=ur()})(self,function(){return function(){var wr={4593:function(tt,we){var O,ie,S,t,e,y=function(g){for(var E=[],n=0;n<g.length;++n){var l=g.charCodeAt(n);l<128?E.push(l):l<2048?(E.push(192|l>>6),E.push(128|63&l)):l<65536?(E.push(224|l>>12),E.push(128|63&l>>6),E.push(128|63&l)):(E.push(240|l>>18),E.push(128|63&l>>12),E.push(128|63&l>>6),E.push(128|63&l))}return E},p=function(g){for(var E=[],n=0;n<g.length;){var l=g[n++];l<128||(l<224?(l=(31&l)<<6,l|=63&g[n++]):l<240?(l=(15&l)<<12,l|=(63&g[n++])<<6,l|=63&g[n++]):(l=(7&l)<<18,l|=(63&g[n++])<<12,l|=(63&g[n++])<<6,l|=63&g[n++])),E.push(String.fromCharCode(l))}return E.join("")},u={};O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie=function(g){for(var E=0,n=[],l=0|g.length/3;0<l--;){var d=(g[E]<<16)+(g[E+1]<<8)+g[E+2];E+=3,n.push(O.charAt(63&d>>18)),n.push(O.charAt(63&d>>12)),n.push(O.charAt(63&d>>6)),n.push(O.charAt(63&d))}return g.length-E==2?(d=(g[E]<<16)+(g[E+1]<<8),n.push(O.charAt(63&d>>18)),n.push(O.charAt(63&d>>12)),n.push(O.charAt(63&d>>6)),n.push("=")):g.length-E==1&&(d=g[E]<<16,n.push(O.charAt(63&d>>18)),n.push(O.charAt(63&d>>12)),n.push("==")),n.join("")},S=function(){for(var g=[],E=0;E<O.length;++E)g[O.charCodeAt(E)]=E;return g["=".charCodeAt(0)]=0,g}(),t=function(g){for(var E=0,n=[],l=0|g.length/4;0<l--;){var d=(S[g.charCodeAt(E)]<<18)+(S[g.charCodeAt(E+1)]<<12)+(S[g.charCodeAt(E+2)]<<6)+S[g.charCodeAt(E+3)];n.push(255&d>>16),n.push(255&d>>8),n.push(255&d),E+=4}return n&&(g.charAt(E-2)=="="?(n.pop(),n.pop()):g.charAt(E-1)=="="&&n.pop()),n},e={encode:function(g){for(var E=[],n=0;n<g.length;++n)E.push(g.charCodeAt(n));return E},decode:function(g){for(var E=0;E<s.length;++E)a[E]=String.fromCharCode(a[E]);return a.join("")}},u.decodeArray=function(g){var E=t(g);return new Uint8Array(E)},u.encodeASCII=function(g){var E=e.encode(g);return ie(E)},u.decodeASCII=function(g){var E=t(g);return e.decode(E)},u.encode=function(g){var E=y(g);return ie(E)},u.decode=function(g){var E=t(g);return p(E)},we.decode=u.decode,we.decodeArray=u.decodeArray,we.encode=u.encode,we.encodeASCII=u.encodeASCII},452:function(tt,we){(function(O){var ie={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},S=function(M){var A=M;return ie.hasOwnProperty(M)&&(A=ie[M]),String.fromCharCode(A)},t=15,e=32,y={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},p={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},g={25:2,26:4,29:6,30:8,31:10,27:13,28:15},E=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],n={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(M){this.time=M},log:function(M,A){var U=this.verboseFilter[M];this.verboseLevel>=U&&console.log(this.time+" ["+M+"] "+A)}},l=function(M){for(var A=[],U=0;U<M.length;U++)A.push(M[U].toString(16));return A},d=function(M,A,U,J,$){this.foreground=M||"white",this.underline=A||!1,this.italics=U||!1,this.background=J||"black",this.flash=$||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(M){for(var A=["foreground","underline","italics","background","flash"],U=0;U<A.length;U++){var J=A[U];M.hasOwnProperty(J)&&(this[J]=M[J])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(M){return this.foreground===M.foreground&&this.underline===M.underline&&this.italics===M.italics&&this.background===M.background&&this.flash===M.flash},copy:function(M){this.foreground=M.foreground,this.underline=M.underline,this.italics=M.italics,this.background=M.background,this.flash=M.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var D=function(M,A,U,J,$,Ee){this.uchar=M||" ",this.penState=new d(A,U,J,$,Ee)};D.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(M,A){this.uchar=M,this.penState.copy(A)},setPenState:function(M){this.penState.copy(M)},equals:function(M){return this.uchar===M.uchar&&this.penState.equals(M.penState)},copy:function(M){this.uchar=M.uchar,this.penState.copy(M.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var Z=function(){this.chars=[];for(var M=0;M<e;M++)this.chars.push(new D);this.pos=0,this.currPenState=new d};Z.prototype={equals:function(M){for(var A=!0,U=0;U<e;U++)if(!this.chars[U].equals(M.chars[U])){A=!1;break}return A},copy:function(M){for(var A=0;A<e;A++)this.chars[A].copy(M.chars[A])},isEmpty:function(){for(var M=!0,A=0;A<e;A++)if(!this.chars[A].isEmpty()){M=!1;break}return M},setCursor:function(M){this.pos!==M&&(this.pos=M),this.pos<0?(n.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>e&&(n.log("ERROR","Too large cursor position "+this.pos),this.pos=e)},moveCursor:function(M){var A=this.pos+M;if(M>1)for(var U=this.pos+1;U<A+1;U++)this.chars[U].setPenState(this.currPenState);this.setCursor(A)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(M){M>=144&&this.backSpace();var A=S(M);this.pos>=e?n.log("ERROR","Cannot insert "+M.toString(16)+" ("+A+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(A,this.currPenState),this.moveCursor(1))},clearFromPos:function(M){var A;for(A=M;A<e;A++)this.chars[A].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var M=[],A=!0,U=0;U<e;U++){var J=this.chars[U].uchar;J!==" "&&(A=!1),M.push(J)}return A?"":M.join("")},setPenStyles:function(M){this.currPenState.setStyles(M),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var M=0;M<t;M++)this.rows.push(new Z);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var M=0;M<t;M++)this.rows[M].clear();this.currRow=14},equals:function(M){for(var A=!0,U=0;U<t;U++)if(!this.rows[U].equals(M.rows[U])){A=!1;break}return A},copy:function(M){for(var A=0;A<t;A++)this.rows[A].copy(M.rows[A])},isEmpty:function(){for(var M=!0,A=0;A<t;A++)if(!this.rows[A].isEmpty()){M=!1;break}return M},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(M){this.rows[this.currRow].insertChar(M)},setPen:function(M){this.rows[this.currRow].setPenStyles(M)},moveCursor:function(M){this.rows[this.currRow].moveCursor(M)},setCursor:function(M){n.log("INFO","setCursor: "+M),this.rows[this.currRow].setCursor(M)},setPAC:function(M){n.log("INFO","pacData = "+JSON.stringify(M));var A=M.row-1;this.nrRollUpRows&&A<this.nrRollUpRows-1&&(A=this.nrRollUpRows-1),this.currRow=A;var U=this.rows[this.currRow];if(M.indent!==null){var J=M.indent,$=Math.max(J-1,0);U.setCursor(M.indent),M.color=U.chars[$].penState.foreground}var Ee={foreground:M.color,underline:M.underline,italics:M.italics,background:"black",flash:!1};this.setPen(Ee)},setBkgData:function(M){n.log("INFO","bkgData = "+JSON.stringify(M)),this.backSpace(),this.setPen(M),this.insertChar(32)},setRollUpRows:function(M){this.nrRollUpRows=M},rollUp:function(){if(this.nrRollUpRows!==null){n.log("TEXT",this.getDisplayText());var M=this.currRow+1-this.nrRollUpRows,A=this.rows.splice(M,1)[0];A.clear(),this.rows.splice(this.currRow,0,A),n.log("INFO","Rolling up")}else n.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(M){M=M||!1;for(var A=[],U="",J=-1,$=0;$<t;$++){var Ee=this.rows[$].getTextString();Ee&&(J=$+1,M?A.push("Row "+J+': "'+Ee+'"'):A.push(Ee.trim()))}return A.length>0&&(U=M?"["+A.join(" | ")+"]":A.join(`
`)),U},getTextAndFormat:function(){return this.rows}};var F=function(M,A){this.chNr=M,this.outputFilter=A,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};F.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(M){this.outputFilter=M},setPAC:function(M){this.writeScreen.setPAC(M)},setBkgData:function(M){this.writeScreen.setBkgData(M)},setMode:function(M){M!==this.mode&&(this.mode=M,n.log("INFO","MODE="+M),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=M)},insertChars:function(M){for(var A=0;A<M.length;A++)this.writeScreen.insertChar(M[A]);var U=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";n.log("INFO",U+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(n.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){n.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){n.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){n.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(M){n.log("INFO","RU("+M+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(M)},cc_FON:function(){n.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){n.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){n.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){n.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){n.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){n.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){n.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(n.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var M=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=M,this.writeScreen=this.nonDisplayedMemory,n.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(M){n.log("INFO","TO("+M+") - Tab Offset"),this.writeScreen.moveCursor(M)},cc_MIDROW:function(M){var A={flash:!1};if(A.underline=M%2==1,A.italics=M>=46,A.italics)A.foreground="white";else{var U=Math.floor(M/2)-16;A.foreground=["white","green","blue","cyan","red","yellow","magenta"][U]}n.log("INFO","MIDROW: "+JSON.stringify(A)),this.writeScreen.setPen(A)},outputDataUpdate:function(){var M=n.time;M!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(M,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,M,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:M):this.cueStartTime=M,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(M){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,M,this.displayedMemory),this.cueStartTime=M))}};var ee=function(M,A,U){this.field=M||1,this.outputs=[A,U],this.channels=[new F(1,A),new F(2,U)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};ee.prototype={getHandler:function(M){return this.channels[M].getHandler()},setHandler:function(M,A){this.channels[M].setHandler(A)},addData:function(M,A){var U,J,$,Ee=!1;this.lastTime=M,n.setTime(M);for(var Je=0;Je<A.length;Je+=2)J=127&A[Je],$=127&A[Je+1],J>=16&&J<=31&&J===this.lastCmdA&&$===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,n.log("DEBUG","Repeated command ("+l([J,$])+") is dropped")):J!==0||$!==0?(n.log("DATA","["+l([A[Je],A[Je+1]])+"] -> ("+l([J,$])+")"),(U=this.parseCmd(J,$))||(U=this.parseMidrow(J,$)),U||(U=this.parsePAC(J,$)),U||(U=this.parseBackgroundAttributes(J,$)),U||(Ee=this.parseChars(J,$))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Ee):n.log("WARNING","No channel found yet. TEXT-MODE?")),U?this.dataCounters.cmd+=2:Ee?this.dataCounters.char+=2:(this.dataCounters.other+=2,n.log("WARNING","Couldn't parse cleaned data "+l([J,$])+" orig: "+l([A[Je],A[Je+1]])))):this.dataCounters.padding+=2},parseCmd:function(M,A){var U;if(!((M===20||M===21||M===28||M===29)&&32<=A&&A<=47||(M===23||M===31)&&33<=A&&A<=35))return!1;U=M===20||M===21||M===23?1:2;var J=this.channels[U-1];return M===20||M===21||M===28||M===29?A===32?J.cc_RCL():A===33?J.cc_BS():A===34?J.cc_AOF():A===35?J.cc_AON():A===36?J.cc_DER():A===37?J.cc_RU(2):A===38?J.cc_RU(3):A===39?J.cc_RU(4):A===40?J.cc_FON():A===41?J.cc_RDC():A===42?J.cc_TR():A===43?J.cc_RTD():A===44?J.cc_EDM():A===45?J.cc_CR():A===46?J.cc_ENM():A===47&&J.cc_EOC():J.cc_TO(A-32),this.lastCmdA=M,this.lastCmdB=A,this.currChNr=U,!0},parseMidrow:function(M,A){var U=null;if((M===17||M===25)&&32<=A&&A<=47){if((U=M===17?1:2)!==this.currChNr)return n.log("ERROR","Mismatch channel in midrow parsing"),!1;var J=this.channels[U-1];return J.insertChars([32]),J.cc_MIDROW(A),n.log("DEBUG","MIDROW ("+l([M,A])+")"),this.lastCmdA=M,this.lastCmdB=A,!0}return!1},parsePAC:function(M,A){var U,J;if(!((17<=M&&M<=23||25<=M&&M<=31)&&64<=A&&A<=127||(M===16||M===24)&&64<=A&&A<=95))return!1;U=M<=23?1:2,J=64<=A&&A<=95?U===1?y[M]:u[M]:U===1?p[M]:g[M];var $=this.interpretPAC(J,A);return this.channels[U-1].setPAC($),this.lastCmdA=M,this.lastCmdB=A,this.currChNr=U,!0},interpretPAC:function(M,A){var U,J={color:null,italics:!1,indent:null,underline:!1,row:M};return U=A>95?A-96:A-64,J.underline=(1&U)==1,U<=13?J.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(U/2)]:U<=15?(J.italics=!0,J.color="white"):J.indent=4*Math.floor((U-16)/2),J},parseChars:function(M,A){var U=null,J=null,$=null;if(M>=25?(U=2,$=M-8):(U=1,$=M),17<=$&&$<=19){var Ee;Ee=$===17?A+80:$===18?A+112:A+144,n.log("INFO","Special char '"+S(Ee)+"' in channel "+U),J=[Ee],this.lastCmdA=M,this.lastCmdB=A}else 32<=M&&M<=127&&(J=A===0?[M]:[M,A],this.lastCmdA=null,this.lastCmdB=null);if(J){var Je=l(J);n.log("DEBUG","Char codes =  "+Je.join(","))}return J},parseBackgroundAttributes:function(M,A){var U,J,$;return((M===16||M===24)&&32<=A&&A<=47||(M===23||M===31)&&45<=A&&A<=47)&&(U={},M===16||M===24?(J=Math.floor((A-32)/2),U.background=E[J],A%2==1&&(U.background=U.background+"_semi")):A===45?U.background="transparent":(U.foreground="black",A===47&&(U.underline=!0)),$=M<24?1:2,this.channels[$-1].setBkgData(U),this.lastCmdA=M,this.lastCmdB=A,!0)},reset:function(){for(var M=0;M<this.channels.length;M++)this.channels[M]&&this.channels[M].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(M){for(var A=0;A<this.channels.length;A++)this.channels[A]&&this.channels[A].cueSplitAtTime(M)}},O.logger=n,O.PenState=d,O.CaptionScreen=k,O.Cea608Parser=ee,O.findCea608Nalus=function(M,A,U){for(var J=0,$=A,Ee=[],Je=function(ve,Ue,Be,ct){if(ve!==4||Ue<8)return null;var _e=Be.getUint8(ct),Ge=Be.getUint16(ct+1),vt=Be.getUint32(ct+3),ft=Be.getUint8(ct+7);return _e==181&&Ge==49&&vt==1195456820&&ft==3};$<A+U;){if(J=M.getUint32($),(31&M.getUint8($+4))==6)for(var oe=$+5,Ce=-1;oe<$+4+J-1;){Ce=0;for(var He=255;He===255;)Ce+=He=M.getUint8(oe),oe++;var Le=0;for(He=255;He===255;)Le+=He=M.getUint8(oe),oe++;Je(Ce,Le,M,oe)&&Ee.push([oe,Le]),oe+=Le}$+=J+4}return Ee},O.extractCea608DataFromRange=function(M,A){var U=A[0],J=[[],[]];U+=8;var $=31&M.getUint8(U);U+=2;for(var Ee=0;Ee<$;Ee++){var Je=M.getUint8(U),oe=4&Je,Ce=3&Je;U++;var He=M.getUint8(U);U++;var Le=M.getUint8(U);U++,oe&&(127&He)+(127&Le)!=0&&(Ce===0?(J[0].push(He),J[0].push(Le)):Ce===1&&(J[1].push(He),J[1].push(Le)))}return J}})(we)},8416:function(tt,we,O){var ie=O(7688),S=O(5448),t=O(6398),e=O(2032),y=(O(5530),typeof window<"u"&&window||O.g),p=y.dashjs;p||(p=y.dashjs={}),p.MediaPlayer=ie.Z,p.FactoryMaker=S.Z,p.Debug=t.Z,p.Version=(0,e.e)()},6398:function(tt,we,O){var ie=O(5595),S=O(8512),t=O(5448),e=1,y=2,p=3,u=4,g=5;function E(l){l=l||{};var d,D,Z,k,F=this.context,ee=(0,ie.Z)(F).getInstance(),M=l.settings,A=[];function U(He){return He&&He.bind?He.bind(window.console):window.console.log.bind(window.console)}function J(){for(var He=arguments.length,Le=new Array(He),ve=0;ve<He;ve++)Le[ve]=arguments[ve];Ce.apply(void 0,[e,this].concat(Le))}function $(){for(var He=arguments.length,Le=new Array(He),ve=0;ve<He;ve++)Le[ve]=arguments[ve];Ce.apply(void 0,[y,this].concat(Le))}function Ee(){for(var He=arguments.length,Le=new Array(He),ve=0;ve<He;ve++)Le[ve]=arguments[ve];Ce.apply(void 0,[p,this].concat(Le))}function Je(){for(var He=arguments.length,Le=new Array(He),ve=0;ve<He;ve++)Le[ve]=arguments[ve];Ce.apply(void 0,[u,this].concat(Le))}function oe(){for(var He=arguments.length,Le=new Array(He),ve=0;ve<He;ve++)Le[ve]=arguments[ve];Ce.apply(void 0,[g,this].concat(Le))}function Ce(He,Le){var ve="",Ue=null;D&&(Ue=new Date().getTime(),ve+="["+(Ue-k)+"]"),Z&&Le&&Le.getClassName&&(ve+="["+Le.getClassName()+"]",Le.getType&&(ve+="["+Le.getType()+"]")),ve.length>0&&(ve+=" ");for(var Be=arguments.length,ct=new Array(Be>2?Be-2:0),_e=2;_e<Be;_e++)ct[_e-2]=arguments[_e];Array.apply(null,ct).forEach(function(Ge){ve+=Ge+" "}),A[He]&&M&&M.get().debug.logLevel>=He&&A[He](ve),M&&M.get().debug.dispatchEvent&&ee.trigger(S.Z.LOG,{message:ve,level:He})}return d={getLogger:function(He){return{fatal:J.bind(He),error:$.bind(He),warn:Ee.bind(He),info:Je.bind(He),debug:oe.bind(He)}},setLogTimestampVisible:function(He){D=He},setCalleeNameVisible:function(He){Z=He}},D=!0,Z=!0,k=new Date().getTime(),typeof window<"u"&&window.console&&(A[e]=U(window.console.error),A[y]=U(window.console.error),A[p]=U(window.console.warn),A[u]=U(window.console.info),A[g]=U(window.console.debug)),d}E.__dashjs_factory_name="Debug";var n=t.Z.getSingletonFactory(E);n.LOG_LEVEL_NONE=0,n.LOG_LEVEL_FATAL=e,n.LOG_LEVEL_ERROR=y,n.LOG_LEVEL_WARNING=p,n.LOG_LEVEL_INFO=u,n.LOG_LEVEL_DEBUG=g,t.Z.updateSingletonFactory(E.__dashjs_factory_name,n),we.Z=n},5595:function(tt,we,O){var ie=O(5448),S=O(8825);function t(){var y={};function p(g,E,n){var l=-1;return y[g]&&y[g].some(function(d,D){if(d&&d.callback===E&&(!n||n===d.scope))return l=D,!0}),l}var u={on:function(g,E,n){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!g)throw new Error("event type cannot be null or undefined");if(!E||typeof E!="function")throw new Error("listener must be a function: "+E);var d=l.priority||0;if(!(p(g,E,n)>=0)){y[g]=y[g]||[];var D={callback:E,scope:n,priority:d};n&&n.getStreamId&&(D.streamId=n.getStreamId()),n&&n.getType&&(D.mediaType=n.getType()),l&&l.mode&&(D.mode=l.mode);var Z=y[g].some(function(k,F){if(k&&d>k.priority)return y[g].splice(F,0,D),!0});Z||y[g].push(D)}},off:function(g,E,n){if(g&&E&&y[g]){var l=p(g,E,n);l<0||(y[g][l]=null)}},trigger:function(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(g&&y[g]){if((E=E||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");E.type=g,n.streamId&&(E.streamId=n.streamId),n.mediaType&&(E.mediaType=n.mediaType),y[g].filter(function(l){return!(!l||n.streamId&&l.streamId&&l.streamId!==n.streamId||n.mediaType&&l.mediaType&&l.mediaType!==n.mediaType||n.mode&&l.mode&&l.mode!==n.mode||!l.mode&&n.mode&&n.mode===S.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(l){return l&&l.callback.call(l.scope,E)})}},reset:function(){y={}}};return u}t.__dashjs_factory_name="EventBus";var e=ie.Z.getSingletonFactory(t);e.EVENT_PRIORITY_LOW=0,e.EVENT_PRIORITY_HIGH=5e3,ie.Z.updateSingletonFactory(t.__dashjs_factory_name,e),we.Z=e},5448:function(tt,we){var O=function(){var ie,S=[],t={},e={};function y(E,n){for(var l in S){var d=S[l];if(d.context===E&&d.name===n)return d.instance}return null}function p(E,n){return n[E]}function u(E,n,l){E in l&&(l[E]=n)}function g(E,n,l){var d,D=E.__dashjs_factory_name,Z=n[D];if(Z){var k=Z.instance;if(!Z.override)return k.apply({context:n,factory:ie},l);for(var F in d=E.apply({context:n},l),k=k.apply({context:n,factory:ie,parent:d},l))d.hasOwnProperty(F)&&(d[F]=k[F])}else d=E.apply({context:n},l);return d.getClassName=function(){return D},d}return ie={extend:function(E,n,l,d){!d[E]&&n&&(d[E]={instance:n,override:l})},getSingletonInstance:y,setSingletonInstance:function(E,n,l){for(var d in S){var D=S[d];if(D.context===E&&D.name===n)return void(S[d].instance=l)}S.push({name:n,context:E,instance:l})},deleteSingletonInstances:function(E){S=S.filter(function(n){return n.context!==E})},getSingletonFactory:function(E){var n=p(E.__dashjs_factory_name,t);return n||(n=function(l){var d;return l===void 0&&(l={}),{getInstance:function(){return d||(d=y(l,E.__dashjs_factory_name)),d||(d=g(E,l,arguments),S.push({name:E.__dashjs_factory_name,context:l,instance:d})),d}}},t[E.__dashjs_factory_name]=n),n},getSingletonFactoryByName:function(E){return p(E,t)},updateSingletonFactory:function(E,n){u(E,n,t)},getClassFactory:function(E){var n=p(E.__dashjs_factory_name,e);return n||(n=function(l){return l===void 0&&(l={}),{create:function(){return g(E,l,arguments)}}},e[E.__dashjs_factory_name]=n),n},getClassFactoryByName:function(E){return p(E,e)},updateClassFactory:function(E,n){u(E,n,e)}},ie}();we.Z=O},1264:function(tt,we,O){var ie=O(5448),S=O(703),t=O(6398),e=O(3393),y=O(7855),p=O(5595),u=O(8512);function g(d){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},g(d)}function E(d,D,Z){return D in d?Object.defineProperty(d,D,{value:Z,enumerable:!0,configurable:!0,writable:!0}):d[D]=Z,d}function n(){var d,D,Z=this.context,k=(0,p.Z)(Z).getInstance(),F={"streaming.delay.liveDelay":u.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":u.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},ee={debug:{logLevel:t.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:e.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:e.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:e.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:e.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:(d={},E(d,y.w.MPD_TYPE,500),E(d,y.w.XLINK_EXPANSION_TYPE,500),E(d,y.w.MEDIA_SEGMENT_TYPE,1e3),E(d,y.w.INIT_SEGMENT_TYPE,1e3),E(d,y.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),E(d,y.w.INDEX_SEGMENT_TYPE,1e3),E(d,y.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),E(d,y.w.LICENSE,1e3),E(d,y.w.OTHER_TYPE,1e3),E(d,"lowLatencyReductionFactor",10),d),retryAttempts:(D={},E(D,y.w.MPD_TYPE,3),E(D,y.w.XLINK_EXPANSION_TYPE,1),E(D,y.w.MEDIA_SEGMENT_TYPE,3),E(D,y.w.INIT_SEGMENT_TYPE,3),E(D,y.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),E(D,y.w.INDEX_SEGMENT_TYPE,3),E(D,y.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),E(D,y.w.LICENSE,3),E(D,y.w.OTHER_TYPE,3),E(D,"lowLatencyMultiplyFactor",5),D),abr:{movingAverageMethod:e.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:e.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:e.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:e.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},M=S.Z.clone(ee);function A(U,J,$){for(var Ee in U)U.hasOwnProperty(Ee)&&(J.hasOwnProperty(Ee)?g(U[Ee])!=="object"||U[Ee]instanceof Array||U[Ee]===null?(J[Ee]=S.Z.clone(U[Ee]),F[$+Ee]&&k.trigger(F[$+Ee])):A(U[Ee],J[Ee],$.slice()+Ee+"."):console.error("Settings parameter "+$+Ee+" is not supported"))}return{get:function(){return M},update:function(U){g(U)==="object"&&A(U,M,"")},reset:function(){M=S.Z.clone(ee)}}}n.__dashjs_factory_name="Settings";var l=ie.Z.getSingletonFactory(n);we.Z=l},703:function(tt,we,O){var ie=O(3875),S=O.n(ie),t=O(1067);function e(u){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},e(u)}function y(u,g){for(var E=0;E<g.length;E++){var n=g[E];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}var p=function(){function u(){(function(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u)}var g,E;return g=u,E=[{key:"mixin",value:function(n,l,d){var D,Z={};if(n)for(var k in l)l.hasOwnProperty(k)&&(D=l[k],k in n&&(n[k]===D||k in Z&&Z[k]===D)||(e(n[k])==="object"&&n[k]!==null?n[k]=u.mixin(n[k],D,d):n[k]=d(D)));return n}},{key:"clone",value:function(n){if(!n||e(n)!=="object")return n;var l;if(n instanceof Array){l=[];for(var d=0,D=n.length;d<D;++d)d in n&&l.push(u.clone(n[d]))}else l={};return u.mixin(l,n,u.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(n,l){try{if(!l||l.length===0)return n;var d=new URL(n);return l.forEach(function(D){D.key&&D.value&&d.searchParams.set(D.key,D.value)}),d.href}catch{return n}}},{key:"parseHttpHeaders",value:function(n){var l={};if(!n)return l;for(var d=n.trim().split(`\r
`),D=0,Z=d.length;D<Z;D++){var k=d[D],F=k.indexOf(": ");F>0&&(l[k.substring(0,F)]=k.substring(F+2))}return l}},{key:"generateUuid",value:function(){var n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var d=(n+16*Math.random())%16|0;return n=Math.floor(n/16),(l=="x"?d:3&d|8).toString(16)})}},{key:"generateHashCode",value:function(n){var l=0;if(n.length===0)return l;for(var d=0;d<n.length;d++)l=(l<<5)-l+n.charCodeAt(d),l|=0;return l}},{key:"getRelativeUrl",value:function(n,l){try{var d=new URL(n),D=new URL(l);if(d.protocol=D.protocol,d.origin!==D.origin)return l;var Z=S().relative(d.pathname.substr(0,d.pathname.lastIndexOf("/")),D.pathname.substr(0,D.pathname.lastIndexOf("/"))),k=Z.length===0?1:0;return Z+=D.pathname.substr(D.pathname.lastIndexOf("/")+k,D.pathname.length-1),D.pathname.length<Z.length?D.pathname:Z}catch{return l}}},{key:"parseUserAgent",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var l=n===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,t.UAParser)(l)}catch{return{}}}},{key:"stringHasProtocol",value:function(n){return/(http(s?)):\/\//i.test(n)}}],E&&y(g,E),u}();we.Z=p},2032:function(tt,we,O){function ie(){return"4.7.2"}O.d(we,{e:function(){return ie}})},2230:function(tt,we){function O(S,t){for(var e=0;e<t.length;e++){var y=t[e];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}var ie=function(){function S(){(function(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")})(this,S)}var t,e;return t=S,(e=[{key:"extend",value:function(y,p){if(y){var u=!!p&&p.override,g=!!p&&p.publicOnly;for(var E in y)!y.hasOwnProperty(E)||this[E]&&!u||g&&y[E].indexOf("public_")===-1||(this[E]=y[E])}}}])&&O(t.prototype,e),S}();we.Z=ie},4351:function(tt,we,O){function ie(p){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ie(p)}function S(p,u){return S=Object.setPrototypeOf||function(g,E){return g.__proto__=E,g},S(p,u)}function t(p,u){return!u||ie(u)!=="object"&&typeof u!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(p):u}function e(p){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},e(p)}var y=function(p){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),d&&S(l,d)})(n,p);var u,g,E=(u=n,g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=e(u);if(g){var D=e(this).constructor;l=Reflect.construct(d,arguments,D)}else l=d.apply(this,arguments);return t(this,l)});function n(){var l;return function(d,D){if(!(d instanceof D))throw new TypeError("Cannot call a class as a function")}(this,n),(l=E.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",l.BUFFERING_COMPLETED="bufferingCompleted",l.BUFFER_CLEARED="bufferCleared",l.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",l.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",l.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",l.CMSD_STATIC_HEADER="cmsdStaticHeader",l.CURRENT_TRACK_CHANGED="currentTrackChanged",l.DATA_UPDATE_COMPLETED="dataUpdateCompleted",l.INBAND_EVENTS="inbandEvents",l.INITIAL_STREAM_SWITCH="initialStreamSwitch",l.INIT_FRAGMENT_LOADED="initFragmentLoaded",l.INIT_FRAGMENT_NEEDED="initFragmentNeeded",l.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",l.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",l.LOADING_COMPLETED="loadingCompleted",l.LOADING_PROGRESS="loadingProgress",l.LOADING_DATA_PROGRESS="loadingDataProgress",l.LOADING_ABANDONED="loadingAborted",l.MANIFEST_UPDATED="manifestUpdated",l.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",l.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",l.QUOTA_EXCEEDED="quotaExceeded",l.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",l.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",l.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",l.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",l.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",l.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",l.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",l.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",l.SOURCE_BUFFER_ERROR="sourceBufferError",l.STREAMS_COMPOSED="streamsComposed",l.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",l.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",l.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",l.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",l.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",l.URL_RESOLUTION_FAILED="urlResolutionFailed",l.VIDEO_CHUNK_RECEIVED="videoChunkReceived",l.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",l.XLINK_ELEMENT_LOADED="xlinkElementLoaded",l.XLINK_READY="xlinkReady",l.SEEK_TARGET="seekTarget",l.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",l.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",l.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",l.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",l.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",l}return n}(O(8342).Z);we.Z=y},8512:function(tt,we,O){function ie(g){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},ie(g)}function S(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function t(g,E){return t=Object.setPrototypeOf||function(n,l){return n.__proto__=l,n},t(g,E)}function e(g,E){return!E||ie(E)!=="object"&&typeof E!="function"?function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(g):E}function y(g){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},y(g)}var p=function(g){(function(D,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(Z&&Z.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Z&&t(D,Z)})(d,g);var E,n,l=(E=d,n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var D,Z=y(E);if(n){var k=y(this).constructor;D=Reflect.construct(Z,arguments,k)}else D=Z.apply(this,arguments);return e(this,D)});function d(){return S(this,d),l.apply(this,arguments)}return d}(O(4351).Z),u=new p;we.Z=u},8342:function(tt,we){function O(S,t){for(var e=0;e<t.length;e++){var y=t[e];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}var ie=function(){function S(){(function(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")})(this,S)}var t,e;return t=S,(e=[{key:"extend",value:function(y,p){if(y){var u=!!p&&p.override,g=!!p&&p.publicOnly;for(var E in y)!y.hasOwnProperty(E)||this[E]&&!u||g&&y[E].indexOf("public_")===-1||(this[E]=y[E])}}}])&&O(t.prototype,e),S}();we.Z=ie},9326:function(tt,we,O){var ie=O(3186),S=O(7855),t=O(5448),e=O(8825),y=O(7387),p=O(1553);function u(g){var E,n,l,d,D,Z=(g=g||{}).eventBus,k=g.debug,F=g.urlUtils,ee=g.type,M=g.streamInfo,A=g.segmentsController,U=g.timelineConverter,J=g.baseURLController;function $(){return ee}function Ee(){l=null}function Je(Le,ve,Ue){var Be,ct,_e=J.resolve(Ue.path),Ge={};return _e&&ve!==_e.url&&F.isRelative(ve)?(Be=_e.url,ct=_e.serviceLocation,Ge=_e.queryParams,ve&&(Be=F.resolve(ve,Be))):Be=ve,!F.isRelative(Be)&&(Le.url=Be,Le.serviceLocation=ct,Le.queryParams=Ge,!0)}function oe(Le,ve){if(ve==null)return null;var Ue=new ie.Z,Be=ve.representation,ct=Be.adaptation.period.mpd.manifest.Period_asArray[Be.adaptation.period.index].AdaptationSet_asArray[Be.adaptation.index].Representation_asArray[Be.index].bandwidth,_e=ve.media;return _e=(0,y.vi)(_e,"Number",ve.replacementNumber),_e=(0,y.vi)(_e,"Time",ve.replacementTime),_e=(0,y.vi)(_e,"Bandwidth",ct),_e=(0,y.Aj)(_e,Be.id),_e=(0,y.eR)(_e),Ue.mediaType=$(),Ue.type=S.w.MEDIA_SEGMENT_TYPE,Ue.range=ve.mediaRange,Ue.startTime=ve.presentationStartTime,Ue.mediaStartTime=ve.mediaStartTime,Ue.duration=ve.duration,Ue.timescale=Be.timescale,Ue.availabilityStartTime=ve.availabilityStartTime,Ue.availabilityEndTime=ve.availabilityEndTime,Ue.availabilityTimeComplete=Be.availabilityTimeComplete,Ue.wallStartTime=ve.wallStartTime,Ue.quality=Be.index,Ue.index=ve.index,Ue.mediaInfo=Le,Ue.adaptationIndex=Be.adaptation.index,Ue.representationId=Be.id,Je(Ue,_e,Be)?Ue:void 0}function Ce(Le,ve,Ue){var Be=null;if(!ve||!ve.segmentInfoType)return Be;var ct=A.getSegmentByTime(ve,Ue);return ct&&(l=ct,n.debug("Index for time "+Ue+" is "+ct.index),Be=oe(Le,ct)),Be}function He(){n.debug("Dynamic stream complete"),D=!0}return E={initialize:function(Le){d=Le,D=!1,A.initialize(Le)},getStreamId:function(){return M.id},getType:$,getStreamInfo:function(){return M},getInitRequest:function(Le,ve){return ve?function(Ue,Be,ct){var _e=new ie.Z,Ge=Be.adaptation.period,vt=Ge.start;if(_e.mediaType=ct,_e.type=S.w.INIT_SEGMENT_TYPE,_e.range=Be.range,_e.availabilityStartTime=U.calcAvailabilityStartTimeFromPresentationTime(vt,Be,d),_e.availabilityEndTime=U.calcAvailabilityEndTimeFromPresentationTime(vt+Ge.duration,Be,d),_e.quality=Be.index,_e.mediaInfo=Ue,_e.representationId=Be.id,Je(_e,Be.initialization,Be))return _e.url=(0,y.vi)(_e.url,"Bandwidth",Be.bandwidth),_e}(Le,ve,$()):null},getSegmentRequestForTime:Ce,getCurrentIndex:function(){return l?l.index:-1},getNextSegmentRequest:function(Le,ve){var Ue=null;if(!ve||!ve.segmentInfoType)return null;var Be=l?l.index+1:0,ct=A.getSegmentByIndex(ve,Be,l?l.mediaStartTime:-1);if(ct)Ue=oe(Le,ct),l=ct;else{if(d&&!D)return n.debug($()+" No segment found at index: "+Be+". Wait for next loop"),null;D=!0}return Ue},isLastSegmentRequested:function(Le,ve){return!Le||!l?!1:D?!0:!isFinite(Le.adaptation.period.duration)||l.presentationStartTime+l.duration>ve?!1:Le.mediaFinishedInformation&&!isNaN(Le.mediaFinishedInformation.numberOfSegments)&&!isNaN(l.index)&&l.index>=Le.mediaFinishedInformation.numberOfSegments-1&&(!d||Le.segmentInfoType===p.Z.SEGMENT_TEMPLATE||d&&Le.segmentInfoType===p.Z.SEGMENT_LIST&&Le.adaptation.period.nextPeriodId)?!0:!!(d&&Le.adaptation.period.nextPeriodId&&Le.segmentInfoType===p.Z.SEGMENT_TIMELINE&&Le.mediaFinishedInformation&&!isNaN(Le.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&l&&!isNaN(l.mediaStartTime)&&!isNaN(l.duration)&&l.mediaStartTime+l.duration>=Le.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function(){Ee(),Z.off(e.Z.DYNAMIC_TO_STATIC,He,E)},getNextSegmentRequestIdempotent:function(Le,ve){var Ue=l?l.index+1:0,Be=A.getSegmentByIndex(ve,Ue,l?l.mediaStartTime:-1);return Be?oe(Le,Be):null},getValidTimeAheadOfTargetTime:function(Le,ve,Ue,Be){try{if(isNaN(Le)||!ve||!Ue)return NaN;if(Le<0&&(Le=0),isNaN(Be)&&(Be=.5),Ce(ve,Ue,Le))return Le;if(Ue.adaptation.period.start+Ue.adaptation.period.duration<Le)return NaN;for(var ct=isFinite(Ue.adaptation.period.duration)?Ue.adaptation.period.start+Ue.adaptation.period.duration:Le+30,_e=Math.min(Le+Be,ct),Ge=NaN,vt=null;_e<=ct;){var ft=null;if(_e<=ct&&(ft=Ce(ve,Ue,_e)),ft){Ge=_e,vt=ft;break}_e+=Be}if(vt){var qe=vt.startTime+vt.duration;return Le>vt.startTime&&qe-Le>Be?Le:!isNaN(vt.startTime)&&Le<vt.startTime&&Ge>vt.startTime?vt.startTime+.001:Math.min(qe-Be,Ge)}return Ge}catch{return NaN}}},n=k.getLogger(E),Ee(),Z.on(e.Z.DYNAMIC_TO_STATIC,He,E),E}u.__dashjs_factory_name="DashHandler",we.Z=t.Z.getClassFactory(u)},1553:function(tt,we){function O(S,t){for(var e=0;e<t.length;e++){var y=t[e];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}var ie=new(function(){function S(){(function(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")})(this,S),this.init()}var t,e;return t=S,(e=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.SUPPLEMENTAL_PROPERTY_ASARRAY="SupplementalProperty_asArray",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.INBAND="inband",this.TYPE="type",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.VIEWPOINT_ASARRAY="Viewpoint_asArray",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PATCH_LOCATION_AS_ARRAY="PatchLocation_asArray",this.LOCATION="Location",this.LOCATION_AS_ARRAY="Location_asArray",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.CLIENT_REQUIREMENT="clientRequirement",this.TTL="ttl",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},this.PRODUCER_REFERENCE_TIME_TYPE={ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},this.SEGMENT_ALIGNMENT="segmentAlignment",this.SUB_SEGMENT_ALIGNMENT="subsegmentAlignment"}}])&&O(t.prototype,e),S}());we.Z=ie},7802:function(tt,we,O){var ie=O(5448),S=O(1724),t=O(3636),e=O(1736),y=O(5246);function p(g){g=g||{};var E,n,l=this.context,d=g.dashConstants,D=g.type,Z=g.segmentBaseController;function k(F){return F?F.segments?n[d.SEGMENT_BASE]:n[F.segmentInfoType]:null}return E={initialize:function(F){n[d.SEGMENT_TIMELINE]=(0,S.Z)(l).create(g,F),n[d.SEGMENT_TEMPLATE]=(0,t.Z)(l).create(g,F),n[d.SEGMENT_LIST]=(0,e.Z)(l).create(g,F),n[d.SEGMENT_BASE]=(0,y.Z)(l).create(g,F)},updateInitData:function(F,ee){return ee?Promise.resolve():Z.getSegmentBaseInitSegment({representation:F,mediaType:D})},updateSegmentData:function(F,ee){return ee?Promise.resolve():Z.getSegmentList({mimeType:F.mimeType,representation:F,mediaType:D})},getSegmentByIndex:function(F,ee,M){var A=k(F);return A?A.getSegmentByIndex(F,ee,M):null},getSegmentByTime:function(F,ee){var M=k(F);return M?M.getSegmentByTime(F,ee):null},getMediaFinishedInformation:function(F){var ee=k(F);return ee?ee.getMediaFinishedInformation(F):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},n={},E}p.__dashjs_factory_name="SegmentsController";var u=ie.Z.getClassFactory(p);we.Z=u},1736:function(tt,we,O){var ie=O(5448),S=O(3393),t=O(7387);function e(p,u){var g=(p=p||{}).timelineConverter;function E(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function n(l,d){if(E(),!l)return null;var D=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentList,Z=D.SegmentURL_asArray.length,k=l&&!isNaN(l.startNumber)?l.startNumber:1,F=Math.max(k-1,0),ee=Math.max(d-F,0),M=null;if(ee<Z){var A=D.SegmentURL_asArray[ee];(M=(0,t.NF)(g,u,l,d))&&(M.replacementTime=(k+d-1)*l.segmentDuration,M.media=A.media?A.media:"",M.mediaRange=A.mediaRange,M.indexRange=A.indexRange)}return M}return{getSegmentByIndex:n,getSegmentByTime:function(l,d){if(E(),!l)return null;var D=l.segmentDuration;if(isNaN(D))return null;var Z=g.calcPeriodRelativeTimeFromMpdRelativeTime(l,d);return n(l,Math.floor(Z/D))},getMediaFinishedInformation:function(l){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!l)return d;var D=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentList,Z=l&&!isNaN(l.startNumber)?l.startNumber:1,k=Math.max(Z-1,0);return d.numberOfSegments=k+D.SegmentURL_asArray.length,d}}}e.__dashjs_factory_name="ListSegmentsGetter";var y=ie.Z.getClassFactory(e);we.Z=y},5246:function(tt,we,O){var ie=O(5448),S=O(3393);function t(y){var p=(y=y||{}).timelineConverter;function u(){if(!p||!p.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function g(E,n){if(u(),!E)return null;var l,d=E.segments?E.segments.length:-1;if(n<d&&(l=E.segments[n])&&l.index===n)return l;for(var D=0;D<d;D++)if((l=E.segments[D])&&l.index===n)return l;return null}return{getSegmentByIndex:g,getSegmentByTime:function(E,n){u();var l=function(d,D){if(!d)return-1;var Z,k,F,ee,M,A=d.segments,U=A?A.length:null,J=-1;if(A&&U>0){for(M=0;M<U;M++)if(F=(k=A[M]).presentationStartTime,D+(Z=(ee=k.duration)/2)>=F&&D-Z<F+ee){J=k.index;break}}return J}(E,n);return g(E,l)},getMediaFinishedInformation:function(E){var n={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return E&&E.segments&&(n.numberOfSegments=E.segments.length),n}}}t.__dashjs_factory_name="SegmentBaseGetter";var e=ie.Z.getClassFactory(t);we.Z=e},7387:function(tt,we,O){O.d(we,{Aj:function(){return e},NF:function(){return g},TJ:function(){return E},eR:function(){return t},vi:function(){return y}});var ie=O(2011);function S(n,l){for(;n.length<l;)n="0"+n;return n}function t(n){return n&&n.split("$$").join("$")}function e(n,l){if(!l||!n||n.indexOf("$RepresentationID$")===-1)return n;var d=l.toString();return n.split("$RepresentationID$").join(d)}function y(n,l,d){var D,Z,k,F,ee,M,A=l.length,U=2;if(!n)return n;for(;;){if((D=n.indexOf("$"+l))<0||(Z=n.indexOf("$",D+A))<0)return n;if((k=n.indexOf("%0",D+A))>D&&k<Z)switch(F=n.charAt(Z-1),ee=parseInt(n.substring(k+U,Z-1),10),F){case"d":case"i":case"u":M=S(d.toString(),ee);break;case"x":M=S(d.toString(16),ee);break;case"X":M=S(d.toString(16),ee).toUpperCase();break;case"o":M=S(d.toString(8),ee);break;default:return n}else M=d;n=n.substring(0,D)+M+n.substring(Z+1)}}function p(n,l,d,D,Z,k,F,ee){var M,A=new ie.Z;return A.representation=n,A.duration=l,A.presentationStartTime=d,A.mediaStartTime=D,A.availabilityStartTime=Z.calcAvailabilityStartTimeFromPresentationTime(k,n,F),A.availabilityEndTime=Z.calcAvailabilityEndTimeFromPresentationTime(k+l,n,F),A.wallStartTime=Z.calcWallTimeForSegment(A,F),A.replacementNumber=(M=ee,A.representation.startNumber+M),A.index=ee,A}function u(n,l,d,D){var Z=l.adaptation.period;if(isFinite(Z.duration)&&Z.start+Z.duration<=d.presentationStartTime)return!1;if(D){if(l.availabilityTimeOffset==="INF")return!0;var k=n.getClientReferenceTime();return d.availabilityStartTime.getTime()<=k&&(!isFinite(d.availabilityEndTime)||d.availabilityEndTime.getTime()>=k)}return!0}function g(n,l,d,D){var Z,k,F;Z=d.segmentDuration,isNaN(Z)&&(Z=d.adaptation.period.duration),k=parseFloat((d.adaptation.period.start+D*Z).toFixed(5)),F=parseFloat((k+Z).toFixed(5));var ee=p(d,Z,k,n.calcMediaTimeFromPresentationTime(k,d),n,F,l,D);return u(n,d,ee,l)?ee:null}function E(n,l,d,D,Z,k,F,ee,M,A){var U,J,$=D/k,Ee=Z/k;return U=n.calcPresentationTimeFromMediaTime($,d),u(n,d,J=p(d,Ee,U,$,n,U+Ee,l,M),l)?(J.replacementTime=A||D,F=y(F,"Number",J.replacementNumber),F=y(F,"Time",J.replacementTime),J.media=F,J.mediaRange=ee,J):null}},3636:function(tt,we,O){var ie=O(5448),S=O(3393),t=O(7387);function e(p,u){var g=(p=p||{}).timelineConverter;function E(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function n(l,d){if(E(),!l)return null;var D=l.adaptation.period.mpd.manifest.Period_asArray[l.adaptation.period.index].AdaptationSet_asArray[l.adaptation.index].Representation_asArray[l.index].SegmentTemplate;d=Math.max(d,0);var Z=(0,t.NF)(g,u,l,d);if(Z){Z.replacementTime=Math.round((d-1)*l.segmentDuration*l.timescale,10);var k=D.media;k=(0,t.vi)(k,"Number",Z.replacementNumber),k=(0,t.vi)(k,"Time",Z.replacementTime),Z.media=k}return Z}return{getSegmentByIndex:n,getSegmentByTime:function(l,d){if(E(),!l)return null;var D=l.segmentDuration;if(isNaN(D))return null;var Z=g.calcPeriodRelativeTimeFromMpdRelativeTime(l,d);return n(l,Math.floor(Z/D))},getMediaFinishedInformation:function(l){var d={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!l)return d;var D=l.segmentDuration;return isNaN(D)?d.numberOfSegments=1:d.numberOfSegments=Math.ceil(l.adaptation.period.duration/D),d}}}e.__dashjs_factory_name="TemplateSegmentsGetter";var y=ie.Z.getClassFactory(e);we.Z=y},1724:function(tt,we,O){var ie=O(5448),S=O(3393),t=O(7387);function e(p,u){var g=(p=p||{}).timelineConverter,E=p.dashMetrics;function n(){if(!g)throw new Error(S.Z.MISSING_CONFIG_ERROR)}function l(D,Z){var k,F,ee,M,A,U,J,$=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,Ee=$.SegmentTimeline,Je=$.SegmentURL_asArray,oe=0,Ce=-1;J=D.timescale;var He=!1;for(ee=0,M=(k=Ee.S_asArray).length;ee<M&&!He;ee++)for(U=0,(F=k[ee]).hasOwnProperty("r")&&(U=F.r),F.hasOwnProperty("t")&&(oe=F.t),U<0&&(U=d(D,k[ee+1],F,J,oe/J)),A=0;A<=U&&!He;A++)(He=Z(oe,$,Je,F,J,++Ce,ee))&&(D.segmentDuration=F.d/J),oe+=F.d}function d(D,Z,k,F,ee){var M;if(Z&&Z.hasOwnProperty("t"))M=Z.t/F;else try{var A=0;if(isNaN(D.adaptation.period.start)||isNaN(D.adaptation.period.duration)||!isFinite(D.adaptation.period.duration)){var U=E.getCurrentDVRInfo();A=isNaN(U.end)?0:U.end}else A=D.adaptation.period.start+D.adaptation.period.duration;M=g.calcMediaTimeFromPresentationTime(A,D),D.segmentDuration=k.d/F}catch{M=0}return Math.max(Math.ceil((M-ee)/(k.d/F))-1,0)}return{getSegmentByIndex:function(D,Z,k){if(n(),!D)return null;var F=null,ee=!1;return l(D,function(M,A,U,J,$,Ee,Je){if(ee||k<0){var oe=A.media,Ce=J.mediaRange;return U&&(oe=U[Je].media||"",Ce=U[Je].mediaRange),F=(0,t.TJ)(g,u,D,M,J.d,$,oe,Ce,Ee,J.tManifest),!0}return M>=k*$-.5*J.d&&(ee=!0),!1}),F},getSegmentByTime:function(D,Z){if(n(),!D)return null;Z===void 0&&(Z=null);var k=null,F=g.calcMediaTimeFromPresentationTime(Z,D);return l(D,function(ee,M,A,U,J,$,Ee){var Je=parseFloat((F*J).toPrecision(15));if(Je<ee+U.d&&Je>=ee){var oe=M.media,Ce=U.mediaRange;return A&&(oe=A[Ee].media||"",Ce=A[Ee].mediaRange),k=(0,t.TJ)(g,u,D,ee,U.d,J,oe,Ce,$,U.tManifest),!0}return!1}),k},getMediaFinishedInformation:function(D){if(!D)return 0;var Z,k,F,ee,M,A,U,J=(D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList).SegmentTimeline,$=0,Ee=0,Je=0;for(U=D.timescale,ee=(Z=J.S_asArray).length,F=0;F<ee;F++)for(A=0,(k=Z[F]).hasOwnProperty("r")&&(A=k.r),k.hasOwnProperty("t")&&(Ee=($=k.t)/U),A<0&&(A=d(D,Z[F+1],k,U,Ee)),M=0;M<=A;M++)Je++,Ee=($+=k.d)/U;return{numberOfSegments:Je,mediaTimeOfLastSignaledSegment:Ee}}}}e.__dashjs_factory_name="TimelineSegmentsGetter";var y=ie.Z.getClassFactory(e);we.Z=y},2011:function(tt,we){we.Z=function O(){(function(ie,S){if(!(ie instanceof S))throw new TypeError("Cannot call a class as a function")})(this,O),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:function(tt,we){we.Z=function O(){(function(ie,S){if(!(ie instanceof S))throw new TypeError("Cannot call a class as a function")})(this,O),this.schemeIdUri="",this.value=""}},7688:function(tt,we,O){O.d(we,{Z:function(){return tu}});var ie=O(452),S=O.n(ie),t=O(3393),e=O(1553),y=O(3860),p=O(5595),u=O(8512),g=O(5448),E=O(6398),n=O(8825);function l(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue,X,re,m,x,L=this.context,N=(0,p.Z)(L).getInstance();function R(){Q(),q=!1,H=0,B=0,ne=0,re=!1,se=!0,ce=!1,m=!1,Y=NaN,h&&(N.off(u.Z.DATA_UPDATE_COMPLETED,me,o),N.off(u.Z.LOADING_PROGRESS,Zt,o),N.off(u.Z.MANIFEST_UPDATED,ht,o),N.off(u.Z.STREAMS_COMPOSED,je,o),N.off(n.Z.PLAYBACK_ENDED,cn,o),N.off(n.Z.STREAM_INITIALIZING,kt,o),N.off(n.Z.REPRESENTATION_SWITCH,ze,o),N.off(n.Z.BUFFER_LEVEL_STATE_CHANGED,xe,o),ke(),h.removeEventListener("canplay",pe),h.removeEventListener("canplaythrough",De),h.removeEventListener("play",Ze),h.removeEventListener("waiting",mt),h.removeEventListener("playing",dt),h.removeEventListener("pause",Pt),h.removeEventListener("error",lt),h.removeEventListener("seeking",zt),h.removeEventListener("seeked",Yt),h.removeEventListener("timeupdate",jt),h.removeEventListener("progress",Vt),h.removeEventListener("ratechange",Wt),h.removeEventListener("loadedmetadata",Qt),h.removeEventListener("loadeddata",en),h.removeEventListener("stalled",Gt),h.removeEventListener("ended",fn),h.removeEventListener("volumechange",on)),G=null,h=null,C=null,j=null}function z(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((K(Re)-Pe()).toFixed(5))}function K(Re){var ae=Re||C;return ae.start+ae.duration}function te(){var Re=arguments.length>0&&arguments[0]!==void 0&&arguments[0];C&&h&&h.getElement()?(Re&&j&&ye(Pe()),h.play()):q=!0}function Q(){C&&h&&h.pause()}function P(Re){var ae=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Fe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(C&&h&&h.getElement()){var Rt=isNaN(Y)?h.getTime():Y;Re!==Rt&&((ue=Fe===!0)||(Y=Re),r.info("Requesting seek to time: "+Re+(ue?" (internal)":"")),j&&at&&ye(Re),h.setCurrentTime(Re,ae))}}function le(){if(C&&h&&j){var Re=c&&c.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,ae=I.getCurrentDVRInfo(Re);return ae&&ae.range?ae.range.end:0}}function ye(Re){var ae=new Date(w.getClientReferenceTime()),Fe=b.getRegularPeriods()[0],at=w.calcPresentationTimeFromWallTime(ae,Fe);H=at-Re}function Pe(){return C&&h?h.getTime():null}function be(){return C&&h?h.isPaused():null}function Ae(){return C&&h?h.isSeeking():null}function Ie(){return C&&h?h.isStalled():null}function st(){return C&&h?h.getPlaybackRate():null}function ut(){return C&&h?h.getEnded():null}function rt(){return j}function nt(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!be()&&j&&h.getReadyState()!==0&&!Ae()&&!re){Re||(Re=c.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO);var ae=Pe(),Fe=Ot(ae,Re),at=!isNaN(Fe)&&Fe!==ae;at&&!Ae()&&(Ie()||X||h.getReadyState()===1)&&(r.debug("UpdateCurrentTime: Seek to actual time: ".concat(Fe," from currentTime: ").concat(ae)),P(Fe,!1,!1))}}function Ot(Re,ae){var Fe=I.getCurrentDVRInfo(ae),at=Fe?Fe.range:null;return at?Re>at.end?Math.max(at.end-H,at.start):Re>0&&Re+.25<at.start&&Math.abs(Re-at.start)<31536e4?ce?Math.max(at.end-H,at.start):at.start:Re:NaN}function Te(){G===null&&(G=setInterval(function(){var Re;N.trigger(u.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:j,time:new Date}),rt()&&(c.addDVRMetric(),be()?(Re=Date.now(),(!fe||Re>fe+500)&&(fe=Re,jt())):nt())},x.get().streaming.wallclockTimeUpdateInterval))}function ke(){clearInterval(G),G=null}function me(Re){var ae=b.convertRepresentationToRepresentationInfo(Re.currentRepresentation),Fe=ae?ae.mediaInfo.streamInfo:null;Fe!==null&&C.id===Fe.id&&(C=Fe)}function pe(){N.trigger(u.Z.CAN_PLAY)}function De(){N.trigger(u.Z.CAN_PLAY_THROUGH)}function xe(Re){Re.streamId===c.getActiveStreamInfo().id&&(X=Re.state===y.Z.BUFFER_EMPTY,x.get().streaming.buffer.setStallState&&h.setStallState(Re.mediaType,Re.state===y.Z.BUFFER_EMPTY))}function Ze(){r.info("Native video element event: play"),nt(),Te(),N.trigger(u.Z.PLAYBACK_STARTED,{startTime:Pe()})}function mt(){r.info("Native video element event: waiting"),N.trigger(u.Z.PLAYBACK_WAITING,{playingTime:Pe()})}function dt(){r.info("Native video element event: playing"),ue=!1,N.trigger(u.Z.PLAYBACK_PLAYING,{playingTime:Pe()})}function Pt(){r.info("Native video element event: pause"),N.trigger(u.Z.PLAYBACK_PAUSED,{ended:ut()})}function zt(){if(!ue){var Re=Pe();isNaN(Y)||Y===Re||(Re=Y),Y=NaN,r.info("Seeking to: "+Re),Te(),N.trigger(u.Z.PLAYBACK_SEEKING,{seekTime:Re,streamId:C.id})}}function Yt(){r.info("Native video element event: seeked"),ue=!1,N.trigger(u.Z.PLAYBACK_SEEKED)}function jt(){C&&N.trigger(u.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:z(),time:Pe(),streamId:C.id})}function Vt(){N.trigger(u.Z.PLAYBACK_PROGRESS,{streamId:C.id})}function Wt(){var Re=st();r.info("Native video element event: ratechange: ",Re),N.trigger(u.Z.PLAYBACK_RATE_CHANGED,{playbackRate:Re})}function Qt(){r.info("Native video element event: loadedmetadata"),N.trigger(u.Z.PLAYBACK_METADATA_LOADED),Te()}function en(){r.info("Native video element event: loadeddata"),N.trigger(u.Z.PLAYBACK_LOADED_DATA)}function fn(){r.info("Native video element event: ended"),Q(),ke();var Re=c?c.getActiveStreamInfo():null;Re&&N.trigger(u.Z.PLAYBACK_ENDED,{isLast:Re.isLast})}function on(){N.trigger(u.Z.PLAYBACK_VOLUME_CHANGED)}function cn(Re){if(G&&Re.isLast){r.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var ae=Re.seekTime?Re.seekTime:K();h.setCurrentTime(ae),Q(),ke()}}function lt(Re){var ae=Re.target||Re.srcElement;N.trigger(u.Z.PLAYBACK_ERROR,{error:ae.error})}function Zt(Re){if(Re.stream===!1&&ce&&!isNaN(Re.request.duration)){var ae=1.2*Re.request.duration;ae>H&&(r.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",ae.toFixed(2)),H=ae,B=ae)}}function Gt(Re){N.trigger(u.Z.PLAYBACK_STALLED,{e:Re})}function kt(Re){var ae;(ae=Re.mediaInfo)&&ae.supplementalProperties&&ae.supplementalProperties[t.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]==="true"&&(r.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),ce=!0)}function ze(Re){var ae=c.getActiveStreamInfo();Re&&ae&&Re.currentRepresentation&&Re.streamId&&Re.streamId===ae.id&&Re.mediaType&&(Re.mediaType===t.Z.VIDEO||Re.mediaType===t.Z.AUDIO)&&(se=Re.currentRepresentation.availabilityTimeComplete,(ce=!se)&&!m&&(m=!0))}function ht(){re=!0}function je(){re=!1}return o={initialize:function(Re,ae){C=Re,ae!==!0&&(h.addEventListener("canplay",pe),h.addEventListener("canplaythrough",De),h.addEventListener("play",Ze),h.addEventListener("waiting",mt),h.addEventListener("playing",dt),h.addEventListener("pause",Pt),h.addEventListener("error",lt),h.addEventListener("seeking",zt),h.addEventListener("seeked",Yt),h.addEventListener("timeupdate",jt),h.addEventListener("progress",Vt),h.addEventListener("ratechange",Wt),h.addEventListener("loadedmetadata",Qt),h.addEventListener("loadeddata",en),h.addEventListener("stalled",Gt),h.addEventListener("ended",fn),h.addEventListener("volumechange",on),j=C.manifestInfo.isDynamic,X=!1,ue=!1,N.on(u.Z.DATA_UPDATE_COMPLETED,me,o),N.on(u.Z.LOADING_PROGRESS,Zt,o),N.on(u.Z.MANIFEST_UPDATED,ht,o),N.on(u.Z.STREAMS_COMPOSED,je,o),N.on(n.Z.PLAYBACK_ENDED,cn,o,{priority:p.Z.EVENT_PRIORITY_HIGH}),N.on(n.Z.STREAM_INITIALIZING,kt,o),N.on(n.Z.REPRESENTATION_SWITCH,ze,o),N.on(n.Z.BUFFER_LEVEL_STATE_CHANGED,xe,o),q&&(q=!1,te()))},setConfig:function(Re){Re&&(Re.streamController&&(c=Re.streamController),Re.serviceDescriptionController&&(_=Re.serviceDescriptionController),Re.dashMetrics&&(I=Re.dashMetrics),Re.adapter&&(b=Re.adapter),Re.videoModel&&(h=Re.videoModel),Re.timelineConverter&&(w=Re.timelineConverter),Re.settings&&(x=Re.settings))},getTimeToStreamEnd:z,getBufferLevel:function(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,ae=null;return c.getActiveStreamProcessors().forEach(function(Fe){if(!Re||Re.length===0||Re.indexOf(Fe.getType())===-1){var at=Fe.getBufferLevel();ae=ae===null?at:Math.min(ae,at)}}),ae},getPlaybackStalled:function(){return X},getTime:Pe,getLowLatencyModeEnabled:function(){return ce},getInitialCatchupModeActivated:function(){return m},getIsManifestUpdateInProgress:function(){return re},getPlaybackRate:st,getPlayedRanges:function(){return C&&h?h.getPlayedRanges():null},getEnded:ut,getIsDynamic:rt,getStreamController:function(){return c},computeAndSetLiveDelay:function(Re,ae){var Fe,at,Rt,xt=!isNaN(Re)&&isFinite(Re)?Re:NaN,an=b.getSuggestedPresentationDelay(),Rn=_.getServiceDescriptionSettings();return Fe=isNaN(x.get().streaming.delay.liveDelay)?x.get().streaming.delay.liveDelayFragmentCount===null||isNaN(x.get().streaming.delay.liveDelayFragmentCount)||isNaN(xt)?Rn&&!isNaN(Rn.liveDelay)&&Rn.liveDelay>0?Rn.liveDelay:x.get().streaming.delay.useSuggestedPresentationDelay===!0&&an!==null&&!isNaN(an)&&an>0?an:isNaN(xt)?ae&&!isNaN(ae.minBufferTime)?4*ae.minBufferTime:4*C.manifestInfo.minBufferTime:4*xt:xt*x.get().streaming.delay.liveDelayFragmentCount:x.get().streaming.delay.liveDelay,(Rt=b.getAvailabilityStartTime())!==null&&(ne=Rt),at=ae&&ae.dvrWindowSize>0?Math.min(Fe,ae.dvrWindowSize):Fe,H=at,B=at,at},getLiveDelay:function(){return H},getOriginalLiveDelay:function(){return B},getCurrentLiveLatency:function(){if(!j||isNaN(ne))return NaN;var Re=Pe();if(isNaN(Re)||Re===0)return 0;var ae=new Date().getTime()+1e3*w.getClientTimeOffset();return Math.max(((ae-ne-1e3*Re)/1e3).toFixed(3),0)},play:te,isPaused:be,isStalled:Ie,pause:Q,isSeeking:Ae,getStreamEndTime:K,seek:P,seekToOriginalLive:function(){var Re=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ae=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Fe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=le();if(at!==0){var Rt=at-(H=B);P(Rt,Re,ae,Fe)}},seekToCurrentLive:function(){var Re=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ae=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Fe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],at=le();if(at!==0){var Rt=at-H;P(Rt,Re,ae,Fe)}},reset:R,updateCurrentTime:nt,getAvailabilityStartTime:function(){return ne}},r=(0,E.Z)(L).getInstance().getLogger(o),R(),o}l.__dashjs_factory_name="PlaybackController";var d=g.Z.getSingletonFactory(l),D=O(3186),Z="loading",k="executed",F="failed";function ee(o){var r,c,_,I,b=(o=o||{}).eventBus,h=o.events,w=o.dashMetrics,G=o.fragmentLoader,H=o.debug,B=o.streamInfo,C=o.type;function j(m){var x;return!!m&&(x=!1,_.some(function(L){if(N=m,R=L,!isNaN(N.index)&&N.startTime===R.startTime&&N.adaptationIndex===R.adaptationIndex&&N.type===R.type||function(z,K){return isNaN(z.index)&&isNaN(K.index)&&z.quality===K.quality}(m,L)||function(z,K){return z.action===D.Z.ACTION_COMPLETE&&z.action===K.action}(m,L))return x=!0;var N,R}),x)}function q(m){return isNaN(m.duration)?.25:Math.min(m.duration/8,.5)}function fe(m){_=_.filter(function(x){var L=q(x);return isNaN(x.startTime)||m!==void 0&&x.startTime>=m-L})}function ne(m,x){x<=m+.5||(_=_.filter(function(L){var N=q(L);return isNaN(L.startTime)||L.startTime>=x-N||isNaN(L.duration)||L.startTime+L.duration<=m+N}))}function se(m,x,L){for(var N=m.length-1;N>=0;N--){var R=m[N],z=R.startTime,K=z+R.duration;if(L=isNaN(L)?q(R):L,!isNaN(z)&&!isNaN(K)&&x+L>=z&&x-L<K||isNaN(z)&&isNaN(x))return R}return null}function ce(m,x){w.addSchedulingInfo(m,x),w.addRequestsQueue(m.mediaType,I,_)}function Y(m){m.sender===G&&(I.splice(I.indexOf(m.request),1),m.response&&!m.error&&_.push(m.request),ce(m.request,m.error?F:k),b.trigger(h.FRAGMENT_LOADING_COMPLETED,{request:m.request,response:m.response,error:m.error,sender:this},{streamId:B.id,mediaType:C}))}function ue(m){m.sender===G&&b.trigger(h.FRAGMENT_LOADING_PROGRESS,{request:m.request,response:m.response,error:m.error,sender:this},{streamId:B.id,mediaType:C})}function X(m){m.sender===G&&b.trigger(h.FRAGMENT_LOADING_ABANDONED,{request:m.request},{streamId:B.id,mediaType:C})}function re(){_=[],I=[]}return r={getStreamId:function(){return B.id},getType:function(){return C},getRequests:function(m){var x=m?m.state instanceof Array?m.state:[m.state]:[],L=[];return x.forEach(function(N){var R=function(z){var K;switch(z){case Z:K=I;break;case k:K=_;break;default:K=[]}return K}(N);L=L.concat(function(z,K){return K.hasOwnProperty("time")?[se(z,K.time,K.threshold)]:z.filter(function(te){for(var Q in K)if(Q!=="state"&&K.hasOwnProperty(Q)&&te[Q]!=K[Q])return!1;return!0})}(R,m))}),L},isFragmentLoaded:j,isFragmentLoadedOrPending:function(m){var x,L=!1,N=0;if(!(L=j(m)))for(N=0;N<I.length;N++)x=I[N],m.url===x.url&&m.startTime===x.startTime&&(L=!0);return L},removeExecutedRequestsBeforeTime:fe,removeExecutedRequestsAfterTime:function(m){_=_.filter(function(x){return isNaN(x.startTime)||m!==void 0&&x.startTime<m})},syncExecutedRequestsWithBufferedRange:function(m,x){if(m&&m.length!==0){for(var L=0,N=0,R=m.length;N<R;N++)ne(L,m.start(N)),L=m.end(N);x>0&&ne(L,x)}else fe()},abortRequests:function(){c.debug("abort requests"),G.abort(),I=[]},executeRequest:function(m){m.action===D.Z.ACTION_DOWNLOAD?(ce(m,Z),I.push(m),function(x){b.trigger(h.FRAGMENT_LOADING_STARTED,{request:x},{streamId:B.id,mediaType:C}),G.load(x)}(m)):c.warn("Unknown request action.")},reset:function(){b.off(h.LOADING_COMPLETED,Y,this),b.off(h.LOADING_DATA_PROGRESS,ue,this),b.off(h.LOADING_ABANDONED,X,this),G&&G.reset(),re()},resetInitialSettings:re,addExecutedRequest:function(m){_.push(m)}},c=H.getLogger(r),re(),b.on(h.LOADING_COMPLETED,Y,r),b.on(h.LOADING_DATA_PROGRESS,ue,r),b.on(h.LOADING_ABANDONED,X,r),r}ee.__dashjs_factory_name="FragmentModel";var M=g.Z.getClassFactory(ee);M.FRAGMENT_MODEL_LOADING=Z,M.FRAGMENT_MODEL_EXECUTED=k,M.FRAGMENT_MODEL_CANCELED="canceled",M.FRAGMENT_MODEL_FAILED=F,g.Z.updateClassFactory(ee.__dashjs_factory_name,M);var A=M,U=O(5459);function J(o){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},J(o)}function $(o,r){return $=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},$(o,r)}function Ee(o,r){return!r||J(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function Je(o){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Je(o)}var oe=new(function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&$(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=Je(r);if(c){var w=Je(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Ee(this,b)});function I(){var b;return function(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}(this,I),(b=_.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,b.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,b.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,b.SEGMENT_BASE_LOADER_ERROR_CODE=15,b.TIME_SYNC_FAILED_ERROR_CODE=16,b.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,b.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,b.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,b.APPEND_ERROR_CODE=20,b.REMOVE_ERROR_CODE=21,b.DATA_UPDATE_FAILED_ERROR_CODE=22,b.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,b.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,b.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,b.DOWNLOAD_ERROR_ID_SIDX_CODE=26,b.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,b.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,b.DOWNLOAD_ERROR_ID_XLINK_CODE=29,b.MANIFEST_ERROR_ID_PARSE_CODE=31,b.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,b.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,b.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,b.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,b.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",b.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",b.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",b.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",b.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",b.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",b.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",b.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",b.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",b.APPEND_ERROR_MESSAGE="chunk is not defined",b.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",b.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",b.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",b.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",b.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",b.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",b}return I}(O(2230).Z)),Ce=O(1264),He=O(7855);function Le(o){var r,c,_,I,b,h,w=this.context,G=(0,Ce.Z)(w).getInstance(),H=o.textController,B=o.eventBus,C=[],j=[],q=!1,fe=o.mediaSource,ne=null;function se(R){return new Promise(function(z){N(function(){I.changeType&&I.changeType(R),z()})})}function ce(R){return I=H.getTextSourceBuffer(R),Promise.resolve()}function Y(){if(typeof I.addEventListener=="function")try{I.addEventListener("updateend",x,!1),I.addEventListener("error",L,!1),I.addEventListener("abort",L,!1)}catch{h=setInterval(x,50)}else h=setInterval(x,50)}function ue(R){return new Promise(function(z){I&&G.get().streaming.buffer.useAppendWindow?N(function(){try{if(!I)return void z();var K=fe.duration,te=0;R&&!isNaN(R.start)&&!isNaN(R.duration)&&isFinite(R.duration)&&(K=R.start+R.duration),R&&!isNaN(R.start)&&(te=R.start),I.appendWindowEnd===K&&I.appendWindowStart===te||(I.appendWindowStart=0,I.appendWindowEnd=K+.01,I.appendWindowStart=Math.max(te-.1,0),_.debug("Updated append window for ".concat(b.type,". Set start to ").concat(I.appendWindowStart," and end to ").concat(I.appendWindowEnd))),z()}catch{_.warn("Failed to set append window"),z()}}):z()})}function X(R){return new Promise(function(z){I?N(function(){try{I.timestampOffset===R||isNaN(R)||(I.timestampOffset=R,_.debug("Set MSE timestamp offset to ".concat(R))),z()}catch{z()}}):z()})}function re(){if(!q&&j.length>0){q=!0;var R=j[0];j.splice(0,1);var z=function(){q=!1,j.length>0&&re.call(this),R&&R.data&&R.data.segmentType&&R.data.segmentType!==He.w.INIT_SEGMENT_TYPE&&delete R.data.bytes,R.promise.resolve({chunk:R.data})};try{ne=R.request,R.data.bytes.byteLength===0?z.call(this):(I.appendBuffer?I.appendBuffer(R.data.bytes):I.append(R.data.bytes,R.data),N(z.bind(this)))}catch(K){_.fatal('SourceBuffer append failed "'+K+'"'),j.length>0?re():q=!1,delete R.data.bytes,R.promise.reject({chunk:R.data,error:new U.Z(K.code,K.message)})}}}function m(){C.length>0&&(I.updating||(C.shift()(),m()))}function x(){I.updating||m()}function L(R){var z,K,te=R.target||{};z=u.Z.SOURCE_BUFFER_ERROR,K={error:te,lastRequestAppended:ne},B.trigger(z,K,{streamId:b.streamInfo.id,mediaType:c})}function N(R){C.push(R),I.updating||m()}return r={getType:function(){return c},getAllBufferRanges:function(){try{return I.buffered}catch(R){return _.error("getAllBufferRanges exception: "+R.message),null}},getBuffer:function(){return I},append:function(R){var z=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(te,Q){R?(j.push({data:R,promise:{resolve:te,reject:Q},request:K}),N(re.bind(z))):Q({chunk:R,error:new U.Z(oe.APPEND_ERROR_CODE,oe.APPEND_ERROR_MESSAGE)})})},remove:function(R){return new Promise(function(z,K){var te=R.start,Q=R.end;te>=0&&Q>te?N(function(){try{I.remove(te,Q),N(function(){z({from:te,to:Q,unintended:!1}),R.resolve&&R.resolve()})}catch(P){K({from:te,to:Q,unintended:!1,error:new U.Z(oe.REMOVE_ERROR_CODE,oe.REMOVE_ERROR_MESSAGE)}),R.reject&&R.reject(P)}}):z()})},abort:function(){return new Promise(function(R){try{j=[],fe.readyState==="open"?N(function(){try{I&&I.abort(),R()}catch{R()}}):(I&&I.setTextTrack&&fe.readyState==="ended"&&I.abort(),R())}catch{R()}})},reset:function(){if(I){try{C=[],function(){try{typeof I.removeEventListener=="function"&&(I.removeEventListener("updateend",x,!1),I.removeEventListener("error",L,!1),I.removeEventListener("abort",L,!1)),clearInterval(h)}catch(R){_.error(R)}}(),q=!1,j=[],I.getClassName&&I.getClassName()==="TextSourceBuffer"||(_.debug("Removing sourcebuffer from media source"),fe.removeSourceBuffer(I))}catch{}I=null}ne=null},updateTimestampOffset:X,initializeForStreamSwitch:function(R,z,K){c=(b=R).type;var te=b.codec;(function(P){I=P.getBuffer()})(K),Y();var Q=[];return Q.push(new Promise(function(P){N(function(){var le=I.appendWindowStart,ye=I.appendWindowEnd;I&&(I.abort(),I.appendWindowStart=le,I.appendWindowEnd=ye),P()})})),Q.push(ue(b.streamInfo)),G.get().streaming.buffer.useChangeTypeForTrackSwitch&&Q.push(se(te)),z&&z.MSETimeOffset!==void 0&&Q.push(X(z.MSETimeOffset)),Promise.all(Q)},initializeForFirstUse:function(R,z,K){c=(b=z).type;var te=b.codec;try{if(te.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return ce(R);I=fe.addSourceBuffer(te),Y();var Q=[];return Q.push(ue(b.streamInfo)),K&&K.MSETimeOffset!==void 0&&Q.push(X(K.MSETimeOffset)),Promise.all(Q)}catch(P){return b.type==t.Z.TEXT&&!b.isFragmented||te.indexOf('codecs="stpp')!==-1||te.indexOf('codecs="vtt')!==-1||te.indexOf("text/vtt")!==-1?ce(R):Promise.reject(P)}},updateAppendWindow:ue,changeType:se},_=(0,E.Z)(w).getInstance().getLogger(r),r}Le.__dashjs_factory_name="SourceBufferSink";var ve=g.Z.getClassFactory(Le);function Ue(o){var r,c,_,I=this.context,b=[],h=o;function w(G,H){return b=b.filter(function(B){return!((isNaN(H)||B.start<H)&&(isNaN(G)||B.end>G))}),Promise.resolve()}return r={getAllBufferRanges:function(){for(var G=[],H=0;H<b.length;H++){var B=b[H];G.length===0||B.start>G[G.length-1].end?G.push({start:B.start,end:B.end}):G[G.length-1].end=B.end}var C={start:function(j){return G[j].start},end:function(j){return G[j].end}};return Object.defineProperty(C,"length",{get:function(){return G.length}}),C},append:function(G){return G.segmentType!=="InitializationSegment"?(b.push(G),b.sort(function(H,B){return H.start-B.start}),_=null):_=G,c.debug("PreBufferSink appended chunk s: "+G.start+"; e: "+G.end),h&&h({chunk:G}),Promise.resolve()},remove:w,abort:function(){return Promise.resolve()},discharge:function(G,H){var B=function(C,j){return b.filter(function(q){return(isNaN(j)||q.start<j)&&(isNaN(C)||q.end>C)})}(G,H);return _&&(B.push(_),_=null),w(G,H),B},reset:function(){b=[],_=null,h=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(G){G()},getBuffer:function(){return this}},c=(0,E.Z)(I).getInstance().getLogger(r),r}Ue.__dashjs_factory_name="PreBufferSink";var Be=g.Z.getClassFactory(Ue);function ct(){var o={};return{save:function(r){var c=r.streamId,_=r.representationId;o[c]=o[c]||{},o[c][_]=r},extract:function(r,c){return o&&o[r]&&o[r][c]?o[r][c]:null},reset:function(){o={}}}}ct.__dashjs_factory_name="InitCache";var _e=g.Z.getSingletonFactory(ct),Ge=.01,vt="BufferController";function ft(o){o=o||{};var r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue,X,re,m=this.context,x=(0,p.Z)(m).getInstance(),L=o.errHandler,N=o.fragmentModel,R=o.representationController,z=o.adapter,K=o.textController,te=o.abrController,Q=o.playbackController,P=o.streamInfo,le=o.type,ye=o.settings;function Pe(je){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(ae,Fe){h=je,H&&Re&&typeof H.discharge=="function"?(B=H,Ae(Re).then(function(){ae()}).catch(function(at){Fe(at)})):ae()})}function be(je){return z.convertRepresentationToRepresentationInfo(R.getRepresentationForQuality(je))}function Ae(je){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function(ae,Fe){Y&&je?h?(C=!1,st(je,Re).then(function(at){ae(at)}).catch(function(at){Fe(at)})):(C=!0,Ie().then(function(at){ae(at)}).catch(function(at){Fe(at)})):ae(null)})}function Ie(){var je=this;return new Promise(function(Re,ae){var Fe=te.getQualityFor(le,P.id);H=Be(m).create(Te.bind(je)),en(be(Fe)).then(function(){Re(H)}).catch(function(){ae()})})}function st(je,Re){return new Promise(function(ae,Fe){var at=te.getQualityFor(le,P.id);H=ve(m).create({mediaSource:h,textController:K,eventBus:x}),function(Rt,xt,an){var Rn=be(an);return xt&&xt[le]&&(le===t.Z.VIDEO||le===t.Z.AUDIO)?H.initializeForStreamSwitch(Rt,Rn,xt[le]):H.initializeForFirstUse(P,Rt,Rn)}(je,Re,at).then(function(){return en(be(at))}).then(function(){ae(H)}).catch(function(Rt){c.fatal("Caught error on create SourceBuffer: "+Rt),L.error(new U.Z(oe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,oe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+le)),Fe(Rt)})})}function ut(je){ye.get().streaming.cacheInitSegments&&(c.info("Init fragment finished loading saving to",le+"'s init cache"),Y.save(je.chunk)),c.debug("Append Init fragment",le," with representationId:",je.chunk.representationId," and quality:",je.chunk.quality,", data size:",je.chunk.bytes.byteLength),nt(je.chunk)}function rt(je){nt(je.chunk,je.request)}function nt(je){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;H&&(H.append(je,Re).then(function(ae){Te(ae)}).catch(function(ae){Te(ae)}),je.mediaInfo.type===t.Z.VIDEO&&ze(u.Z.VIDEO_CHUNK_RECEIVED,{chunk:je}))}function Ot(je){if(je&&je.length>0)for(var Re=0,ae=je.length;Re<ae;Re++)c.debug("Buffered range: "+je.start(Re)+" - "+je.end(Re)+", currentTime = ",Q.getTime())}function Te(je){if(je.error)return je.error.code===22&&function(){if(ce=!0,b=.8*Zt(),c.warn("Quota exceeded, Critical Buffer: "+b),b>0){var Fe=Math.max(.2*b,1),at=b-Fe,Rt=Math.min(ye.get().streaming.buffer.bufferTimeAtTopQuality,.9*at),xt=Math.min(ye.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*at),an={streaming:{buffer:{bufferToKeep:parseFloat(Fe.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Rt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(xt.toFixed(5))}}};ye.update(an)}}(),void(je.error.code!==22&&kt()||(c.warn("Clearing playback buffer to overcome quota exceed situation"),ze(u.Z.QUOTA_EXCEEDED,{criticalBufferLevel:b,quotaExceededTime:je.chunk.start}),Vt(jt())));if(H&&(mt(),ce=!1,(fe=je.chunk)&&fe.endFragment)){fe&&!isNaN(fe.index)&&(w=Math.max(fe.index,w),dt());var Re=H.getAllBufferRanges();fe.segmentType===He.w.MEDIA_SEGMENT_TYPE&&(Ot(Re),pe(),function(){if(!isNaN(re)&&!C)if(le===t.Z.AUDIO||le===t.Z.VIDEO){var Fe=Q.getTime(),at=Ze(Fe,0),Rt=Ze(re,0);if(at&&Rt&&at.start===Rt.start)re=NaN;else{var xt=R.getCurrentRepresentation().segmentDuration,an=Ze(re,xt);an&&(ye.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Fe-re)>xt?re<=an.end&&Q.seek(Math.max(re,an.start),!1,!0):Fe<an.start&&Q.seek(an.start,!1,!0))}}else re=NaN}());var ae=!1;j&&(j.indexOf(fe)>0&&(ae=!0),j=null),fe&&!ae&&ze(u.Z.BYTES_APPENDED_END_FRAGMENT,{quality:fe.quality,startTime:fe.start,index:fe.index,bufferedRanges:Re,segmentType:fe.segmentType,mediaType:le})}}function ke(){return new Promise(function(je,Re){var ae=me();if(!ae||ae.length===0)return pe(),void je();Vt(ae).then(function(){je()}).catch(function(Fe){Re(Fe)})})}function me(je){var Re=[],ae=H.getAllBufferRanges();if(!ae||ae.length===0)return Re;if(!je&&je!==0||isNaN(je))Re.push({start:ae.start(0),end:ae.end(ae.length-1)+.5});else{var Fe=function(Rt,xt){var an=ye.get().streaming.buffer.bufferToKeep,Rn=xt.start(0);if(Rt-Rn>an){var Wn=Math.max(0,Rt-an),Sn=N.getRequests({state:A.FRAGMENT_MODEL_EXECUTED,time:Rt,threshold:Ge})[0];if(Sn&&(Wn=Math.min(Sn.startTime,Wn)),Wn>0)return{start:Rn,end:Wn}}return null}(je,ae),at=function(Rt,xt){var an=xt.end(xt.length-1)+.5,Rn=Gt(Rt),Wn=P.manifestInfo.duration>=ye.get().streaming.buffer.longFormContentDurationThreshold?ye.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ye.get().streaming.buffer.bufferTimeAtTopQuality,Sn=isNaN(Rn)?Rt:Math.min(Rn,Rt+Wn);if(Sn>=xt.end(xt.length-1))return null;var Qn=N.getRequests({state:A.FRAGMENT_MODEL_EXECUTED,time:Rt,threshold:Ge})[0];if(Qn&&(Sn=Math.max(Qn.startTime+Qn.duration,Sn)),ye.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var Yn=0;Yn<xt.length;Yn++)if(xt.start(Yn)<=Rt&&Rt<=xt.end(Yn)&&xt.start(Yn)<=Sn&&Sn<=xt.end(Yn)){var dr=Sn;Sn=Yn+1<xt.length?xt.start(Yn+1):xt.end(Yn)+1,c.debug("Buffered range ["+xt.start(Yn)+", "+xt.end(Yn)+"] overlaps with targetTime "+Rt+" and range to be pruned ["+dr+", "+an+"], using ["+Sn+", "+an+"] instead"+(Sn<an?"":" (no actual pruning)"));break}}return Sn<xt.end(xt.length-1)?{start:Sn,end:an}:null}(je,ae);Fe&&Re.push(Fe),at&&Re.push(at)}return Re}function pe(){(!X||le===t.Z.TEXT&&K.isTextEnabled())&&mt()}function De(){Pt()}function xe(){Pt(),re=NaN}function Ze(je,Re){if(!H)return null;var ae,Fe,at=H.getAllBufferRanges(),Rt=0,xt=0,an=null,Rn=null,Wn=0,Sn=isNaN(Re)?.15:Re;if(at!=null){for(Fe=0,ae=at.length;Fe<ae;Fe++)if(Rt=at.start(Fe),xt=at.end(Fe),an===null)Wn=Math.abs(Rt-je),(je>=Rt&&je<xt||Wn<=Sn)&&(an=Rt,Rn=xt);else{if(!((Wn=Rt-Rn)<=Sn))break;Rn=xt}if(an!==null)return{start:an,end:Rn}}return null}function mt(){if(Q){var je=Q.getTime()||0;C&&(je=isNaN(re)?0:re);var Re=ye.get().streaming.gaps.jumpGaps&&!isNaN(ye.get().streaming.gaps.smallGapLimit)?ye.get().streaming.gaps.smallGapLimit:NaN;I=Math.max(function(ae,Fe){var at;return ye.get().streaming.gaps.jumpGaps&&(Fe=ye.get().streaming.gaps.smallGapLimit),(at=Ze(ae,Fe))===null?0:at.end-ae}(je,Re),0),ze(u.Z.BUFFER_LEVEL_UPDATED,{mediaType:le,bufferLevel:I}),Pt()}}function dt(){var je=w>=G-1,Re=Q.getTimeToStreamEnd(P)-I<1e-5;!je&&!Re||_||(lt(!0),c.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(P.id," and type ").concat(le)))}function Pt(){le!==t.Z.AUDIO&&le!==t.Z.VIDEO||((!Q.getLowLatencyModeEnabled()&&I<ye.get().streaming.buffer.stallThreshold||I===0)&&!_?zt(y.Z.BUFFER_EMPTY):(_||I>=ye.get().streaming.buffer.stallThreshold||Q.getLowLatencyModeEnabled()&&I>0)&&zt(y.Z.BUFFER_LOADED))}function zt(je){q===je||je===y.Z.BUFFER_EMPTY&&Q.getTime()===0||le===t.Z.TEXT&&!K.isTextEnabled()||(q=je,ze(u.Z.BUFFER_LEVEL_STATE_CHANGED,{state:je}),ze(je===y.Z.BUFFER_LOADED?u.Z.BUFFER_LOADED:u.Z.BUFFER_EMPTY),c.debug(je===y.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Yt(){H&&le!==t.Z.TEXT&&(_||Vt(jt()))}function jt(){var je=[],Re=H.getAllBufferRanges();if(!Re||Re.length===0)return je;var ae=Q.getTime(),Fe=Math.max(0,ae-ye.get().streaming.buffer.bufferToKeep),at=N.getRequests({state:A.FRAGMENT_MODEL_EXECUTED,time:ae,threshold:Ge})[0];if(at)Fe=Math.min(at.startTime,Fe);else if(ae===0&&Q.getIsDynamic())return[];if(Re.start(0)<=Fe){for(var Rt={start:0,end:Fe},xt=0;xt<Re.length&&Re.end(xt)<=Fe;xt++)Rt.end=Re.end(xt);Rt.start<Rt.end&&je.push(Rt)}return je}function Vt(je){return new Promise(function(Re,ae){if(je&&H&&je.length!==0){var Fe=[];je.forEach(function(at){Fe.push(function(Rt){return new Promise(function(xt,an){Rt.resolve=xt,Rt.reject=an,ue.push(Rt)})}(at))}),se||Wt(),Promise.all(Fe).then(function(){Re()}).catch(function(at){ae(at)})}else Re()})}function Wt(){try{if(ue.length===0||!H)return c.debug("Nothing to prune, halt pruning"),ue=[],void(se=!1);var je=H.getBuffer();if(!je||!je.buffered||je.buffered.length===0)return c.debug("SourceBuffer is empty (or does not exist), halt pruning"),ue=[],void(se=!1);var Re=ue.shift();c.debug("".concat(le,": Removing buffer from: ").concat(Re.start," to ").concat(Re.end)),se=!0,Q.getTime()<Re.end&&lt(!1),H.remove(Re).then(function(ae){Qt(ae)}).catch(function(ae){Qt(ae)})}catch{se=!1}}function Qt(je){c.debug("onRemoved buffer from:",je.from,"to",je.to),H&&(Ot(H.getAllBufferRanges()),ue.length===0&&(se=!1,mt()),je.unintended&&(c.warn("Detected unintended removal from:",je.from,"to",je.to,"setting streamprocessor time to",je.from),ze(u.Z.SEEK_TARGET,{time:je.from})),se?Wt():(X?X=!1:mt(),ze(u.Z.BUFFER_CLEARED,{from:je.from,to:je.to,unintended:je.unintended,hasEnoughSpaceToAppend:kt(),quotaExceeded:ce})))}function en(je){return new Promise(function(Re){je&&je.MSETimeOffset!==void 0&&H&&H.updateTimestampOffset?H.updateTimestampOffset(je.MSETimeOffset).then(function(){Re()}).catch(function(){Re()}):Re()})}function fn(){return H&&!_?H.updateAppendWindow(P):Promise.resolve()}function on(){++ne*(ye.get().streaming.wallclockTimeUpdateInterval/1e3)>=ye.get().streaming.buffer.bufferPruningInterval&&(ne=0,Yt())}function cn(){Pt()}function lt(je){(_=je)?ze(u.Z.BUFFERING_COMPLETED):G=Number.POSITIVE_INFINITY}function Zt(){try{var je,Re,ae=H.getAllBufferRanges(),Fe=0;if(!ae)return Fe;for(Re=0,je=ae.length;Re<je;Re++)Fe+=ae.end(Re)-ae.start(Re);return Fe}catch{return 0}}function Gt(je){try{var Re=je,ae=H.getAllBufferRanges();if(!ae||ae.length===0)return NaN;for(var Fe=0;Re===je&&Fe<ae.length;){var at=ae.start(Fe),Rt=ae.end(Fe);Re>=at&&Re<=Rt&&(Re=Rt),Fe+=1}return Re===je?NaN:Re}catch{}}function kt(){var je=Zt();return isNaN(je)||je<b}function ze(je,Re){var ae=Re||{};x.trigger(je,ae,{streamId:P.id,mediaType:le})}function ht(je,Re){if(b=Number.POSITIVE_INFINITY,q=void 0,G=Number.POSITIVE_INFINITY,w=0,fe=null,_=!1,se=!1,ce=!1,I=0,ne=0,ue=[],re=NaN,C=!1,H){var ae=H;H=null,je||Re||ae.abort().then(function(){ae.reset(Re),ae=null})}X=!1}return r={initialize:function(je){Pe(je),x.on(u.Z.INIT_FRAGMENT_LOADED,ut,r),x.on(u.Z.MEDIA_FRAGMENT_LOADED,rt,r),x.on(u.Z.WALLCLOCK_TIME_UPDATED,on,r),x.on(n.Z.PLAYBACK_PLAYING,xe,r),x.on(n.Z.PLAYBACK_PROGRESS,pe,r),x.on(n.Z.PLAYBACK_TIME_UPDATED,pe,r),x.on(n.Z.PLAYBACK_RATE_CHANGED,cn,r),x.on(n.Z.PLAYBACK_STALLED,De,r)},getStreamId:function(){return P.id},getType:function(){return le},getBufferControllerType:function(){return vt},createBufferSink:Ae,dischargePreBuffer:function(){if(H&&B&&typeof B.discharge=="function"){var je=B.getAllBufferRanges();if(je.length>0){for(var Re="Beginning "+le+"PreBuffer discharge, adding buffer for:",ae=0;ae<je.length;ae++)Re+=" start: "+je.start(ae)+", end: "+je.end(ae)+";";c.debug(Re)}else c.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");j=[];for(var Fe=B.discharge(),at=null,Rt=0;Rt<Fe.length;Rt++){var xt=Fe[Rt];if(xt.segmentType!==He.w.INIT_SEGMENT_TYPE){var an=Y.extract(xt.streamId,xt.representationId);an&&at!==an&&(j.push(an),H.append(an),at=an)}j.push(xt),H.append(xt)}B.reset(),B=null}},getBuffer:function(){return H},getBufferLevel:function(){return I},getRangeAt:Ze,hasBufferAtTime:function(je){try{var Re=H.getAllBufferRanges();if(!Re||Re.length===0)return!1;for(var ae=0;ae<Re.length;){var Fe=Re.start(ae),at=Re.end(ae);if(je>=Fe&&je<=at)return!0;ae+=1}return!1}catch(Rt){return c.error(Rt),!1}},pruneBuffer:Yt,setMediaSource:Pe,getMediaSource:function(){return h},appendInitSegmentFromCache:function(je){var Re=Y.extract(P.id,je);return!!Re&&(c.info("Append Init fragment",le," with representationId:",Re.representationId," and quality:",Re.quality,", data size:",Re.bytes.byteLength),nt(Re),!0)},getIsBufferingCompleted:function(){return _},setIsBufferingCompleted:lt,getIsPruningInProgress:function(){return se},reset:function(je,Re){x.off(u.Z.INIT_FRAGMENT_LOADED,ut,this),x.off(u.Z.MEDIA_FRAGMENT_LOADED,rt,this),x.off(u.Z.WALLCLOCK_TIME_UPDATED,on,this),x.off(n.Z.PLAYBACK_PLAYING,xe,this),x.off(n.Z.PLAYBACK_PROGRESS,pe,this),x.off(n.Z.PLAYBACK_TIME_UPDATED,pe,this),x.off(n.Z.PLAYBACK_RATE_CHANGED,cn,this),x.off(n.Z.PLAYBACK_STALLED,De,this),ht(je,Re)},prepareForPlaybackSeek:function(){return _&&lt(!1),H.abort()},prepareForReplacementTrackSwitch:function(je){return new Promise(function(Re,ae){H.abort().then(function(){return fn()}).then(function(){return ye.get().streaming.buffer.useChangeTypeForTrackSwitch?H.changeType(je):Promise.resolve()}).then(function(){return ke()}).then(function(){lt(!1),Re()}).catch(function(Fe){ae(Fe)})})},prepareForNonReplacementTrackSwitch:function(je){return new Promise(function(Re,ae){fn().then(function(){return ye.get().streaming.buffer.useChangeTypeForTrackSwitch?H.changeType(je):Promise.resolve()}).then(function(){Re()}).catch(function(Fe){ae(Fe)})})},prepareForForceReplacementQualitySwitch:function(je){return new Promise(function(Re,ae){H.abort().then(function(){return fn()}).then(function(){return ke()}).then(function(){return en(je)}).then(function(){lt(!1),Re()}).catch(function(Fe){ae(Fe)})})},updateAppendWindow:fn,getAllRangesWithSafetyFactor:me,getContinuousBufferTimeForTargetTime:Gt,clearBuffers:Vt,pruneAllSafely:ke,updateBufferTimestampOffset:en,setSeekTarget:function(je){re=je},segmentRequestingCompleted:function(je){isNaN(je)||(G=je,dt())}},c=(0,E.Z)(m).getInstance().getLogger(r),Y=_e(m).getInstance(),ht(),r}ft.__dashjs_factory_name=vt;var qe=g.Z.getClassFactory(ft),$e="NotFragmentedTextBufferController";function de(o){o=o||{};var r,c,_,I,b,h,w=this.context,G=(0,p.Z)(w).getInstance(),H=o.textController,B=o.errHandler,C=o.streamInfo,j=o.type;function q(se){I=se}function fe(se){var ce,Y;c!==se&&(c=se)&&(ce=u.Z.BUFFERING_COMPLETED,Y={},G.trigger(ce,Y,{streamId:C.id,mediaType:j}))}function ne(se){se.chunk.bytes&&!c&&(h.save(se.chunk),b.append(se.chunk),fe(!0))}return r={initialize:function(se){q(se)},getStreamId:function(){return C.id},getType:function(){return j},getBufferControllerType:function(){return $e},createBufferSink:function(se){return new Promise(function(ce,Y){try{(b=ve(w).create({mediaSource:I,textController:H,eventBus:G})).initializeForFirstUse(C,se),_||(b.getBuffer()&&typeof b.getBuffer().initialize=="function"&&b.getBuffer().initialize(),_=!0),ce(b)}catch(ue){B.error(new U.Z(oe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,oe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+j)),Y(ue)}})},dischargePreBuffer:function(){},getBuffer:function(){return b},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:q,getMediaSource:function(){return I},appendInitSegmentFromCache:function(se){return h.extract(C.id,se)!==null},getIsBufferingCompleted:function(){return c},setIsBufferingCompleted:fe,getIsPruningInProgress:function(){return!1},reset:function(se){G.off(u.Z.INIT_FRAGMENT_LOADED,ne,r),!se&&b&&(b.abort(),b.reset(),b=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return c=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},_=!1,I=null,c=!1,h=_e(w).getInstance(),G.on(u.Z.INIT_FRAGMENT_LOADED,ne,r),r}de.__dashjs_factory_name=$e;var ge=g.Z.getClassFactory(de);function Ve(o){o=o||{};var r,c,_,I,b,h,w,G,H,B,C,j,q=this.context,fe=(0,p.Z)(q).getInstance(),ne=o.dashMetrics,se=o.mediaPlayerModel,ce=o.fragmentModel,Y=o.abrController,ue=o.playbackController,X=o.textController,re=o.type,m=o.bufferController,x=o.representationController,L=o.settings;function N(be){if(!m.getIsBufferingCompleted()){R();var Ae=isNaN(be)?0:be;b=setTimeout(z,Ae)}}function R(){b&&(clearTimeout(b),b=null)}function z(){try{if(function(){try{return re===t.Z.TEXT&&!X.isTextEnabled()||ue.isPaused()&&(!ue.getStreamController().getInitialPlayback()||!ue.getStreamController().getAutoPlay())&&!L.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void R();if(function(){try{return x.getCurrentRepresentationInfo()&&(isNaN(H)||B||(Ie=c.id,st=Y.getMaxAllowedIndexFor(re,Ie),!(!isNaN(G)&&G==st||(_.info("Top quality "+re+" index has changed from "+G+" to "+st),G=st,0)))||function(){var ut=x.getCurrentRepresentationInfo();return!re||!ut||ne.getCurrentBufferLevel(re)<K()}())}catch{return!1}var Ie,st}()){var be=!1;j&&(be=Y.checkPlaybackQuality(re,c.id)),be||(Ae=x.getCurrentRepresentationInfo(),C||Ae.quality!==H||B?(B?(_.debug("Switch track for "+re+", representation id = "+Ae.id),B=!1):_.debug("Quality has changed, get init request for representationid = "+Ae.id),fe.trigger(u.Z.INIT_FRAGMENT_NEEDED,{representationId:Ae.id,sender:r},{streamId:c.id,mediaType:re}),j=!1,C=!1):(_.debug("Media segment needed for ".concat(re," and stream id ").concat(c.id)),fe.trigger(u.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:c.id,mediaType:re}),j=!0))}else N(ue.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}catch{N(ue.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout)}var Ae}function K(){var be=NaN,Ae=x.getCurrentRepresentationInfo();return re&&Ae&&(be=re===t.Z.TEXT?function(){try{if(X.isTextEnabled()){var Ie=x.getCurrentRepresentationInfo();if(isNaN(Ie.fragmentDuration)){var st=ne.getCurrentSchedulingInfo(y.Z.SCHEDULING_INFO);return st?st.duration:0}return Ie.fragmentDuration}return 0}catch{return 0}}():re===t.Z.AUDIO&&h?function(){try{var Ie=ne.getCurrentBufferLevel(t.Z.VIDEO),st=x.getCurrentRepresentationInfo();return isNaN(st.fragmentDuration)?Ie+1:Math.max(Ie+1,st.fragmentDuration)}catch{return 0}}():function(){try{var Ie=x.getCurrentRepresentationInfo().mediaInfo.streamInfo;return Y.isPlayingAtTopQuality(Ie)?Ie.manifestInfo.duration>=L.get().streaming.buffer.longFormContentDurationThreshold?L.get().streaming.buffer.bufferTimeAtTopQualityLongForm:L.get().streaming.buffer.bufferTimeAtTopQuality:se.getStableBufferTime()}catch{return se.getStableBufferTime()}}()),be}function te(){Q(!0)}function Q(be){if(ue&&ce){var Ae=ce.getRequests({state:A.FRAGMENT_MODEL_EXECUTED,time:ue.getTime(),threshold:0})[0];Ae&&ue.getTime()>=Ae.startTime&&((!w.mediaInfo||Ae.mediaInfo.type===w.mediaInfo.type&&Ae.mediaInfo.index!==w.mediaInfo.index)&&be&&fe.trigger(u.Z.TRACK_CHANGE_RENDERED,{mediaType:re,oldMediaInfo:w.mediaInfo,newMediaInfo:Ae.mediaInfo,streamId:c.id}),Ae.quality===w.quality&&Ae.adaptationIndex===w.adaptationIndex||!be||(_.debug("Quality change rendered for streamId ".concat(c.id," and type ").concat(re)),fe.trigger(u.Z.QUALITY_CHANGE_RENDERED,{mediaType:re,oldQuality:w.quality,newQuality:Ae.quality,streamId:c.id})),w={mediaInfo:Ae.mediaInfo,quality:Ae.quality,adaptationIndex:Ae.adaptationIndex})}}function P(){ce.abortRequests(),R()}function le(){L.get().streaming.scheduling.scheduleWhilePaused||N()}function ye(be){ne.updatePlayListTraceMetrics({playbackspeed:be.playbackRate.toString()})}function Pe(){j=!0,I=0,H=NaN,w={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},G=NaN,B=!1,C=!1}return r={initialize:function(be){h=be,fe.on(u.Z.URL_RESOLUTION_FAILED,P,r),fe.on(n.Z.PLAYBACK_STARTED,le,r),fe.on(n.Z.PLAYBACK_RATE_CHANGED,ye,r),fe.on(n.Z.PLAYBACK_TIME_UPDATED,te,r)},getType:function(){return re},getStreamId:function(){return c.id},setTimeToLoadDelay:function(be){I=be},getTimeToLoadDelay:function(){return I},setSwitchTrack:function(be){B=be},getSwitchTrack:function(){return B},startScheduleTimer:N,clearScheduleTimer:R,reset:function(){fe.off(u.Z.URL_RESOLUTION_FAILED,P,r),fe.off(n.Z.PLAYBACK_STARTED,le,r),fe.off(n.Z.PLAYBACK_RATE_CHANGED,ye,r),fe.off(n.Z.PLAYBACK_TIME_UPDATED,te,r),R(),Q(!1),Pe(),c=null},getBufferTarget:K,getPlaybackController:function(){return ue},setCheckPlaybackQuality:function(be){j=be},setInitSegmentRequired:function(be){C=be},setLastInitializedQuality:function(be){H=be}},_=(0,E.Z)(q).getInstance().getLogger(r),Pe(),c=o.streamInfo,r}Ve.__dashjs_factory_name="ScheduleController";var f=g.Z.getClassFactory(Ve),i=O(7387);function v(o){var r,c,_,I,b,h,w=(o=o||{}).eventBus,G=o.events,H=o.abrController,B=o.dashMetrics,C=o.playbackController,j=o.timelineConverter,q=o.type,fe=o.streamInfo,ne=o.dashConstants,se=o.segmentsController,ce=o.isDynamic,Y=o.adapter;function ue(){return q}function X(){return _}function re(){return h}function m(){c=null,_=!0,I=[],b=null}function x(te){return new Promise(function(Q,P){var le=te.hasInitialization(),ye=te.hasSegments(),Pe=[];Pe.push(se.updateInitData(te,le)),Pe.push(se.updateSegmentData(te,ye)),Promise.all(Pe).then(function(be){var Ae;be[0]&&!be[0].error&&(te=function(Ie,st){return st&&!st.error&&st.representation?st.representation:Ie}(te,be[0])),be[1]&&!be[1].error&&(te=function(Ie,st){if(st&&!st.error){var ut,rt,nt,Ot,Te=st.segments,ke=[],me=0;for(ut=0,rt=Te?Te.length:0;ut<rt;ut++)nt=Te[ut],(Ot=(0,i.TJ)(j,ce,Ie,nt.startTime,nt.duration,nt.timescale,nt.media,nt.mediaRange,me))&&(ke.push(Ot),Ot=null,me++);return ke.length>0&&(Ie.segments=ke),Ie}}(te,be[1])),(Ae=te).mediaFinishedInformation=se.getMediaFinishedInformation(Ae),function(Ie){if(X()){var st,ut,rt=B.getCurrentManifestUpdate(),nt=!1;if(rt){for(var Ot=0;Ot<rt.representationInfo.length;Ot++)if((st=rt.representationInfo[Ot]).index===Ie.index&&st.mediaType===ue()){nt=!0;break}nt||B.addManifestUpdateRepresentationInfo(Ie,ue())}if(function(){for(var ke=0,me=I.length;ke<me;ke++){var pe=I[ke].segmentInfoType;if(!I[ke].hasInitialization()||(pe===ne.SEGMENT_BASE||pe===ne.BASE_URL)&&!I[ke].segments)return!1}return!0}()){H.setPlaybackQuality(q,fe,(ut=h,I.indexOf(ut)));var Te=B.getCurrentDVRInfo(q);Te&&B.updateManifestUpdateInfo({latency:Te.range.end-C.getTime()}),B.getCurrentRepresentationSwitch(re().adaptation.type)||L(),R()}}}(te),Q()}).catch(function(be){P(be)})})}function L(){(function(){if(!(H&&B&&C&&j))throw new Error(t.Z.MISSING_CONFIG_ERROR)})();var te=new Date,Q=re(),P=1e3*C.getTime();Q&&B.addRepresentationSwitch(Q.adaptation.type,te,P,Q.id),w.trigger(n.Z.REPRESENTATION_SWITCH,{mediaType:q,streamId:fe.id,currentRepresentation:Q,numberOfRepresentations:I.length},{streamId:fe.id,mediaType:q})}function N(te){return te==null||te>=I.length?null:I[te]}function R(te){_=!1,w.trigger(G.DATA_UPDATE_COMPLETED,{data:c,currentRepresentation:h,error:te},{streamId:fe.id,mediaType:q})}function z(te){h=te,b=Y.convertRepresentationToRepresentationInfo(h)}function K(te){if(te.newDuration){var Q=re();Q&&Q.adaptation.period&&(Q.adaptation.period.duration=te.newDuration)}}return r={getStreamId:function(){return fe.id},getType:ue,getData:function(){return c},isUpdating:X,updateData:function(te,Q,P,le,ye){return new Promise(function(Pe,be){if(_=!0,I=Q,c=te,z(N(ye)),P!==t.Z.VIDEO&&P!==t.Z.AUDIO&&(P!==t.Z.TEXT||!le))return R(),void Pe();for(var Ae=[],Ie=0,st=I.length;Ie<st;Ie++){var ut=I[Ie];Ae.push(x(ut))}Promise.all(Ae).then(function(){z(N(ye)),Pe()}).catch(function(rt){be(rt)})})},getCurrentRepresentation:re,getCurrentRepresentationInfo:function(){return b},getRepresentationForQuality:N,prepareQualityChange:function(te){z(N(te)),L()},reset:function(){w.off(n.Z.MANIFEST_VALIDITY_CHANGED,K,r),m()}},m(),w.on(n.Z.MANIFEST_VALIDITY_CHANGED,K,r),r}v.__dashjs_factory_name="RepresentationController";var T=g.Z.getClassFactory(v),W=O(3106),V=O(9326),he=O(7473),Me=O(2594);function Oe(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}var Se=function o(){Oe(this,o),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Se.INITIAL_PLAYOUT_START_REASON="initial_playout",Se.SEEK_START_REASON="seek",Se.RESUME_FROM_PAUSE_START_REASON="resume",Se.METRICS_COLLECTION_START_REASON="metrics_collection_start";var Ne=function o(){Oe(this,o),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};Ne.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",Ne.REBUFFERING_REASON="rebuffering",Ne.USER_REQUEST_STOP_REASON="user_request",Ne.END_OF_PERIOD_STOP_REASON="end_of_period",Ne.END_OF_CONTENT_STOP_REASON="end_of_content",Ne.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",Ne.FAILURE_STOP_REASON="failure";var Ke=O(7802);function We(){return{ntpToUTC:function(o){var r=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(r.getTime()+o).getTime()}}}We.__dashjs_factory_name="TimeUtils";var At=g.Z.getSingletonFactory(We);function et(o){o=o||{};var r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne=this.context,se=(0,p.Z)(ne).getInstance(),ce=o.streamInfo,Y=o.type,ue=o.errHandler,X=o.mimeType,re=o.timelineConverter,m=o.adapter,x=o.manifestModel,L=o.mediaPlayerModel,N=o.fragmentModel,R=o.abrController,z=o.playbackController,K=o.mediaController,te=o.textController,Q=o.dashMetrics,P=o.settings,le=o.boxParser,ye=o.segmentBlacklistController;function Pe(){return ce.id}function be(){return Y}function Ae(){return m.getIsTextTrack(G.getData())}function Ie(){b=[],I=null,q=0,H=!1,B=!1,fe=null}function st(ze){return!isNaN(ze)&&!isNaN(ce.duration)&&isFinite(ce.duration)&&ze>=ce.start+ce.duration}function ut(ze){var ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(ze.sender){if(z.getIsManifestUpdateInProgress())ke();else if((!Ae()||te.isTextEnabled())&&h&&ze.representationId&&!h.appendInitSegmentFromCache(ze.representationId)){var je=G.getCurrentRepresentation();if(je.range===0)return void rt();var Re=C?C.getInitRequest(I,je):null;Re?N.executeRequest(Re):ht&&(w.setInitSegmentRequired(!0),ke())}}}function rt(ze){var ht=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(z.getIsManifestUpdateInProgress()||h.getIsPruningInProgress())ke();else{var je=Te();je?(H=!1,nt(je)):Ot(ht)}}function nt(ze){isNaN(ze.startTime+ze.duration)||(q=ze.startTime+ze.duration),ze.delayLoadingTime=new Date().getTime()+w.getTimeToLoadDelay(),w.setTimeToLoadDelay(0),function(ht){var je=ht.url;return ht.range&&(je=je.concat("_",ht.range)),ye.contains(je)}(ze)?(c.warn("Fragment request url ".concat(ze.url," for stream id ").concat(ce.id," and media type ").concat(Y," is on the ignore list and will be skipped")),ke()):(c.debug("Next fragment request url for stream id ".concat(ce.id," and media type ").concat(Y," is ").concat(ze.url)),N.executeRequest(ze))}function Ot(ze){var ht,je=G.getCurrentRepresentation();if(!P.get().streaming.gaps.enableSeekFix||!H&&z.getTime()!==0||(_?_&&je.segmentInfoType===e.Z.SEGMENT_TIMELINE&&(ht=C.getValidTimeAheadOfTargetTime(q,I,je,P.get().streaming.gaps.threshold)):ht=C.getValidTimeAheadOfTargetTime(q,I,je,P.get().streaming.gaps.threshold),isNaN(ht)||ht===q)){if(C.isLastSegmentRequested(je,q)){var Re=C.getCurrentIndex();return c.debug("Segment requesting for stream ".concat(ce.id," has finished")),se.trigger(u.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Re},{streamId:ce.id,mediaType:Y}),h.segmentRequestingCompleted(Re),void w.clearScheduleTimer()}ze&&ke()}else z.isSeeking()||z.getTime()===0?(c.warn("Adjusting playback time ".concat(ht," because of gap in the manifest. Seeking by ").concat(ht-q)),z.seek(ht,!1,!1)):(c.warn("Adjusting buffering time ".concat(ht," because of gap in the manifest. Adjusting time by ").concat(ht-q)),kt(ht),ze&&ke())}function Te(){var ze,ht=en();if(isNaN(q)||be()===t.Z.TEXT&&!te.isTextEnabled())return null;if(C){var je=G&&ht?G.getRepresentationForQuality(ht.quality):null;ze=H?C.getSegmentRequestForTime(I,je,q):C.getNextSegmentRequest(I,je)}return ze}function ke(){w.startScheduleTimer(z.getLowLatencyModeEnabled()?P.get().streaming.scheduling.lowLatencyTimeout:P.get().streaming.scheduling.defaultTimeout)}function me(ze){ze.error||h.getIsBufferingCompleted()||h.updateBufferTimestampOffset(ze.currentRepresentation)}function pe(ze){Q.addBufferState(Y,ze.state,w.getBufferTarget()),ze.state!==y.Z.BUFFER_EMPTY||z.isSeeking()||(c.info("Buffer is empty! Stalling!"),Q.pushPlayListTraceMetrics(new Date,Ne.REBUFFERING_REASON))}function De(ze){N.syncExecutedRequestsWithBufferedRange(h.getBuffer().getAllBufferRanges(),ce.duration),ze.quotaExceeded&&ze.from>z.getTime()&&kt(ze.from),ze.hasEnoughSpaceToAppend&&ze.quotaExceeded&&w.startScheduleTimer()}function xe(ze){if(ze&&ze.lastRequestAppended&&ze.lastRequestAppended.url){var ht=ze.lastRequestAppended.url;ze.lastRequestAppended.range&&(ht=ht.concat("_",ze.lastRequestAppended.range)),c.warn("Blacklisting segment with url ".concat(ht)),ye.add(ht)}}function Ze(ze){if(c.debug("Appended bytes for ".concat(ze.mediaType," and stream id ").concat(ze.streamId)),ze.segmentType===He.w.INIT_SEGMENT_TYPE){var ht=ze.quality;w.setLastInitializedQuality(ht),c.info("["+Y+"] lastInitializedRepresentationInfo changed to "+ze.quality)}fe?mt(fe):w.startScheduleTimer(0)}function mt(ze){var ht=N.getRequests({state:A.FRAGMENT_MODEL_LOADING});if(ht&&ht.length>0)return c.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),void(fe=ze);h.updateBufferTimestampOffset(ze).then(function(){I.segmentAlignment||I.subSegmentAlignment?w.startScheduleTimer():Zt(),fe=null,B=!1}).catch(function(){fe=null,B=!1})}function dt(ze){c.info("onFragmentLoadingAbandoned request: "+ze.request.url+" has been aborted"),z.isSeeking()||w.getSwitchTrack()||B||(c.info("onFragmentLoadingAbandoned request: "+ze.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ze.request&&ze.request.isInitializationRequest()?w.setInitSegmentRequired(!0):kt(ze.request.startTime+ze.request.duration/2),w.startScheduleTimer(0))}function Pt(ze){c.info("OnFragmentLoadingCompleted for stream id "+ce.id+" and media type "+Y+" - Url:",ze.request?ze.request.url:"undefined",ze.request.range?", Range:"+ze.request.range:""),Ae()&&w.startScheduleTimer(0),ze.error&&ze.request.serviceLocation&&function(ht){c.info("Fragment loading completed with an error"),ht&&ht.request&&ht.request.type&&(ht.request.type===He.w.INIT_SEGMENT_TYPE?ut({representationId:ht.request.representationId,sender:{}},!1):ht.request.type===He.w.MEDIA_SEGMENT_TYPE&&(kt(ht.request.startTime+ht.request.duration/2),rt({},!1)))}(ze)}function zt(){kt(z.getTime()),Qt().startScheduleTimer()}function Yt(ze){var ht=ze.currentTrackInfo;if(ht){var je=b.find(function(Re){return Re.index===ht.index&&Re.lang===ht.lang});je&&Wt(je).then(function(){h.setIsBufferingCompleted(!1),kt(z.getTime()),w.setInitSegmentRequired(!0),w.startScheduleTimer()})}}function jt(ze){kt(ze.quotaExceededTime),w.clearScheduleTimer()}function Vt(){return h?h.getBuffer():null}function Wt(ze){ze===I||ze&&I&&ze.type!==I.type||(I=ze);var ht=m.getRealAdaptation(ce,I),je=m.getVoRepresentations(I);if(G){var Re,ae=G.getData(),Fe=R.getMaxAllowedIndexFor(Y,ce.id),at=R.getMinAllowedIndexFor(Y,ce.id),Rt=null;return ae!==null&&ae.id===ht.id||Y===t.Z.TEXT?Re=R.getQualityFor(Y,ce.id):(Rt=R.getThroughputHistory().getAverageThroughput(Y,_)||R.getInitialBitrateFor(Y,ce.id),Re=R.getQualityForBitrate(I,Rt,ce.id)),at!==void 0&&Re<at&&(Re=at),Re>Fe&&(Re=Fe),G.updateData(ht,je,Y,I.isFragmented,Re)}return Promise.resolve()}function Qt(){return w}function en(ze){var ht;return ze!==void 0?((0,W.SE)(ze),ht=G?G.getRepresentationForQuality(ze):null):ht=G?G.getCurrentRepresentation():null,m.convertRepresentationToRepresentationInfo(ht)}function fn(){return!!h&&h.getIsBufferingCompleted()}function on(ze){if(P.get().streaming.enableManifestTimescaleMismatchFix){var ht=ze.chunk,je=ht.bytes,Re=en(ht.quality),ae=G&&Re?G.getRepresentationForQuality(Re.quality):null;Re&&ae&&(ae.timescale=le.getMediaTimescaleFromMoov(je))}}function cn(ze){var ht=ze.chunk,je=ht.bytes,Re=ht.quality,ae=en(Re),Fe=G&&ae?G.getRepresentationForQuality(ae.quality):null;if(ae&&Fe){var at;if(P.get().streaming.parseInbandPrft&&ze.request.type===He.w.MEDIA_SEGMENT_TYPE){var Rt=function(Sn,Qn){var Yn=Sn.getBoxes("prft"),dr=[];return Yn.forEach(function(Rr){dr.push(function(sr,gr){var tr="unknown";switch(sr.flags){case 0:tr=e.Z.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:tr=e.Z.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:tr=e.Z.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}var hr=1e3*sr.ntp_timestamp_sec+sr.ntp_timestamp_frac/Math.pow(2,32)*1e3;return{type:tr,ntpTimestamp:hr=At(ne).getInstance().ntpToUTC(hr),mediaTime:sr.media_time/gr}}(Rr,Qn))}),dr}(at=at||le.parse(je),Fe.timescale);Rt&&Rt.length&&se.trigger(n.Z.INBAND_PRFT,{data:Rt},{streamId:ce.id,mediaType:Y})}var xt=m.getEventsFor(ae.mediaInfo,null,ce),an=m.getEventsFor(ae,Fe,ce);if(xt&&xt.length>0||an&&an.length>0){var Rn=N.getRequests({state:A.FRAGMENT_MODEL_EXECUTED,quality:Re,index:ht.index})[0],Wn=function(Sn,Qn,Yn,dr){try{for(var Rr={},sr=[],gr=Yn.concat(dr),tr=0,hr=gr.length;tr<hr;tr++)Rr[gr[tr].schemeIdUri+"/"+gr[tr].value]=gr[tr];var Tr=Sn.getBoxes("emsg");if(!Tr||Tr.length===0)return sr;for(var Sr=Sn.getBox("sidx"),br=!Sr||isNaN(Sr.earliest_presentation_time)||isNaN(Sr.timescale)?Qn&&!isNaN(Qn.mediaStartTime)?Qn.mediaStartTime:0:Sr.earliest_presentation_time/Sr.timescale,Wr=Math.max(br,0),Si=G.getCurrentRepresentation(),Lr=0,xr=Tr.length;Lr<xr;Lr++){var Xr=m.getEvent(Tr[Lr],Rr,Wr,Si);Xr&&sr.push(Xr)}return sr}catch{return[]}}(at=at||le.parse(je),Rn,xt,an);se.trigger(u.Z.INBAND_EVENTS,{events:Wn},{streamId:ce.id})}}}function lt(){var ze=z.getTime();P.get().streaming.buffer.flushBufferAtTrackSwitch&&z.seek(ze+.001,!1,!0),kt(ze),h.setSeekTarget(ze),w.startScheduleTimer()}function Zt(){var ze=z.getTime(),ht=h.getContinuousBufferTimeForTargetTime(ze);kt(isNaN(ht)?ze:ht),w.startScheduleTimer()}function Gt(ze){ze&&!isNaN(ze.time)&&(kt(ze.time),h.setSeekTarget(ze.time))}function kt(ze){q=ze,H=!0}return r={initialize:function(ze,ht,je){j=(0,Ke.Z)(ne).create({events:u.Z,eventBus:se,streamInfo:ce,timelineConverter:re,dashConstants:e.Z,segmentBaseController:o.segmentBaseController,type:Y}),C=(0,V.Z)(ne).create({streamInfo:ce,type:Y,timelineConverter:re,dashMetrics:Q,mediaPlayerModel:L,baseURLController:o.baseURLController,errHandler:ue,segmentsController:j,settings:P,boxParser:le,events:u.Z,eventBus:se,errors:oe,debug:(0,E.Z)(ne).getInstance(),requestModifier:(0,he.Z)(ne).getInstance(),dashConstants:e.Z,constants:t.Z,urlUtils:(0,Me.Z)(ne).getInstance()}),_=ce.manifestInfo.isDynamic,C.initialize(_),R.registerStreamType(Y,r),G=T(ne).create({streamInfo:ce,type:Y,abrController:R,dashMetrics:Q,playbackController:z,timelineConverter:re,dashConstants:e.Z,events:u.Z,eventBus:se,errors:oe,isDynamic:_,adapter:m,segmentsController:j}),h=function(Re,ae){return Re?Re!==t.Z.TEXT||ae?qe(ne).create({streamInfo:ce,type:Re,mediaPlayerModel:L,manifestModel:x,fragmentModel:N,errHandler:ue,mediaController:K,representationController:G,adapter:m,textController:te,abrController:R,playbackController:z,settings:P}):ge(ne).create({streamInfo:ce,type:Re,mimeType:X,fragmentModel:N,textController:te,errHandler:ue,settings:P}):(ue.error(new U.Z(oe.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,oe.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(Y,je),h&&h.initialize(ze),(w=f(ne).create({streamInfo:ce,type:Y,mimeType:X,adapter:m,dashMetrics:Q,mediaPlayerModel:L,fragmentModel:N,abrController:R,playbackController:z,textController:te,mediaController:K,bufferController:h,representationController:G,settings:P})).initialize(ht),q=0,H=!1},getStreamId:Pe,getType:be,isUpdating:function(){return!!G&&G.isUpdating()},getBufferController:function(){return h},dischargePreBuffer:function(){h.dischargePreBuffer()},getFragmentModel:function(){return N},getScheduleController:Qt,getRepresentationController:function(){return G},getRepresentationInfo:en,getBufferLevel:function(){return h?h.getBufferLevel():0},isBufferingCompleted:fn,createBufferSinks:function(ze){var ht=Vt();return ht?Promise.resolve(ht):h?h.createBufferSink(I,ze):Promise.resolve(null)},updateStreamInfo:function(ze){return ce=ze,fn()?Promise.resolve():h.updateAppendWindow()},getStreamInfo:function(){return ce},selectMediaInfo:Wt,clearMediaInfoArray:function(){b=[]},addMediaInfo:function(ze){b.indexOf(ze)===-1&&b.push(ze)},prepareTrackSwitch:function(){return new Promise(function(ze){c.debug("Preparing track switch for type ".concat(Y));var ht=Y===t.Z.TEXT||P.get().streaming.trackSwitchMode[Y]===t.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&z.getTimeToStreamEnd(ce)>P.get().streaming.buffer.stallThreshold;if(h.getIsBufferingCompleted()&&!ht)return h.prepareForNonReplacementTrackSwitch(I.codec).then(function(){se.trigger(u.Z.BUFFERING_COMPLETED,{},{streamId:ce.id,mediaType:Y})}).catch(function(){se.trigger(u.Z.BUFFERING_COMPLETED,{},{streamId:ce.id,mediaType:Y})}),void ze();w.clearScheduleTimer(),w.setSwitchTrack(!0),ht?(se.trigger(u.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:ce.id},{mediaType:Y,streamId:ce.id}),N.abortRequests(),h.prepareForReplacementTrackSwitch(I.codec).then(function(){var je=en();return h.updateBufferTimestampOffset(je)}).then(function(){lt(),ze()}).catch(function(){lt(),ze()})):h.prepareForNonReplacementTrackSwitch(I.codec).then(function(){Zt(),ze()}).catch(function(){Zt(),ze()})})},prepareQualityChange:function(ze){fe&&c.warning("Canceling queued representation switch to ".concat(fe.quality," for ").concat(Y)),c.debug("Preparing quality switch for type ".concat(Y));var ht=ze.newQuality;B=!0,w.clearScheduleTimer(),G.prepareQualityChange(ht);var je=en(ht);ze.reason&&ze.reason.forceReplace?function(Re){N.abortRequests(),se.trigger(u.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:Y,streamId:ce.id},{mediaType:Y,streamId:ce.id}),h.prepareForForceReplacementQualitySwitch(Re).then(function(){lt(),B=!1}).catch(function(){lt(),B=!1})}(je):P.get().streaming.buffer.fastSwitchEnabled?function(Re){var ae=z.getTime(),Fe=1.5*(isNaN(Re.fragmentDuration)?1:Re.fragmentDuration),at=N.getRequests({state:A.FRAGMENT_MODEL_EXECUTED,time:ae+Fe,threshold:0})[0];if(at&&!Ae()){var Rt=h.getBufferLevel(),xt=R.getAbandonmentStateFor(ce.id,Y);at.quality<Re.quality&&Rt>=Fe&&xt!==y.Z.ABANDON_LOAD?h.updateBufferTimestampOffset(Re).then(function(){N.abortRequests(),kt(ae+Fe),w.setCheckPlaybackQuality(!1),w.startScheduleTimer(),B=!1}).catch(function(){B=!1}):mt(Re)}else w.startScheduleTimer(),B=!1}(je):mt(je),Q.pushPlayListTraceMetrics(new Date,Ne.REPRESENTATION_SWITCH_STOP_REASON),Q.createPlaylistTraceMetrics(je.id,1e3*z.getTime(),z.getPlaybackRate())},getMediaInfo:function(){return I},getMediaSource:function(){return h.getMediaSource()},setMediaSource:function(ze){return h.setMediaSource(ze,I)},getBuffer:Vt,setExplicitBufferingTime:kt,finalisePlayList:function(ze,ht){Q.pushPlayListTraceMetrics(ze,ht)},probeNextRequest:function(){var ze=en(),ht=G&&ze?G.getRepresentationForQuality(ze.quality):null;return C.getNextSegmentRequestIdempotent(I,ht)},prepareInnerPeriodPlaybackSeeking:function(ze){return new Promise(function(ht){if(h.hasBufferAtTime(ze.seekTime))return h.pruneBuffer(),st(h.getContinuousBufferTimeForTargetTime(ze.seekTime))&&h.setIsBufferingCompleted(!0),void ht();w.clearScheduleTimer(),N.abortRequests(),h.prepareForPlaybackSeek().then(function(){var je=h.getAllRangesWithSafetyFactor(ze.seekTime);return h.clearBuffers(je)}).then(function(){var je=h.getContinuousBufferTimeForTargetTime(ze.seekTime);if(st(je))h.setIsBufferingCompleted(!0),ht();else{var Re=isNaN(je)?ze.seekTime:je;kt(Re),h.setSeekTarget(Re);var ae=[];ae.push(h.updateAppendWindow());var Fe=en();ae.push(h.updateBufferTimestampOffset(Fe)),Promise.all(ae).then(function(){w.setInitSegmentRequired(!0),w.setCheckPlaybackQuality(!1),w.startScheduleTimer(),ht()})}}).catch(function(je){c.error(je)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(ze,ht){try{w.clearScheduleTimer(),N.abortRequests(),h.prepareForPlaybackSeek().then(function(){return h.pruneAllSafely()}).then(function(){ze()})}catch(je){ht(je)}})},reset:function(ze,ht){C&&C.reset(),h&&(h.reset(ze,ht),h=null),w&&(w.reset(),w=null),G&&(G.reset(),G=null),j&&(j=null),R&&R.unRegisterStreamType(Pe(),Y),se.off(u.Z.DATA_UPDATE_COMPLETED,me,r),se.off(u.Z.INIT_FRAGMENT_NEEDED,ut,r),se.off(u.Z.MEDIA_FRAGMENT_NEEDED,rt,r),se.off(u.Z.INIT_FRAGMENT_LOADED,on,r),se.off(u.Z.MEDIA_FRAGMENT_LOADED,cn,r),se.off(u.Z.BUFFER_LEVEL_STATE_CHANGED,pe,r),se.off(u.Z.BUFFER_CLEARED,De,r),se.off(u.Z.SEEK_TARGET,Gt,r),se.off(u.Z.FRAGMENT_LOADING_ABANDONED,dt,r),se.off(u.Z.FRAGMENT_LOADING_COMPLETED,Pt,r),se.off(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,zt,r),se.off(u.Z.SET_NON_FRAGMENTED_TEXT,Yt,r),se.off(u.Z.QUOTA_EXCEEDED,jt,r),se.off(u.Z.SOURCE_BUFFER_ERROR,xe,r),se.off(u.Z.BYTES_APPENDED_END_FRAGMENT,Ze,r),Ie(),Y=null,ce=null}},c=(0,E.Z)(ne).getInstance().getLogger(r),Ie(),se.on(u.Z.DATA_UPDATE_COMPLETED,me,r,{priority:p.Z.EVENT_PRIORITY_HIGH}),se.on(u.Z.INIT_FRAGMENT_NEEDED,ut,r),se.on(u.Z.MEDIA_FRAGMENT_NEEDED,rt,r),se.on(u.Z.INIT_FRAGMENT_LOADED,on,r),se.on(u.Z.MEDIA_FRAGMENT_LOADED,cn,r),se.on(u.Z.BUFFER_LEVEL_STATE_CHANGED,pe,r),se.on(u.Z.BUFFER_CLEARED,De,r),se.on(u.Z.SEEK_TARGET,Gt,r),se.on(u.Z.FRAGMENT_LOADING_ABANDONED,dt,r),se.on(u.Z.FRAGMENT_LOADING_COMPLETED,Pt,r),se.on(u.Z.QUOTA_EXCEEDED,jt,r),se.on(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,zt,r),se.on(u.Z.SET_NON_FRAGMENTED_TEXT,Yt,r),se.on(u.Z.SOURCE_BUFFER_ERROR,xe,r),se.on(u.Z.BYTES_APPENDED_END_FRAGMENT,Ze,r),r}et.__dashjs_factory_name="StreamProcessor";var Dt=g.Z.getClassFactory(et),Mt=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},Ut=O(9032);function ln(o,r){if(o){if(typeof o=="string")return mn(o,r);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?mn(o,r):void 0}}function mn(o,r){(r==null||r>o.length)&&(r=o.length);for(var c=0,_=new Array(r);c<r;c++)_[c]=o[c];return _}function _n(o){o=o||{};var r,c,_=this.context,I=o.requestModifier,b=o.lowLatencyThroughputModel,h=o.boxParser,w=(0,Ce.Z)(_).getInstance();function G(C){var j,q=new Date,fe=C.request,ne=new Headers;if(fe.range&&ne.append("Range","bytes="+fe.range),C.headers)for(var se in C.headers){var ce=C.headers[se];ce&&ne.append(se,ce)}fe.requestStartDate||(fe.requestStartDate=q),I&&I.modifyRequestHeader&&I.modifyRequestHeader({setRequestHeader:function(m,x){ne.append(m,x)}},{url:C.url}),typeof window.AbortController=="function"&&(j=new AbortController,C.abortController=j,j.signal.onabort=C.onabort);var Y={method:C.method,headers:ne,credentials:C.withCredentials?"include":void 0,signal:j?j.signal:void 0},ue=w.get().streaming.abr.fetchThroughputCalculationMode,X=Date.now(),re=0;new Promise(function(m){if(ue===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&b&&(re=b.getThroughputCapacityDelayMS(fe,1e3*c.getCurrentBufferLevel(fe.mediaType))))return setTimeout(m,re);m()}).then(function(){var m=Date.now();fetch(C.url,Y).then(function(x){C.response||(C.response={}),C.response.status=x.status,C.response.statusText=x.statusText,C.response.responseURL=x.url,x.ok||C.onerror();var L,N="",R=function(pe,De){var xe;if(typeof Symbol>"u"||pe[Symbol.iterator]==null){if(Array.isArray(pe)||(xe=ln(pe))){xe&&(pe=xe);var Ze=0,mt=function(){};return{s:mt,n:function(){return Ze>=pe.length?{done:!0}:{done:!1,value:pe[Ze++]}},e:function(Yt){throw Yt},f:mt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt,Pt=!0,zt=!1;return{s:function(){xe=pe[Symbol.iterator]()},n:function(){var Yt=xe.next();return Pt=Yt.done,Yt},e:function(Yt){zt=!0,dt=Yt},f:function(){try{Pt||xe.return==null||xe.return()}finally{if(zt)throw dt}}}}(x.headers.keys());try{for(R.s();!(L=R.n()).done;){var z=L.value;N+=z+": "+x.headers.get(z)+`\r
`}}catch(pe){R.e(pe)}finally{R.f()}if(C.response.responseHeaders=N,!x.body)return x.arrayBuffer().then(function(pe){C.response.response=pe;var De={loaded:pe.byteLength,total:pe.byteLength,stream:!1};C.progress(De),C.onload(),C.onend()});var K,te,Q,P,le=parseInt(x.headers.get("Content-Length"),10),ye=0,Pe=!1,be=new Uint8Array,Ae=0;if(ue===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&b){var Ie=m,st=0,ut=(Q=x.body.tee(),P=2,function(pe){if(Array.isArray(pe))return pe}(Q)||function(pe,De){if(typeof Symbol<"u"&&Symbol.iterator in Object(pe)){var xe=[],Ze=!0,mt=!1,dt=void 0;try{for(var Pt,zt=pe[Symbol.iterator]();!(Ze=(Pt=zt.next()).done)&&(xe.push(Pt.value),!De||xe.length!==De);Ze=!0);}catch(Yt){mt=!0,dt=Yt}finally{try{Ze||zt.return==null||zt.return()}finally{if(mt)throw dt}}return xe}}(Q,P)||ln(Q,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),rt=ut[0],nt=ut[1];K=rt.getReader(),te=[],K.read().then(function pe(De){var xe=De.value,Ze=De.done;if(st=Date.now(),xe&&xe.length){var mt=st-Ie,dt=xe.length;te.push({chunkDownloadTimeRelativeMS:st-m,chunkDownloadDurationMS:mt,chunkBytes:dt,kbps:Math.round(8*dt/(mt/1e3)),bufferLevel:c.getCurrentBufferLevel(fe.mediaType)})}if(Ze){var Pt=st-m,zt=te.reduce(function(Yt,jt){return Yt+jt.chunkBytes},0);return b.addMeasurement(fe,Pt,te,X,re,N),void C.progress({loaded:zt,total:zt,lengthComputable:!0,time:b.getEstimatedDownloadDurationMS(fe),stream:!0})}return Ie=Date.now(),K.read().then(pe)}),C.reader=nt.getReader()}else C.reader=x.body.getReader();var Ot=[],Te=[],ke=[],me=!0;H(C,function pe(De){var xe=De.value;if(De.done){if(be){if(ue!==t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var Ze=null,mt=null;ue===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(Ze=function(Yt,jt){try{var Vt,Wt;Vt=Yt.filter(function(Zt,Gt){return Gt<Yt.length-1}),Wt=jt.filter(function(Zt,Gt){return Gt<jt.length-1});var Qt=[];if(Vt.length>1){for(var en=0,fn=0,on=0;on<Vt.length;on++)if(Vt[on]&&Wt[on]){var cn=Wt[on].ts-Vt[on].ts;if(cn>1)Qt.push(8*Wt[on].bytes/cn),fn=0;else{fn===0&&(fn=Vt[on].ts,en=0);var lt=Wt[on].ts-fn;lt>1?(en+=Wt[on].bytes,Qt.push(8*en/lt),fn=0):en+=Wt[on].bytes}}if(Qt.length>0)return Qt.reduce(function(Zt,Gt){return Zt+Gt},0)/Qt.length}return null}catch{return null}}(Te,ke),Ze&&(mt=8*ye/Ze)):ue===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(mt=B(Ot,ye)),C.progress({loaded:ye,total:isNaN(le)?ye:le,lengthComputable:!0,time:mt,stream:!0})}C.response.response=be.buffer}return C.onload(),void C.onend()}if(xe&&xe.length>0){be=function(Yt,jt){if(Yt.length===0)return jt;var Vt=new Uint8Array(Yt.length+jt.length);return Vt.set(Yt),Vt.set(jt,Yt.length),Vt}(be,xe),ye+=xe.length,Ot.push({ts:Date.now(),bytes:xe.length}),ue===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&me&&h.findLastTopIsoBoxCompleted(["moof"],be,Ae).found&&(me=!1,Te.push({ts:performance.now(),bytes:xe.length}));var dt=h.findLastTopIsoBoxCompleted(["moov","mdat"],be,Ae);if(dt.found){var Pt,zt=dt.lastCompletedOffset+dt.size;ue!==t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||me||(me=!0,ke.push({ts:performance.now(),bytes:be.length})),zt===be.length?(Pt=be,be=new Uint8Array):(Pt=new Uint8Array(be.subarray(0,zt)),be=be.subarray(zt)),C.progress({data:Pt.buffer,lengthComputable:!1,noTrace:!0}),Ae=0}else Ae=dt.lastCompletedOffset,Pe||(C.progress({lengthComputable:!1,noTrace:!0}),Pe=!0)}H(C,pe)})}).catch(function(x){C.onerror&&C.onerror(x)})})}function H(C,j){C.reader.read().then(j).catch(function(q){C.onerror&&C.response.status===200&&C.onerror(q)})}function B(C,j){try{if((C=C.filter(function(ne){return ne.bytes>j/4/C.length})).length>1){var q=0,fe=(C[C.length-1].ts-C[0].ts)/C.length;return C.forEach(function(ne,se){var ce=C[se+1];if(ce){var Y=ce.ts-ne.ts;q+=Y<fe?Y:0}}),q}return null}catch{return null}}return r={load:function(C){I&&I.modifyRequest?(0,he.k)(C,I).then(function(){return G(C)}):G(C)},abort:function(C){if(C.abortController)C.abortController.abort();else if(C.reader)try{C.reader.cancel(),C.onabort()}catch{}},calculateDownloadedTime:B,setup:function(C){c=C.dashMetrics}},r}_n.__dashjs_factory_name="FetchLoader";var Bn=g.Z.getClassFactory(_n),vn=O(1180);function An(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var Gn=function(){function o(){(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.frameRate=null}var r,c;return r=o,(c=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==e.Z.BASE_URL&&this.segmentInfoType!==e.Z.SEGMENT_BASE&&!this.indexRange}}])&&An(r.prototype,c),o}(),pn=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.period=null,this.index=-1,this.type=null},Jn=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Jn.DEFAULT_ID="defaultId";var Fn=Jn,jn=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},$n=O(2610),Hn=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},nr=function o(r,c,_,I){(function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=r||"",this.serviceLocation=c||r||"",this.dvb_priority=_||1,this.dvb_weight=I||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}};nr.DEFAULT_DVB_PRIORITY=1,nr.DEFAULT_DVB_WEIGHT=1;var rr=nr,Cr=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},_t=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},pt=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0};function yt(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var Ye=function(){function o(){(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this.schemeIdUri=null,this.value=null,this.id=null}var r,c;return r=o,(c=[{key:"init",value:function(_){return _&&(this.schemeIdUri=_.schemeIdUri?_.schemeIdUri:null,this.value=_.value?_.value:null,this.id=_.id?_.id:null),this}}])&&yt(r.prototype,c),o}(),ot=O(3101),Xe=O.n(ot);function it(){return{areEqual:function(o,r){return Xe()(o,r)}}}it.__dashjs_factory_name="ObjectUtils";var It=g.Z.getSingletonFactory(it),wt=O(7803),Bt=function o(r,c){(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=r||"",this.serviceLocation=c||null,this.queryParams={}},qt=function o(r,c,_){(function(I,b){if(!(I instanceof b))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=r||"",this.serviceLocation=c||null,this.ttl=_||NaN,this.queryParams={}};function Ct(o,r){var c;if(typeof Symbol>"u"||o[Symbol.iterator]==null){if(Array.isArray(o)||(c=gt(o))||r&&o&&typeof o.length=="number"){c&&(o=c);var _=0,I=function(){};return{s:I,n:function(){return _>=o.length?{done:!0}:{done:!1,value:o[_++]}},e:function(G){throw G},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,h=!0,w=!1;return{s:function(){c=o[Symbol.iterator]()},n:function(){var G=c.next();return h=G.done,G},e:function(G){w=!0,b=G},f:function(){try{h||c.return==null||c.return()}finally{if(w)throw b}}}}function gt(o,r){if(o){if(typeof o=="string")return Ft(o,r);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Ft(o,r):void 0}}function Ft(o,r){(r==null||r>o.length)&&(r=o.length);for(var c=0,_=new Array(r);c<r;c++)_[c]=o[c];return _}function Lt(){var o,r,c,_,I=this.context,b=(0,Me.Z)(I).getInstance(),h=Number.isInteger||function(m){return typeof m=="number"&&isFinite(m)&&Math.floor(m)===m};function w(m,x){if(!m)throw new Error("adaptation is not defined");if(!x)throw new Error("type is not defined");if(m.Representation_asArray&&m.Representation_asArray.length){var L=se(m.Representation_asArray[0]);if(L&&L.length>0&&wt.Y.indexOf(L[0].schemeIdUri)>=0)return x===t.Z.IMAGE}if(m.ContentComponent_asArray&&m.ContentComponent_asArray.length>0){if(m.ContentComponent_asArray.length>1)return x===t.Z.MUXED;if(m.ContentComponent_asArray[0].contentType===x)return!0}var N=x===t.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(x);if(m.Representation_asArray&&m.Representation_asArray.length){var R=m.Representation_asArray[0].codecs;if(N.test(R))return!0}if(m.hasOwnProperty(e.Z.MIME_TYPE))return N.test(m.mimeType);if(m.Representation_asArray){for(var z,K=0;K<m.Representation_asArray.length;K++)if((z=m.Representation_asArray[K]).hasOwnProperty(e.Z.MIME_TYPE))return N.test(z.mimeType)}return!1}function G(m){if(!m)throw new Error("adaptation is not defined");if(m.hasOwnProperty(e.Z.SEGMENT_TEMPLATE)||m.hasOwnProperty(e.Z.SEGMENT_TIMELINE)||m.hasOwnProperty(e.Z.SEGMENT_LIST)||m.hasOwnProperty(e.Z.SEGMENT_BASE))return!0;if(m.Representation_asArray&&m.Representation_asArray.length>0){var x=m.Representation_asArray[0];if(x.hasOwnProperty(e.Z.SEGMENT_TEMPLATE)||x.hasOwnProperty(e.Z.SEGMENT_TIMELINE)||x.hasOwnProperty(e.Z.SEGMENT_LIST)||x.hasOwnProperty(e.Z.SEGMENT_BASE))return!0}return!1}function H(m){return w(m,t.Z.VIDEO)}function B(m){return w(m,t.Z.TEXT)}function C(m){return w(m,t.Z.IMAGE)}function j(m){return m&&Array.isArray(m.Representation_asArray)&&m.Representation_asArray.sort(function(x,L){return x.bandwidth-L.bandwidth}),m}function q(m,x){return m&&m.Period_asArray&&h(x)&&m.Period_asArray[x]?m.Period_asArray[x].AdaptationSet_asArray:[]}function fe(m){return m&&m.Period_asArray?m.Period_asArray:[]}function ne(m){var x=!1;return m&&m.hasOwnProperty("type")&&(x=m.type===e.Z.DYNAMIC),x}function se(m){return m&&m.EssentialProperty_asArray&&m.EssentialProperty_asArray.length?m.EssentialProperty_asArray.map(function(x){return{schemeIdUri:x.schemeIdUri,value:x.value}}):null}function ce(m){if(!m||!m.S_asArray)return NaN;var x=m.S_asArray[0],L=m.S_asArray[1];return x.hasOwnProperty("d")?x.d:L.t-x.t}function Y(m,x){if(!m)throw new Error("Period cannot be null or undefined");var L=Fn.DEFAULT_ID+"_"+x;return m.hasOwnProperty(e.Z.ID)&&m.id.length>0&&m.id!=="__proto__"&&(L=m.id),L}function ue(m,x,L){var N,R=[];if(!m)return R;for(N=0;N<m.length;N++){var z=new Cr;if(z.timescale=1,z.representation=x,!m[N].hasOwnProperty(t.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");z.schemeIdUri=m[N].schemeIdUri,m[N].hasOwnProperty(e.Z.TIMESCALE)&&(z.timescale=m[N].timescale),m[N].hasOwnProperty(e.Z.VALUE)&&(z.value=m[N].value),R.push(z),z.period=L}return R}function X(m){var x=[],L=m.BaseURL_asArray||[m.baseUri],N=!1;return L.some(function(R){if(R){var z=new rr,K=R.__text||R;return b.isRelative(K)&&(N=!0,m.baseUri&&(K=b.resolve(K,m.baseUri))),z.url=K,R.hasOwnProperty(e.Z.SERVICE_LOCATION)&&R.serviceLocation.length?z.serviceLocation=R.serviceLocation:z.serviceLocation=K,R.hasOwnProperty(e.Z.DVB_PRIORITY)&&(z.dvb_priority=R[e.Z.DVB_PRIORITY]),R.hasOwnProperty(e.Z.DVB_WEIGHT)&&(z.dvb_weight=R[e.Z.DVB_WEIGHT]),R.hasOwnProperty(e.Z.AVAILABILITY_TIME_OFFSET)&&(z.availabilityTimeOffset=R[e.Z.AVAILABILITY_TIME_OFFSET]),R.hasOwnProperty(e.Z.AVAILABILITY_TIME_COMPLETE)&&(z.availabilityTimeComplete=R[e.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),x.push(z),N}}),x}function re(m){var x=new pt;return x.serverUrl=m.__text,m.hasOwnProperty(e.Z.DEFAULT_SERVICE_LOCATION)&&(x.defaultServiceLocation=m[e.Z.DEFAULT_SERVICE_LOCATION],x.defaultServiceLocationArray=x.defaultServiceLocation.split(" ")),m.hasOwnProperty(e.Z.QUERY_BEFORE_START)&&(x.queryBeforeStart=m[e.Z.QUERY_BEFORE_START].toLowerCase()==="true"),m.hasOwnProperty(e.Z.CLIENT_REQUIREMENT)&&(x.clientRequirement=m[e.Z.CLIENT_REQUIREMENT].toLowerCase()!=="false"),x}return o={getIsTypeOf:w,getIsText:B,getIsFragmented:G,getProducerReferenceTimesForAdaptation:function(m){var x=m&&m.hasOwnProperty(e.Z.PRODUCERREFERENCETIME_ASARRAY)?m[e.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(m&&m.hasOwnProperty(e.Z.REPRESENTATION_ASARRAY)?m[e.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(N){var R;N.hasOwnProperty(e.Z.PRODUCERREFERENCETIME_ASARRAY)&&x.push.apply(x,function(z){if(Array.isArray(z))return Ft(z)}(R=N[e.Z.PRODUCERREFERENCETIME_ASARRAY])||function(z){if(typeof Symbol<"u"&&Symbol.iterator in Object(z))return Array.from(z)}(R)||gt(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var L=[];return x.forEach(function(N){var R=new _t;N.hasOwnProperty(e.Z.ID)&&(R[e.Z.ID]=N[e.Z.ID],N.hasOwnProperty(e.Z.WALL_CLOCK_TIME)&&(R[e.Z.WALL_CLOCK_TIME]=N[e.Z.WALL_CLOCK_TIME],N.hasOwnProperty(e.Z.PRESENTATION_TIME)&&(R[e.Z.PRESENTATION_TIME]=N[e.Z.PRESENTATION_TIME],N.hasOwnProperty(e.Z.INBAND)&&(R[e.Z.INBAND]=N[e.Z.INBAND]!=="false"),N.hasOwnProperty(e.Z.TYPE)&&(R[e.Z.TYPE]=N[e.Z.TYPE]),L.push(R))))}),L},getLanguageForAdaptation:function(m){var x="";return m&&m.hasOwnProperty(e.Z.LANG)&&(x=m.lang),x},getViewpointForAdaptation:function(m){return m&&m.hasOwnProperty(e.Z.VIEWPOINT_ASARRAY)&&m[e.Z.VIEWPOINT_ASARRAY].length?m[e.Z.VIEWPOINT_ASARRAY].map(function(x){return new Ye().init(x)}):[]},getRolesForAdaptation:function(m){return m&&m.hasOwnProperty(e.Z.ROLE_ASARRAY)&&m[e.Z.ROLE_ASARRAY].length?m[e.Z.ROLE_ASARRAY].map(function(x){return new Ye().init(x)}):[]},getAccessibilityForAdaptation:function(m){return m&&m.hasOwnProperty(e.Z.ACCESSIBILITY_ASARRAY)&&m[e.Z.ACCESSIBILITY_ASARRAY].length?m[e.Z.ACCESSIBILITY_ASARRAY].map(function(x){return new Ye().init(x)}):[]},getAudioChannelConfigurationForAdaptation:function(m){return m&&m.hasOwnProperty(e.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&m[e.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?m[e.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(x){return new Ye().init(x)}):[]},getAudioChannelConfigurationForRepresentation:function(m){return m&&m.hasOwnProperty(e.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)&&m[e.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].length?m[e.Z.AUDIOCHANNELCONFIGURATION_ASARRAY].map(function(x){return new Ye().init(x)}):[]},getAdaptationForIndex:function(m,x,L){var N=q(x,L);return N.length>0&&h(m)?N[m]:null},getIndexForAdaptation:function(m,x,L){if(!m)return-1;for(var N=q(x,L),R=0;R<N.length;R++)if(It(I).getInstance().areEqual(N[R],m))return R;return-1},getAdaptationForId:function(m,x,L){var N,R,z=q(x,L);for(N=0,R=z.length;N<R;N++)if(z[N].hasOwnProperty(e.Z.ID)&&z[N].id===m)return z[N];return null},getAdaptationsForType:function(m,x,L){var N,R,z=q(m,x),K=[];for(N=0,R=z.length;N<R;N++)w(z[N],L)&&K.push(j(z[N]));return K},getRealPeriods:fe,getRealPeriodForIndex:function(m,x){var L=fe(x);return L.length>0&&h(m)?L[m]:null},getCodec:function(m,x,L){var N=null;if(m&&m.Representation_asArray&&m.Representation_asArray.length>0){var R=h(x)&&x>=0&&x<m.Representation_asArray.length?m.Representation_asArray[x]:m.Representation_asArray[0];R&&(N=R.mimeType+';codecs="'+R.codecs+'"',L&&R.width!==void 0&&(N+=';width="'+R.width+'";height="'+R.height+'"'))}return N&&(N=N.replace(/\sprofiles=[^;]*/g,"")),N},getSelectionPriority:function(m){try{var x=m&&m.selectionPriority!==void 0?parseInt(m.selectionPriority):1;return isNaN(x)?1:x}catch{return 1}},getMimeType:function(m){return m&&m.Representation_asArray&&m.Representation_asArray.length>0?m.Representation_asArray[0].mimeType:null},getKID:function(m){return m&&m.hasOwnProperty(e.Z.CENC_DEFAULT_KID)?m[e.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(m){if(!m||!Array.isArray(m.Label_asArray))return[];for(var x=[],L=0;L<m.Label_asArray.length;L++)x.push({lang:m.Label_asArray[L].lang,text:m.Label_asArray[L].__text||m.Label_asArray[L]});return x},getContentProtectionData:function(m){return m&&m.hasOwnProperty(e.Z.CONTENTPROTECTION_ASARRAY)&&m.ContentProtection_asArray.length!==0?m.ContentProtection_asArray:null},getIsDynamic:ne,getId:function(m){return m&&m[e.Z.ID]||null},hasProfile:function(m,x){var L=!1;return m&&m.profiles&&m.profiles.length>0&&(L=m.profiles.indexOf(x)!==-1),L},getDuration:function(m){return m&&m.hasOwnProperty(e.Z.MEDIA_PRESENTATION_DURATION)?m.mediaPresentationDuration:m&&m.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(m){return m&&m.bandwidth?m.bandwidth:NaN},getManifestUpdatePeriod:function(m){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=NaN;return m&&m.hasOwnProperty(e.Z.MINIMUM_UPDATE_PERIOD)&&(L=m.minimumUpdatePeriod),isNaN(L)?L:Math.max(L-x,1)},getPublishTime:function(m){return m&&m.hasOwnProperty(e.Z.PUBLISH_TIME)?new Date(m[e.Z.PUBLISH_TIME]):null},getRepresentationCount:function(m){return m&&Array.isArray(m.Representation_asArray)?m.Representation_asArray.length:0},getBitrateListForAdaptation:function(m){var x=j(m);return(x&&Array.isArray(x.Representation_asArray)?x.Representation_asArray:[]).map(function(L){return{bandwidth:L.bandwidth,width:L.width||0,height:L.height||0,scanType:L.scanType||null,id:L.id||null}})},getRepresentationFor:function(m,x){return x&&x.Representation_asArray&&x.Representation_asArray.length>0&&h(m)?x.Representation_asArray[m]:null},getRepresentationsForAdaptation:function(m){var x,L,N,R,z=[],K=function(be){if(be&&be.period&&h(be.period.index)){var Ae=be.period.mpd.manifest.Period_asArray[be.period.index];if(Ae&&Ae.AdaptationSet_asArray&&h(be.index))return j(Ae.AdaptationSet_asArray[be.index])}}(m);if(K&&K.Representation_asArray){if(m&&m.period&&h(m.period.index)){var te=X(m.period.mpd.manifest);te&&(L=te[0])}for(var Q=0,P=K.Representation_asArray.length;Q<P;++Q){var le=K.Representation_asArray[Q],ye=new Gn;if(ye.index=Q,ye.adaptation=m,le.hasOwnProperty(e.Z.ID)&&(ye.id=le.id),le.hasOwnProperty(e.Z.CODECS)&&(ye.codecs=le.codecs),le.hasOwnProperty(e.Z.MIME_TYPE)&&(ye.mimeType=le[e.Z.MIME_TYPE]),le.hasOwnProperty(e.Z.CODEC_PRIVATE_DATA)&&(ye.codecPrivateData=le.codecPrivateData),le.hasOwnProperty(e.Z.BANDWITH)&&(ye.bandwidth=le.bandwidth),le.hasOwnProperty(e.Z.WIDTH)&&(ye.width=le.width),le.hasOwnProperty(e.Z.HEIGHT)&&(ye.height=le.height),le.hasOwnProperty(e.Z.SCAN_TYPE)&&(ye.scanType=le.scanType),le.hasOwnProperty(e.Z.MAX_PLAYOUT_RATE)&&(ye.maxPlayoutRate=le.maxPlayoutRate),le.hasOwnProperty(e.Z.SEGMENT_BASE)?(x=le.SegmentBase,ye.segmentInfoType=e.Z.SEGMENT_BASE):le.hasOwnProperty(e.Z.SEGMENT_LIST)?(x=le.SegmentList).hasOwnProperty(e.Z.SEGMENT_TIMELINE)?ye.segmentInfoType=e.Z.SEGMENT_TIMELINE:ye.segmentInfoType=e.Z.SEGMENT_LIST:le.hasOwnProperty(e.Z.SEGMENT_TEMPLATE)?((x=le.SegmentTemplate).hasOwnProperty(e.Z.SEGMENT_TIMELINE)?ye.segmentInfoType=e.Z.SEGMENT_TIMELINE:ye.segmentInfoType=e.Z.SEGMENT_TEMPLATE,x.hasOwnProperty(e.Z.INITIALIZATION_MINUS)&&(ye.initialization=x.initialization.split("$Bandwidth$").join(le.bandwidth).split("$RepresentationID$").join(le.id))):ye.segmentInfoType=e.Z.BASE_URL,ye.essentialProperties=se(le),x){if(x.hasOwnProperty(e.Z.INITIALIZATION)){var Pe=x.Initialization;Pe.hasOwnProperty(e.Z.SOURCE_URL)&&(ye.initialization=Pe.sourceURL),Pe.hasOwnProperty(e.Z.RANGE)&&(ye.range=Pe.range)}else B(K)&&G(K)&&K.mimeType&&K.mimeType.indexOf("application/mp4")===-1&&(ye.range=0);x.hasOwnProperty(e.Z.TIMESCALE)&&(ye.timescale=x.timescale),x.hasOwnProperty(e.Z.DURATION)?ye.segmentDuration=x.duration/ye.timescale:le.hasOwnProperty(e.Z.SEGMENT_TEMPLATE)&&(x=le.SegmentTemplate).hasOwnProperty(e.Z.SEGMENT_TIMELINE)&&(ye.segmentDuration=ce(x.SegmentTimeline)/ye.timescale),x.hasOwnProperty(e.Z.MEDIA)&&(ye.media=x.media),x.hasOwnProperty(e.Z.START_NUMBER)&&(ye.startNumber=x.startNumber),x.hasOwnProperty(e.Z.INDEX_RANGE)&&(ye.indexRange=x.indexRange),x.hasOwnProperty(e.Z.PRESENTATION_TIME_OFFSET)&&(ye.presentationTimeOffset=x.presentationTimeOffset/ye.timescale),x.hasOwnProperty(e.Z.AVAILABILITY_TIME_OFFSET)?ye.availabilityTimeOffset=x.availabilityTimeOffset:L&&L.availabilityTimeOffset!==void 0&&(ye.availabilityTimeOffset=L.availabilityTimeOffset),x.hasOwnProperty(e.Z.AVAILABILITY_TIME_COMPLETE)?ye.availabilityTimeComplete=x.availabilityTimeComplete!=="false":L&&L.availabilityTimeComplete!==void 0&&(ye.availabilityTimeComplete=L.availabilityTimeComplete)}ye.MSETimeOffset=(R=(N=ye).presentationTimeOffset,N.adaptation.period.start-R),ye.path=[m.period.index,m.index,Q],z.push(ye)}}return z},getAdaptationsForPeriod:function(m){var x,L,N,R=m&&h(m.index)?m.mpd.manifest.Period_asArray[m.index]:null,z=[];if(R&&R.AdaptationSet_asArray)for(N=0;N<R.AdaptationSet_asArray.length;N++)L=R.AdaptationSet_asArray[N],x=new pn,L.hasOwnProperty(e.Z.ID)&&(x.id=L.id),x.index=N,x.period=m,w(L,t.Z.MUXED)?x.type=t.Z.MUXED:w(L,t.Z.AUDIO)?x.type=t.Z.AUDIO:H(L)?x.type=t.Z.VIDEO:B(L)?x.type=t.Z.TEXT:C(L)?x.type=t.Z.IMAGE:r.warn("Unknown Adaptation stream type"),z.push(x);return z},getRegularPeriods:function(m){var x,L,N=!!m&&ne(m.manifest),R=[],z=null,K=null,te=null,Q=null;for(L=0,x=m&&m.manifest&&m.manifest.Period_asArray?m.manifest.Period_asArray.length:0;L<x;L++)(K=m.manifest.Period_asArray[L]).hasOwnProperty(e.Z.START)?(Q=new Fn).start=K.start:z!==null&&z.hasOwnProperty(e.Z.DURATION)&&te!==null?(Q=new Fn).start=parseFloat((te.start+te.duration).toFixed(5)):L!==0||N||((Q=new Fn).start=0),te!==null&&isNaN(te.duration)&&(Q!==null?te.duration=parseFloat((Q.start-te.start).toFixed(5)):r.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),Q!==null&&(Q.id=Y(K,L),Q.index=L,Q.mpd=m,K.hasOwnProperty(e.Z.DURATION)&&(Q.duration=K.duration),te&&(te.nextPeriodId=Q.id),R.push(Q),z=K,te=Q),K=null,Q=null;return R.length===0||te!==null&&isNaN(te.duration)&&(te.duration=parseFloat((function(P){(function(){if(!c||!c.hasOwnProperty("error"))throw new Error(t.Z.MISSING_CONFIG_ERROR)})();var le,ye=ne(P.mpd.manifest);return P.mpd.manifest.mediaPresentationDuration?le=P.mpd.manifest.mediaPresentationDuration:P.duration?le=P.duration:ye?le=Number.POSITIVE_INFINITY:c.error(new U.Z(oe.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",P)),le}(te)-te.start).toFixed(5))),R},getMpd:function(m){var x=new jn;return m&&(x.manifest=m,m.hasOwnProperty(e.Z.AVAILABILITY_START_TIME)?x.availabilityStartTime=new Date(m.availabilityStartTime.getTime()):m.loadedTime&&(x.availabilityStartTime=new Date(m.loadedTime.getTime())),m.hasOwnProperty(e.Z.AVAILABILITY_END_TIME)&&(x.availabilityEndTime=new Date(m.availabilityEndTime.getTime())),m.hasOwnProperty(e.Z.MINIMUM_UPDATE_PERIOD)&&(x.minimumUpdatePeriod=m.minimumUpdatePeriod),m.hasOwnProperty(e.Z.MEDIA_PRESENTATION_DURATION)&&(x.mediaPresentationDuration=m.mediaPresentationDuration),m.hasOwnProperty(e.Z.SUGGESTED_PRESENTATION_DELAY)&&(x.suggestedPresentationDelay=m.suggestedPresentationDelay),m.hasOwnProperty(e.Z.TIMESHIFT_BUFFER_DEPTH)&&(x.timeShiftBufferDepth=m.timeShiftBufferDepth),m.hasOwnProperty(e.Z.MAX_SEGMENT_DURATION)&&(x.maxSegmentDuration=m.maxSegmentDuration),m.hasOwnProperty(e.Z.PUBLISH_TIME)&&(x.publishTime=new Date(m.publishTime))),x},getEventsForPeriod:function(m){var x,L,N=m&&m.mpd&&m.mpd.manifest?m.mpd.manifest:null,R=N?N.Period_asArray:null,z=R&&m&&h(m.index)?R[m.index].EventStream_asArray:null,K=[];if(z)for(x=0;x<z.length;x++){var te=new Cr;if(te.period=m,te.timescale=1,!z[x].hasOwnProperty(t.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(te.schemeIdUri=z[x][t.Z.SCHEME_ID_URI],z[x].hasOwnProperty(e.Z.TIMESCALE)&&(te.timescale=z[x][e.Z.TIMESCALE]),z[x].hasOwnProperty(e.Z.VALUE)&&(te.value=z[x][e.Z.VALUE]),z[x].hasOwnProperty(e.Z.PRESENTATION_TIME_OFFSET)&&(te.presentationTimeOffset=z[x][e.Z.PRESENTATION_TIME_OFFSET]),L=0;z[x].Event_asArray&&L<z[x].Event_asArray.length;L++){var Q=z[x].Event_asArray[L],P=new Hn;P.presentationTime=0,P.eventStream=te,Q.hasOwnProperty(e.Z.PRESENTATION_TIME)&&(P.presentationTime=Q.presentationTime);var le=te.presentationTimeOffset?te.presentationTimeOffset/te.timescale:0;P.calculatedPresentationTime=P.presentationTime/te.timescale+m.start-le,Q.hasOwnProperty(e.Z.DURATION)&&(P.duration=Q.duration/te.timescale),Q.hasOwnProperty(e.Z.ID)?P.id=Q.id:P.id=null,Q.Signal&&Q.Signal.Binary?P.messageData=_.decodeArray(Q.Signal.Binary.toString()):P.messageData=Q.messageData||Q.__cdata||Q.__text,K.push(P)}}return K},getEssentialPropertiesForRepresentation:se,getEventStreamForAdaptationSet:function(m,x,L){var N,R,z;return m&&m.Period_asArray&&x&&x.period&&h(x.period.index)&&(R=m.Period_asArray[x.period.index])&&R.AdaptationSet_asArray&&h(x.index)&&(z=R.AdaptationSet_asArray[x.index])&&(N=z.InbandEventStream_asArray),ue(N,null,L)},getEventStreamForRepresentation:function(m,x,L){var N,R,z,K;return m&&m.Period_asArray&&x&&x.adaptation&&x.adaptation.period&&h(x.adaptation.period.index)&&(R=m.Period_asArray[x.adaptation.period.index])&&R.AdaptationSet_asArray&&h(x.adaptation.index)&&(z=R.AdaptationSet_asArray[x.adaptation.index])&&z.Representation_asArray&&h(x.index)&&(K=z.Representation_asArray[x.index])&&(N=K.InbandEventStream_asArray),ue(N,x,L)},getUTCTimingSources:function(m){var x=ne(m),L=!!m&&m.hasOwnProperty(e.Z.AVAILABILITY_START_TIME),N=m?m.UTCTiming_asArray:null,R=[];return(x||L)&&N&&N.forEach(function(z){var K=new $n.Z;z.hasOwnProperty(t.Z.SCHEME_ID_URI)&&(K.schemeIdUri=z.schemeIdUri,z.hasOwnProperty(e.Z.VALUE)&&(K.value=z.value.toString(),R.push(K)))}),R},getBaseURLsFromElement:X,getRepresentationSortFunction:function(){return function(m,x){return m.bandwidth-x.bandwidth}},getContentSteering:function(m){if(m&&m.hasOwnProperty(e.Z.CONTENT_STEERING_AS_ARRAY))return re(m[e.Z.CONTENT_STEERING_AS_ARRAY][0])},getLocation:function(m){return m&&m.hasOwnProperty(e.Z.LOCATION_AS_ARRAY)?m[e.Z.LOCATION_AS_ARRAY].map(function(x){var L=x.__text||x,N=x.hasOwnProperty(e.Z.SERVICE_LOCATION)?x[e.Z.SERVICE_LOCATION]:null;return new Bt(L,N)}):[]},getPatchLocation:function(m){return m&&m.hasOwnProperty(e.Z.PATCH_LOCATION_AS_ARRAY)?m[e.Z.PATCH_LOCATION_AS_ARRAY].map(function(x){var L=x.__text||x,N=x.hasOwnProperty(e.Z.SERVICE_LOCATION)?x[e.Z.SERVICE_LOCATION]:null,R=x.hasOwnProperty(e.Z.TTL)?1e3*parseFloat(x[e.Z.TTL]):NaN;return new qt(L,N,R)}):[]},getSuggestedPresentationDelay:function(m){return m&&m.hasOwnProperty(e.Z.SUGGESTED_PRESENTATION_DELAY)?m.suggestedPresentationDelay:null},getAvailabilityStartTime:function(m){return m&&m.hasOwnProperty(e.Z.AVAILABILITY_START_TIME)&&m.availabilityStartTime!==null?m.availabilityStartTime.getTime():null},getServiceDescriptions:function(m){var x=[];if(m&&m.hasOwnProperty(e.Z.SERVICE_DESCRIPTION)){var L,N=Ct(m.ServiceDescription_asArray);try{for(N.s();!(L=N.n()).done;){var R=L.value,z=null,K=null,te=null,Q=null,P=null,le=null,ye=null;for(var Pe in R)R.hasOwnProperty(Pe)&&(Pe===e.Z.ID?z=R[Pe]:Pe===e.Z.SERVICE_DESCRIPTION_SCOPE?K=R[Pe].schemeIdUri:Pe===e.Z.SERVICE_DESCRIPTION_LATENCY?te={target:parseInt(R[Pe].target),max:parseInt(R[Pe].max),min:parseInt(R[Pe].min),referenceId:parseInt(R[Pe].referenceId)}:Pe===e.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?Q={max:parseFloat(R[Pe].max),min:parseFloat(R[Pe].min)}:Pe===e.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?P={mediaType:R[Pe].mediaType,max:parseInt(R[Pe].max),min:parseInt(R[Pe].min),target:parseInt(R[Pe].target),type:R[Pe].type,maxQualityDifference:parseInt(R[Pe].maxQualityDifference)}:Pe===e.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH?le={mediaType:R[Pe].mediaType,max:parseInt(R[Pe].max),min:parseInt(R[Pe].min),target:parseInt(R[Pe].target)}:Pe===e.Z.CONTENT_STEERING&&(ye=re(R[Pe])));x.push({id:z,schemeIdUri:K,latency:te,playbackRate:Q,operatingQuality:P,operatingBandwidth:le,contentSteering:ye})}}catch(be){N.e(be)}finally{N.f()}}return x},getSegmentAlignment:function(m){return!(!m||!m.hasOwnProperty(e.Z.SEGMENT_ALIGNMENT))&&m[e.Z.SEGMENT_ALIGNMENT]==="true"},getSubSegmentAlignment:function(m){return!(!m||!m.hasOwnProperty(e.Z.SUB_SEGMENT_ALIGNMENT))&&m[e.Z.SUB_SEGMENT_ALIGNMENT]==="true"},getSupplementalPropertiesForAdaptation:function(m){var x={};if(m&&m.hasOwnProperty(e.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var L,N=Ct(m.SupplementalProperty_asArray);try{for(N.s();!(L=N.n()).done;){var R=L.value;R.hasOwnProperty(t.Z.SCHEME_ID_URI)&&R.hasOwnProperty(e.Z.VALUE)&&(x[R[t.Z.SCHEME_ID_URI]]=R[e.Z.VALUE])}}catch(z){N.e(z)}finally{N.f()}}return x},getSupplementalPropertiesAsArrayForAdaptation:function(m){return m&&m.hasOwnProperty(e.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&m.SupplementalProperty_asArray.length?m.SupplementalProperty_asArray.map(function(x){return new Ye().init(x)}):[]},getSupplementalPropertiesForRepresentation:function(m){var x={};if(m&&m.hasOwnProperty(e.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)){var L,N=Ct(m.SupplementalProperty_asArray);try{for(N.s();!(L=N.n()).done;){var R=L.value;R.hasOwnProperty(t.Z.SCHEME_ID_URI)&&R.hasOwnProperty(e.Z.VALUE)&&(x[R[t.Z.SCHEME_ID_URI]]=R[e.Z.VALUE])}}catch(z){N.e(z)}finally{N.f()}}return x},getSupplementalPropertiesAsArrayForRepresentation:function(m){return m&&m.hasOwnProperty(e.Z.SUPPLEMENTAL_PROPERTY_ASARRAY)&&m.SupplementalProperty_asArray.length?m.SupplementalProperty_asArray.map(function(x){return new Ye().init(x)}):[]},setConfig:function(m){m&&(m.errHandler&&(c=m.errHandler),m.BASE64&&(_=m.BASE64))}},r=(0,E.Z)(I).getInstance().getLogger(o),o}Lt.__dashjs_factory_name="DashManifestModel";var $t=g.Z.getSingletonFactory(Lt),sn=O(703);function En(o,r){var c;if(typeof Symbol>"u"||o[Symbol.iterator]==null){if(Array.isArray(o)||(c=function(G,H){if(G){if(typeof G=="string")return Xt(G,H);var B=Object.prototype.toString.call(G).slice(8,-1);return B==="Object"&&G.constructor&&(B=G.constructor.name),B==="Map"||B==="Set"?Array.from(G):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?Xt(G,H):void 0}}(o))||r&&o&&typeof o.length=="number"){c&&(o=c);var _=0,I=function(){};return{s:I,n:function(){return _>=o.length?{done:!0}:{done:!1,value:o[_++]}},e:function(G){throw G},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,h=!0,w=!1;return{s:function(){c=o[Symbol.iterator]()},n:function(){var G=c.next();return h=G.done,G},e:function(G){w=!0,b=G},f:function(){try{h||c.return==null||c.return()}finally{if(w)throw b}}}}function Xt(o,r){(r==null||r>o.length)&&(r=o.length);for(var c=0,_=new Array(r);c<r;c++)_[c]=o[c];return _}function Et(){var o,r,c,_,I,b,h,w,G,H,B=this.context,C=(0,p.Z)(B).getInstance(),j=(0,Ce.Z)(B).getInstance();function q(){c={pr:1,nor:null,st:null,sf:null,sid:"".concat(sn.Z.generateUuid()),cid:null},G={},w={},H={},ne()}function fe(){ne()}function ne(){if(b){var R=b.getStreamController();if(R&&typeof R.getActiveStream=="function"){var z=R.getActiveStream();z&&(h=z.getProcessors())}}}function se(R,z){var K,te={},Q=En(z);try{for(Q.s();!(K=Q.n()).done;){var P=K.value;R[P]&&(te[P]=R[P])}}catch(le){Q.e(le)}finally{Q.f()}return te}function ce(R){var z=j.get().streaming.cmcd.enabledKeys;return R.filter(function(K){return z.includes(K)})}function Y(R){try{return R.type===He.w.MPD_TYPE?((K=ue()).ot="m",K):R.type===He.w.MEDIA_SEGMENT_TYPE?(z=R.mediaType,H.hasOwnProperty(z)||(H[z]=!1),w.hasOwnProperty(z)||(w[z]=!1),G.hasOwnProperty(z)||(G[z]=!1),function(te){var Q,P=ue(),le=function(nt){try{var Ot=nt.quality,Te=nt.mediaInfo.bitrateList;return parseInt(Te[Ot].bandwidth/1e3)}catch{return null}}(te),ye=function(nt){try{return isNaN(nt.duration)?NaN:Math.round(1e3*nt.duration)}catch{return null}}(te),Pe=function(nt){try{return 100*parseInt(_.getThroughputHistory().getSafeAverageThroughput(nt)/100)}catch{return null}}(te.mediaType),be=function(nt){try{var Ot=c.pr,Te=I.getCurrentBufferLevel(nt);return isNaN(Ot)||isNaN(Te)?null:100*parseInt(Te/Ot*10)}catch{return null}}(te.mediaType),Ae=X(te.mediaType),Ie=function(nt){try{var Ot=_.getTopBitrateInfoFor(nt);return Math.round(Ot.bitrate/1e3)}catch{return null}}(te.mediaType),st=c.pr,ut=function(nt){if(h&&h.length!==0){var Ot,Te=En(h);try{for(Te.s();!(Ot=Te.n()).done;){var ke=Ot.value;if(ke.getType()===nt)return ke.probeNextRequest()}}catch(me){Te.e(me)}finally{Te.f()}}}(te.mediaType);te.mediaType===t.Z.VIDEO&&(Q="v"),te.mediaType===t.Z.AUDIO&&(Q="a"),te.mediaType===t.Z.TEXT&&(Q=te.mediaInfo.mimeType==="application/mp4"?"tt":"c");var rt=j.get().streaming.cmcd.rtp;return rt||(rt=function(nt){try{var Ot=b.getPlaybackRate();Ot||(Ot=1);var Te=nt.quality,ke=nt.mediaType,me=nt.mediaInfo,pe=nt.duration;if(!me)return NaN;var De=X(ke);De===0&&(De=500);var xe=me.bitrateList[Te].bandwidth*pe/1e3/(De/Ot/1e3),Ze=j.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(j.get().streaming.cmcd.rtpSafetyFactor)?j.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(xe*Ze/100)+1)}catch{return NaN}}(te)),isNaN(rt)||(P.rtp=rt),ut&&(te.url!==ut.url?P.nor=encodeURIComponent(sn.Z.getRelativeUrl(te.url,ut.url)):ut.range&&(P.nrr=ut.range)),le&&(P.br=le),Q&&(P.ot=Q),isNaN(ye)||(P.d=ye),isNaN(Pe)||(P.mtp=Pe),isNaN(be)||(P.dl=be),isNaN(Ae)||(P.bl=Ae),isNaN(Ie)||(P.tb=Ie),isNaN(st)||st===1||(P.pr=st),G[te.mediaType]&&(P.bs=!0,G[te.mediaType]=!1),!w[te.mediaType]&&H[te.mediaType]||(P.su=!0,w[te.mediaType]=!1,H[te.mediaType]=!0),P}(R)):R.type===He.w.INIT_SEGMENT_TYPE?function(){var te=ue();return te.ot="i",te.su=!0,te}():R.type===He.w.OTHER_TYPE||R.type===He.w.XLINK_EXPANSION_TYPE?function(){var te=ue();return te.ot="o",te}():R.type===He.w.LICENSE?function(te){var Q=ue();return Q.ot="k",Q}():null}catch{return null}var z,K}function ue(){var R={},z=j.get().streaming.cmcd.cid?j.get().streaming.cmcd.cid:c.cid;return R.v=1,R.sid=j.get().streaming.cmcd.sid?j.get().streaming.cmcd.sid:c.sid,R.sid="".concat(R.sid),z&&(R.cid="".concat(z)),isNaN(c.pr)||c.pr===1||c.pr===null||(R.pr=c.pr),c.st&&(R.st=c.st),c.sf&&(R.sf=c.sf),R}function X(R){try{var z=I.getCurrentBufferLevel(R);return isNaN(z)?null:100*parseInt(10*z)}catch{return null}}function re(R){try{c.pr=R.playbackRate}catch{}}function m(R){try{var z=o.getIsDynamic(R.data)?"l":"v",K=R.protocol&&R.protocol==="MSS"?"s":"d";c.st="".concat(z),c.sf="".concat(K)}catch{}}function x(R){try{R.state&&R.mediaType&&R.state===n.Z.BUFFER_EMPTY&&(G[R.mediaType]||(G[R.mediaType]=!0),w[R.mediaType]||(w[R.mediaType]=!0))}catch{}}function L(){for(var R in G)G.hasOwnProperty(R)&&(G[R]=!0);for(var z in w)w.hasOwnProperty(z)&&(w[z]=!0)}function N(R){try{if(!R)return null;var z=Object.keys(R).sort(function(Q,P){return Q.localeCompare(P)}),K=z.length,te=z.reduce(function(Q,P,le){return P==="v"&&R[P]===1||(typeof R[P]=="string"&&P!=="ot"&&P!=="sf"&&P!=="st"?Q+="".concat(P,"=").concat(JSON.stringify(R[P])):Q+="".concat(P,"=").concat(R[P]),le<K-1&&(Q+=",")),Q},"");return(te=te.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return r={getQueryParameter:function(R){try{if(j.get().streaming.cmcd&&j.get().streaming.cmcd.enabled){var z=Y(R),K=function(Q){try{var P=j.get().streaming.cmcd.enabledKeys;return Object.keys(Q).filter(function(le){return P.includes(le)}).reduce(function(le,ye){return le[ye]=Q[ye],le},{})}catch{return Q}}(z),te=N(K);return C.trigger(vn.Z.CMCD_DATA_GENERATED,{url:R.url,mediaType:R.mediaType,cmcdData:z,cmcdString:te}),{key:"CMCD",value:te}}return null}catch{return null}},getHeaderParameters:function(R){try{if(j.get().streaming.cmcd&&j.get().streaming.cmcd.enabled){var z=Y(R),K=se(z,ce(["br","d","ot","tb"])),te=se(z,ce(["bl","dl","mtp","nor","nrr","su"])),Q=se(z,ce(["bs","rtp"])),P=se(z,ce(["cid","pr","sf","sid","st","v"])),le={"CMCD-Object":N(K),"CMCD-Request":N(te),"CMCD-Status":N(Q),"CMCD-Session":N(P)};return C.trigger(vn.Z.CMCD_DATA_GENERATED,{url:R.url,mediaType:R.mediaType,cmcdData:z,headers:le}),le}return null}catch{return null}},setConfig:function(R){R&&(R.abrController&&(_=R.abrController),R.dashMetrics&&(I=R.dashMetrics),R.playbackController&&(b=R.playbackController))},reset:function(){C.off(n.Z.PLAYBACK_RATE_CHANGED,re,this),C.off(n.Z.MANIFEST_LOADED,m,this),C.off(n.Z.BUFFER_LEVEL_STATE_CHANGED,x,r),C.off(n.Z.PLAYBACK_SEEKED,L,r),q()},initialize:function(){C.on(n.Z.PLAYBACK_RATE_CHANGED,re,r),C.on(n.Z.MANIFEST_LOADED,m,r),C.on(n.Z.BUFFER_LEVEL_STATE_CHANGED,x,r),C.on(n.Z.PLAYBACK_SEEKED,L,r),C.on(n.Z.PERIOD_SWITCH_COMPLETED,fe,r)}},o=$t(B).getInstance(),q(),r}Et.__dashjs_factory_name="CmcdModel";var Tt=g.Z.getSingletonFactory(Et);function Nt(o){return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nt(o)}function Jt(o,r){Jt=function(w,G){return new b(w,void 0,G)};var c=hn(RegExp),_=RegExp.prototype,I=new WeakMap;function b(w,G,H){var B=c.call(this,w,G);return I.set(B,H||I.get(w)),B}function h(w,G){var H=I.get(G);return Object.keys(H).reduce(function(B,C){return B[C]=w[H[C]],B},Object.create(null))}return nn(b,c),b.prototype.exec=function(w){var G=_.exec.call(this,w);return G&&(G.groups=h(G,this)),G},b.prototype[Symbol.replace]=function(w,G){if(typeof G=="string"){var H=I.get(this);return _[Symbol.replace].call(this,w,G.replace(/\$<([^>]+)>/g,function(C,j){return"$"+H[j]}))}if(typeof G=="function"){var B=this;return _[Symbol.replace].call(this,w,function(){var C=[];return C.push.apply(C,arguments),Nt(C[C.length-1])!=="object"&&C.push(h(C,B)),G.apply(this,C)})}return _[Symbol.replace].call(this,w,G)},Jt.apply(this,arguments)}function nn(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),r&&Un(o,r)}function hn(o){var r=typeof Map=="function"?new Map:void 0;return hn=function(c){if(c===null||(_=c,Function.toString.call(_).indexOf("[native code]")===-1))return c;var _;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(c))return r.get(c);r.set(c,I)}function I(){return yn(c,arguments,wn(this).constructor)}return I.prototype=Object.create(c.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),Un(I,c)},hn(o)}function yn(o,r,c){return yn=qn()?Reflect.construct:function(_,I,b){var h=[null];h.push.apply(h,I);var w=new(Function.bind.apply(_,h));return b&&Un(w,b.prototype),w},yn.apply(null,arguments)}function qn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Un(o,r){return Un=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Un(o,r)}function wn(o){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wn(o)}var kn="static",Mn="dynamic",Vn="cmsd-",Ar=Vn+kn,pr=Vn+Mn,ir="stream",Xn=["mb","st","sf","v"],Jr={video:"v",audio:"a",text:"tt",stream:ir},$r=/^[-0-9]/;function Zr(){var o,r,c,_,I=this.context,b=(0,p.Z)(I).getInstance();function h(){c={},_={}}function w(q){q&&Object.keys(q).forEach(function(fe){Xn.includes(fe)||delete q[fe]})}function G(q){return!q||q.toLowerCase()!=="false"&&($r.test(q)?parseInt(q,10):q.replace(/["]+/g,""))}function H(q){try{for(var fe={},ne=q.split(","),se=0;se<ne.length;se++){var ce=ne[se].split("="),Y=ce[0],ue=G(ce[1]);fe[Y]=ue}return fe}catch(X){r.error("Failed to parse CMSD-Static response header value:",X)}}function B(q){try{for(var fe={},ne=q.split(","),se=ne[ne.length-1].split(";"),ce=1;ce<se.length;ce++){var Y=se[ce].split("="),ue=Y[0],X=G(Y[1]);fe[ue]=X}return fe}catch(re){return r.error("Failed to parse CMSD-Dynamic response header value:",re),[]}}function C(q){return Jr[q]||"o"}function j(q,fe,ne){var se=q===kn?c:_,ce=se[fe]||{},Y=se[ir]||{};return ce[ne]||Y[ne]}return o={setConfig:function(){},initialize:function(){},reset:function(){h()},parseResponseHeaders:function(q,fe){for(var ne=null,se=null,ce=q.split(`\r
`),Y=ce.length-1;Y>=0;Y--){var ue=ce[Y].match(Jt(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(ue&&ue.groups){var X=ue.groups.key.toLowerCase(),re=ue.groups.value;switch(X){case Ar:ne=H(re),b.trigger(u.Z.CMSD_STATIC_HEADER,ne);break;case pr:se||(se=B(re))}}}var m=ir;return ne&&ne.ot?m=ne.ot:fe&&(m=C(fe)),w(c[m]),w(_[m]),ne&&(c[m]=Object.assign(c[m]||{},ne)),se&&(_[m]=Object.assign(_[m]||{},se)),{static:ne,dynamic:se}},getMaxBitrate:function(q){var fe=C(q);return j(Mn,fe,"mb")||-1},getEstimatedThroughput:function(q){var fe=C(q);return j(Mn,fe,"etp")||null},getResponseDelay:function(q){var fe=C(q);return j(Mn,fe,"rd")||null},getRoundTripTime:function(q){var fe=C(q);return j(Mn,fe,"rtt")||null}},r=(0,E.Z)(I).getInstance().getLogger(o),h(),o}Zr.__dashjs_factory_name="CmsdModel";var Ur=g.Z.getSingletonFactory(Zr);function Br(){var o,r,c=this.context,_={};function I(){r=(0,E.Z)(c).getInstance().getLogger(o)}function b(w){for(var G={},H=0,B=0,C=0,j=0,q=w.length,fe=0;fe<q;++fe)H+=w[fe].chunkDownloadTimeRelativeMS,B+=w[fe].bufferLevel,C+=w[fe].chunkDownloadTimeRelativeMS*w[fe].bufferLevel,j+=w[fe].chunkDownloadTimeRelativeMS*w[fe].chunkDownloadTimeRelativeMS;return G.m=(C-H*B/q)/(j-H*H/q),G.b=B/q-G.m*H/q,function(ne){return G.m*ne+G.b}}function h(w){var G,H=!0,B=w.reduce(function(C,j){return C+j.bufferLevelAtSegmentEnd},0)/w.length;return w.forEach(function(C){Math.abs(C.bufferLevelAtSegmentEnd/C.bufferLevelAtSegmentStart)<.95&&(H=!1),C.bufferLevelAtSegmentEnd/B<.8&&(H=!1),G?G>C.bitrate&&(H=!1):G=C.bitrate}),H}return o={setup:I,addMeasurement:function(w,G,H,B,C){w&&w.mediaType&&!_[w.mediaType]&&(_[w.mediaType]=[]);var j=w.mediaInfo.bitrateList.find(function(q){return q.id===w.representationId});_[w.mediaType].push({index:w.index,repId:w.representationId,mediaType:w.mediaType,requestTimeMS:B,adjustedAvailabilityStartTimeMS:w.availabilityStartTime.getTime(),segDurationMS:1e3*w.duration,chunksDurationMS:H.reduce(function(q,fe){return q+fe.chunkDownloadDurationMS},0),segmentBytes:H.reduce(function(q,fe){return q+fe.chunkBytes},0),bitrate:j&&j.bandwidth,bitrateList:w.mediaInfo.bitrateList,chunkMeasurements:H,fetchDownloadDurationMS:G,throughputCapacityDelayMS:C,getEstimatedBufferLevel:b(H.slice(1))}),_[w.mediaType].length>10&&_[w.mediaType].shift()},getThroughputCapacityDelayMS:function(w,G){var H=_[w.mediaType]&&_[w.mediaType].slice(-3);return!H||H.length<3?0:h(H)?G/4>250?250:G/4:0},getEstimatedDownloadDurationMS:function(w){var G=_[w.mediaType].slice(-1).pop(),H=_[w.mediaType].slice(-3),B=G.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;G.bufferLevelAtSegmentStart=G.getEstimatedBufferLevel(B/2),G.bufferLevelAtSegmentEnd=G.getEstimatedBufferLevel(B);var C=h(H),j=C?.6:.8;if(G.isBufferStable&&1.05*G.segDurationMS<G.fetchDownloadDurationMS)return G.fetchDownloadDurationMS;if(!C||G.segDurationMS<G.fetchDownloadDurationMS||G.adjustedAvailabilityStartTimeMS<=G.requestTimeMS+G.throughputCapacityDelayMS-G.segDurationMS)return .8*G.fetchDownloadDurationMS;for(var q=G.requestTimeMS+G.throughputCapacityDelayMS-G.adjustedAvailabilityStartTimeMS,fe=0,ne=0,se=0,ce=0;ce<G.chunkMeasurements.length;ce++){var Y=G.chunkMeasurements[ce];if(q<ne+Y.chunkDownloadDurationMS)break;ne+=Y.chunkDownloadDurationMS,fe+=Y.chunkBytes,se++}if(q<0&&r.warn("request time was before adjusted availibitly start time"),fe&&ne&&se>.2*G.chunkMeasurements.length){var ue=fe/ne,X=G.segmentBytes/ue;return G.fetchDownloadDurationMS<X?G.fetchDownloadDurationMS*j:X*j}var re=G.bitrate;return G.bitrateList.some(function(m){if(m.bandwidth>G.bitrate)return re=m.bandwidth,!0}),re===G.bitrate?G.fetchDownloadDurationMS*j:j*G.segmentBytes*8*1e3/re}},I(),o}Br.__dashjs_factory_name="LowLatencyThroughputModel";var Gr=g.Z.getSingletonFactory(Br),bt=O(5717);function Kt(o,r,c){return r in o?Object.defineProperty(o,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[r]=c,o}function un(o){o=o||{};var r,c,_,I,b,h,w,G,H,B,C,j=this.context,q=o.errHandler,fe=o.dashMetrics,ne=o.mediaPlayerModel,se=o.requestModifier,ce=o.boxParser,Y=o.errors,ue=o.requestTimeout||0,X=(0,p.Z)(j).getInstance(),re=(0,Ce.Z)(j).getInstance();function m(x,L){var N,R=x.request,z=[],K=!0,te=!0,Q=new Date,P=Q,le=0,ye=null,Pe=null;if(!se||!fe||!q)throw new Error("config object is not correct or missing");var be,Ae=function(De){R.requestStartDate=Q,R.requestEndDate=new Date,R.firstByteDate=R.firstByteDate||Q,R.fileLoaderType=Pe;var xe=N.response?N.response.responseURL:null,Ze=N.response?N.response.status:null,mt=N.response&&N.response.getAllResponseHeaders?N.response.getAllResponseHeaders():N.response?N.response.responseHeaders:null,dt=mt&&re.get().streaming.cmsd&&re.get().streaming.cmsd.enabled?w.parseResponseHeaders(mt,R.mediaType):null;fe.addHttpRequest(R,xe,Ze,mt,De?z:null,dt)},Ie=function(De){te=!1,Ae(De),R.type===He.w.MPD_TYPE&&(fe.addManifestUpdate(R),X.trigger(u.Z.MANIFEST_LOADING_FINISHED,{request:R}))},st=function(){if(ye&&(clearTimeout(ye),ye=null),c.indexOf(N)!==-1&&(c.splice(c.indexOf(N),1),te))if(Ie(!1),L>0){try{re.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&R.type===He.w.MEDIA_SEGMENT_TYPE&&ne.getRetryAttemptsForType(He.w.MEDIA_SEGMENT_TYPE)===L&&X.trigger(u.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}L--;var De={config:x};I.push(De),De.timeout=setTimeout(function(){I.indexOf(De)!==-1&&(I.splice(I.indexOf(De),1),m(x,L))},ne.getRetryIntervalsForType(R.type))}else{if(R.type===He.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;q.error(new U.Z(b[R.type],R.url+" is not available",{request:R,response:N.response})),x.error&&x.error(R,"error",N.response.statusText,N.response),x.complete&&x.complete(R,N.response.statusText)}};R.hasOwnProperty("availabilityTimeComplete")&&R.availabilityTimeComplete===!1&&window.fetch&&R.responseType==="arraybuffer"&&R.type===He.w.MEDIA_SEGMENT_TYPE?((be=Bn(j).create({requestModifier:se,lowLatencyThroughputModel:H,boxParser:ce})).setup({dashMetrics:fe}),Pe=t.Z.FILE_LOADER_TYPES.FETCH):(be=(0,Ut.Z)(j).create({requestModifier:se}),Pe=t.Z.FILE_LOADER_TYPES.XHR);var ut=null,rt=se.modifyRequestURL?se.modifyRequestURL(R.url):R.url;if(re.get().streaming.cmcd&&re.get().streaming.cmcd.enabled){var nt=re.get().streaming.cmcd.mode;if(nt===t.Z.CMCD_MODE_QUERY){var Ot=function(De){try{var xe=[],Ze=h.getQueryParameter(De);return Ze&&xe.push(Ze),xe}catch{return[]}}(R);rt=sn.Z.addAditionalQueryParameterToUrl(rt,Ot)}else nt===t.Z.CMCD_MODE_HEADER&&(ut=h.getHeaderParameters(R))}var Te=G.getXHRWithCredentialsForType(R.type);if(R.queryParams){var ke=Object.keys(R.queryParams).map(function(De){return{key:De,value:R.queryParams[De]}});rt=sn.Z.addAditionalQueryParameterToUrl(rt,ke)}R.url=rt,N={url:rt,method:He.w.GET,withCredentials:Te,request:R,onload:function(){N.response.status>=200&&N.response.status<=299&&(Ie(!0),x.success&&x.success(N.response.response,N.response.statusText,N.response.responseURL),x.complete&&x.complete(R,N.response.statusText))},onend:st,onerror:st,progress:function(De){var xe=new Date;K&&(K=!1,(!De.lengthComputable||De.lengthComputable&&De.total!==De.loaded)&&(R.firstByteDate=xe)),De.lengthComputable&&(R.bytesLoaded=De.loaded,R.bytesTotal=De.total),De.noTrace||(z.push({s:P,d:De.time?De.time:xe.getTime()-P.getTime(),b:[De.loaded?De.loaded-le:0]}),P=xe,le=De.loaded),ye&&(clearTimeout(ye),ye=null),re.get().streaming.fragmentRequestProgressTimeout>0&&(ye=setTimeout(function(){B.warn("Abort request "+N.url+" due to progress timeout"),N.response.onabort=null,N.loader.abort(N),st()},re.get().streaming.fragmentRequestProgressTimeout)),x.progress&&De&&x.progress(De)},onabort:function(){Ae(!0),ye&&(clearTimeout(ye),ye=null),x.abort&&x.abort(R)},ontimeout:function(De){var xe;if(De.lengthComputable){var Ze=De.loaded/De.total*100;xe="Request timeout: loaded: "+De.loaded+", out of: "+De.total+" : "+Ze.toFixed(3)+"% Completed"}else xe="Request timeout: non-computable download size";B.warn(xe)},loader:be,timeout:ue,headers:ut};var me=new Date().getTime();if(isNaN(R.delayLoadingTime)||me>=R.delayLoadingTime)c.push(N),be.load(N);else{var pe={httpRequest:N};_.push(pe),pe.delayTimeout=setTimeout(function(){if(_.indexOf(pe)!==-1){_.splice(_.indexOf(pe),1);try{Q=new Date,P=Q,c.push(pe.httpRequest),be.load(pe.httpRequest)}catch{pe.httpRequest.onerror()}}},R.delayLoadingTime-me)}}return r={load:function(x){x.request?m(x,ne.getRetryAttemptsForType(x.request.type)):x.error&&x.error(x.request,"error")},abort:function(){I.forEach(function(x){clearTimeout(x.timeout),x.config.request&&x.config.abort&&x.config.abort(x.config.request)}),I=[],_.forEach(function(x){return clearTimeout(x.delayTimeout)}),_=[],c.forEach(function(x){x.request.type!==He.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(x.onloadend=x.onerror=x.onprogress=void 0,x.loader.abort(x))}),c=[]}},B=(0,E.Z)(j).getInstance().getLogger(r),c=[],_=[],I=[],h=Tt(j).getInstance(),w=Ur(j).getInstance(),H=Gr(j).getInstance(),G=(0,bt.Z)(j).getInstance(),Kt(C={},He.w.MPD_TYPE,Y.DOWNLOAD_ERROR_ID_MANIFEST_CODE),Kt(C,He.w.XLINK_EXPANSION_TYPE,Y.DOWNLOAD_ERROR_ID_XLINK_CODE),Kt(C,He.w.INIT_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),Kt(C,He.w.MEDIA_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),Kt(C,He.w.INDEX_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),Kt(C,He.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),Kt(C,He.w.OTHER_TYPE,Y.DOWNLOAD_ERROR_ID_CONTENT_CODE),b=C,r}un.__dashjs_factory_name="HTTPLoader";var Pn=g.Z.getClassFactory(un);function On(){var o;function r(){o={}}function c(){r()}return c(),{getLoader:function(_){for(var I in o)if(o.hasOwnProperty(I)&&_.startsWith(I))return o[I];return Pn},registerLoader:function(_,I){o[_]=I},unregisterLoader:function(_){o[_]&&delete o[_]},unregisterAllLoader:r,reset:c}}On.__dashjs_factory_name="SchemeLoaderFactory";var Zn=g.Z.getSingletonFactory(On);function Tn(o){o=o||{};var r,c,_=this.context;return r=Zn(_).getInstance(),{load:function(I){if(!c){var b=r.getLoader(I&&I.request?I.request.url:null);c=b(_).create({errHandler:o.errHandler,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,dashMetrics:o.dashMetrics,boxParser:o.boxParser?o.boxParser:null,constants:o.constants?o.constants:null,dashConstants:o.dashConstants?o.dashConstants:null,urlUtils:o.urlUtils?o.urlUtils:null,requestTimeout:isNaN(o.requestTimeout)?0:o.requestTimeout,errors:o.errors})}c.load(I)},abort:function(){c&&c.abort()}}}Tn.__dashjs_factory_name="URLLoader";var Kn=g.Z.getClassFactory(Tn);function Ln(o){return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ln(o)}function In(o,r){return In=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},In(o,r)}function ar(o,r){return!r||Ln(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function zn(o){return zn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zn(o)}var cr=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&In(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=zn(r);if(c){var w=zn(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return ar(this,b)});function I(b){var h;return function(w,G){if(!(w instanceof G))throw new TypeError("Cannot call a class as a function")}(this,I),(h=_.call(this,b)).checkForExistenceOnly=!0,h}return I}(D.Z);function er(o){o=o||{};var r,c,_=this.context,I=o.eventBus,b=o.events,h=o.urlUtils,w=o.errors,G=o.streamId;return r={checkForExistence:function(H){var B=function(j){I.trigger(b.CHECK_FOR_EXISTENCE_COMPLETED,{request:H,exists:j})};if(H){var C=new cr(H.url);c.load({request:C,success:function(){B(!0)},error:function(){B(!1)}})}else B(!1)},load:function(H){var B=function(C,j){I.trigger(b.LOADING_COMPLETED,{request:H,response:C||null,error:j||null,sender:r})};H?c.load({request:H,progress:function(C){I.trigger(b.LOADING_PROGRESS,{request:H,stream:C.stream,streamId:G}),C.data&&I.trigger(b.LOADING_DATA_PROGRESS,{request:H,response:C.data||null,error:null,sender:r})},success:function(C){B(C)},error:function(C,j,q){B(void 0,new U.Z(w.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,q,j))},abort:function(C){C&&I.trigger(b.LOADING_ABANDONED,{mediaType:C.mediaType,request:C,sender:r})}}):B(void 0,new U.Z(w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,w.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){c&&c.abort()},reset:function(){c&&(c.abort(),c=null)}},c=Kn(_).create({errHandler:o.errHandler,errors:w,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,urlUtils:h,constants:t.Z,boxParser:o.boxParser,dashConstants:o.dashConstants,requestTimeout:o.settings.get().streaming.fragmentRequestTimeout}),r}er.__dashjs_factory_name="FragmentLoader";var yr=g.Z.getClassFactory(er);function fr(){return{modifyResponseAsync:function(o){return Promise.resolve(o)}}}fr.__dashjs_factory_name="SegmentResponseModifier";var ei=g.Z.getSingletonFactory(fr);function Ir(o){o=o||{};var r,c,_,I=this.context,b=(0,p.Z)(I).getInstance(),h=o.errHandler,w=o.mediaPlayerModel,G=o.dashMetrics,H=(0,E.Z)(I).getInstance(),B=ei(I).getInstance(),C=o.streamInfo;function j(){return C.id}function q(){for(var ne in _)_[ne].reset();_={}}function fe(ne){if(ne.sender){var se=ne.request,ce=ne.response,Y=se.isInitializationRequest(),ue=se.mediaInfo.streamInfo;if(ne.error&&(se.mediaType===t.Z.AUDIO||se.mediaType===t.Z.VIDEO||se.mediaType===t.Z.TEXT&&se.mediaInfo.isFragmented)&&b.trigger(u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:ne.request.serviceLocation}),ce&&ue){var X=function(re,m,x,L){var N=new Mt;return N.streamId=x,N.mediaInfo=m.mediaInfo,N.segmentType=m.type,N.start=m.startTime,N.duration=m.duration,N.end=N.start+N.duration,N.bytes=re,N.index=m.index,N.quality=m.quality,N.representationId=m.representationId,N.endFragment=L,N}(ce,se,C.id,ne.type!==u.Z.FRAGMENT_LOADING_PROGRESS);B.modifyResponseAsync(X).then(function(re){b.trigger(Y?u.Z.INIT_FRAGMENT_LOADED:u.Z.MEDIA_FRAGMENT_LOADED,{chunk:re,request:se},{streamId:ue.id,mediaType:se.mediaType})}).catch(function(re){c.error(re),b.trigger(Y?u.Z.INIT_FRAGMENT_LOADED:u.Z.MEDIA_FRAGMENT_LOADED,{chunk:X,request:se},{streamId:ue.id,mediaType:se.mediaType})})}else c.warn("No "+se.mediaType+" bytes to push or stream is inactive.")}}return r={getStreamId:j,getModel:function(ne){var se=_[ne];return se||(se=A(I).create({streamInfo:C,type:ne,dashMetrics:G,fragmentLoader:yr(I).create({dashMetrics:G,mediaPlayerModel:w,errHandler:h,requestModifier:(0,he.Z)(I).getInstance(),settings:o.settings,boxParser:o.boxParser,eventBus:b,events:u.Z,errors:oe,dashConstants:o.dashConstants,urlUtils:o.urlUtils,streamId:j()}),debug:H,eventBus:b,events:u.Z}),_[ne]=se),se},reset:function(){b.off(n.Z.FRAGMENT_LOADING_COMPLETED,fe,this),b.off(n.Z.FRAGMENT_LOADING_PROGRESS,fe,this),q()}},c=H.getLogger(r),q(),b.on(n.Z.FRAGMENT_LOADING_COMPLETED,fe,r),b.on(n.Z.FRAGMENT_LOADING_PROGRESS,fe,r),r}Ir.__dashjs_factory_name="FragmentController";var qr=g.Z.getClassFactory(Ir),ti=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},ni=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function ri(o){var r,c,_=this.context,I=o.streamInfo;function b(w){c.setTrackByIndex(w)}function h(){c&&c.reset()}return r={getStreamId:function(){return I.id},initialize:function(){c.addTracks();var w=c.getTracks();w&&w.length>0&&b(0)},provide:function(w,G){if(typeof G=="function"){var H,B,C=c.getCurrentTrack();if(!C||C.segmentDuration<=0||w==null)G(null);else{(B=c.getThumbnailRequestForTime(w))&&(C.segmentDuration=B.duration),H=w%C.segmentDuration;var j=Math.floor(H*C.tilesHor*C.tilesVert/C.segmentDuration),q=new ti;if(q.width=Math.floor(C.widthPerTile),q.height=Math.floor(C.heightPerTile),q.x=Math.floor(j%C.tilesHor)*C.widthPerTile,q.y=Math.floor(j/C.tilesHor)*C.heightPerTile,"readThumbnail"in C)return C.readThumbnail(w,function(ne){q.url=ne,G(q)});if(B)q.url=B.url,C.segmentDuration=NaN;else{var fe=Math.floor(w/C.segmentDuration);q.url=function(ne,se){var ce=se+ne.startNumber,Y=(0,i.vi)(ne.templateUrl,"Number",ce);return Y=(0,i.vi)(Y,"Time",(ce-1)*ne.segmentDuration*ne.timescale),Y=(0,i.vi)(Y,"Bandwidth",ne.bandwidth),(0,i.eR)(Y)}(C,fe)}G(q)}}},setTrackByIndex:b,getCurrentTrackIndex:function(){return c.getCurrentTrackIndex()},getBitrateList:function(){var w=c.getTracks(),G=0;return w.map(function(H){var B=new ni;return B.mediaType=t.Z.IMAGE,B.qualityIndex=G++,B.bitrate=H.bitrate,B.width=H.width,B.height=H.height,B})},reset:h},h(),c=(0,wt.Z)(_).create({streamInfo:I,adapter:o.adapter,baseURLController:o.baseURLController,timelineConverter:o.timelineConverter,debug:o.debug,eventBus:o.eventBus,events:o.events,dashConstants:o.dashConstants,dashMetrics:o.dashMetrics,segmentBaseController:o.segmentBaseController}),r}ri.__dashjs_factory_name="ThumbnailController";var Ai=g.Z.getClassFactory(ri),Yr=O(7417);function ii(o){var r;o=o||{};var c=[],_=(0,p.Z)(this.context).getInstance(),I=o.updateEventName,b=o.addBlacklistEventName;function h(w){c.indexOf(w)===-1&&(c.push(w),_.trigger(I,{entry:w}))}return r={add:h,contains:function(w){return!!(c.length&&w&&w.length)&&c.indexOf(w)!==-1},reset:function(){c=[]}},b&&_.on(b,function(w){h(w.entry)},r),r}ii.__dashjs_factory_name="BlackListController";var jr=g.Z.getClassFactory(ii),Ii=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT,t.Z.MUXED,t.Z.IMAGE];function ai(o){o=o||{};var r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue=this.context,X=(0,p.Z)(ue).getInstance(),re=(0,Me.Z)(ue).getInstance(),m=o.manifestModel,x=o.mediaPlayerModel,L=o.dashMetrics,N=o.manifestUpdater,R=o.adapter,z=o.timelineConverter,K=o.capabilities,te=o.errHandler,Q=o.abrController,P=o.playbackController,le=o.eventController,ye=o.mediaController,Pe=o.protectionController,be=o.textController,Ae=o.videoModel,Ie=o.streamInfo,st=o.settings;function ut(lt,Zt){return new Promise(function(Gt,kt){xe(),B=!0,mt();var ze=Ae.getElement(),ht=[];Ii.forEach(function(je){(je!==t.Z.TEXT||lt)&&(je!==t.Z.VIDEO||!ze||ze&&/^VIDEO$/i.test(ze.nodeName))&&ht.push(rt(je,lt))}),Promise.all(ht).then(function(){return je=Zt,new Promise(function(Re){var ae={},Fe=_.map(function(at){return at.createBufferSinks(je)});Promise.all(Fe).then(function(at){at.forEach(function(Rt){Rt&&(ae[Rt.getType()]=Rt)}),Re(ae)}).catch(function(){Re(ae)})});var je}).then(function(je){if(B=!1,_.length===0){var Re="No streams to play.";te.error(new U.Z(oe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Re,m.getValue())),c.fatal(Re)}else dt();lt&&be.createTracks(Ie),Gt(je)}).catch(function(je){kt(je)})})}function rt(lt,Zt){var Gt,kt=R.getAllMediaInfoForType(Ie,lt),ze=[],ht=null;if(!kt||kt.length===0)return c.info("No "+lt+" data."),Promise.resolve();lt===t.Z.VIDEO&&(w=!0),lt===t.Z.AUDIO&&(G=!0);for(var je=0,Re=kt.length;je<Re;je++)ht=kt[je],lt===t.Z.TEXT&&ht.isEmbedded&&(be.addEmbeddedTrack(Ie,ht),ze.push(ht)),nt(ht)&&ye.addTrack(ht);if(ze.length>0&&(ye.setInitialMediaSettingsForType(lt,Ie),be.addMediaInfosToBuffer(Ie,lt,ze)),kt=kt.filter(function(Fe){return!Fe.isEmbedded}),kt.length===0)return Promise.resolve();if(lt===t.Z.IMAGE)return(j=Ai(ue).create({streamInfo:Ie,adapter:R,baseURLController:o.baseURLController,timelineConverter:o.timelineConverter,debug:se,eventBus:X,events:u.Z,dashConstants:e.Z,dashMetrics:o.dashMetrics,segmentBaseController:o.segmentBaseController})).initialize(),Promise.resolve();X.trigger(u.Z.STREAM_INITIALIZING,{streamInfo:Ie,mediaInfo:ht}),ye.setInitialMediaSettingsForType(lt,Ie);var ae=function(Fe,at){var Rt=Fe&&Fe.length>0?Fe[0]:null,xt=C.getModel(Rt?Rt.type:null),an=Rt?Rt.type:null,Rn=Rt?Rt.mimeType:null,Wn=Rt?Rt.isFragmented:null,Sn=Dt(ue).create({streamInfo:Ie,type:an,mimeType:Rn,timelineConverter:z,adapter:R,manifestModel:m,mediaPlayerModel:x,fragmentModel:xt,dashMetrics:o.dashMetrics,baseURLController:o.baseURLController,segmentBaseController:o.segmentBaseController,abrController:Q,playbackController:P,mediaController:ye,textController:be,errHandler:te,settings:st,boxParser:ne,segmentBlacklistController:q});Sn.initialize(at,w,Wn),_.push(Sn);for(var Qn=0;Qn<Fe.length;Qn++)Sn.addMediaInfo(Fe[Qn]);return an===t.Z.TEXT&&be.addMediaInfosToBuffer(Ie,an,Fe,xt),Sn}(kt,Zt);return(Gt=ye.getCurrentTrackFor(lt,Ie.id))?(Q.updateTopQualityIndex(Gt),ae.selectMediaInfo(lt===t.Z.TEXT&&Gt.isEmbedded?kt[0]:Gt)):Promise.resolve()}function nt(lt){var Zt,Gt=lt?lt.type:null;return Gt===t.Z.MUXED?(Zt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",c.fatal(Zt),te.error(new U.Z(oe.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Zt,m.getValue())),!1):!(Gt!==t.Z.TEXT&&Gt!==t.Z.IMAGE&&lt.contentProtection&&!K.supportsEncryptedMedia()&&(te.error(new U.Z(oe.CAPABILITY_MEDIAKEYS_ERROR_CODE,oe.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Ot(lt){for(var Zt=_?_.length:0,Gt=0;Gt<Zt;Gt++){var kt=_[Gt].getFragmentModel();kt.abortRequests(),kt.resetInitialSettings(),_[Gt].reset(!1,lt)}be&&be.deactivateStream(Ie),_=[],b=!1,h=!1,on(!1),ke(!1),X.trigger(u.Z.STREAM_DEACTIVATED,{streamInfo:Ie})}function Te(lt){Ot(lt),I=!1,w=!1,G=!1,H={},B=!1,ce=!1,Y=[]}function ke(lt){ce=lt}function me(){return Ie?Ie.start:NaN}function pe(){return Ie?Ie.id:null}function De(){return Ie}function xe(){if(!Ae||!Q)throw new Error(t.Z.MISSING_CONFIG_ERROR)}function Ze(lt){lt.error&&(te.error(lt.error),c.fatal(lt.error.message))}function mt(){if(le){var lt=R.getEventsFor(Ie);lt&&lt.length>0&&le.addInlineEvents(lt,Ie.id)}}function dt(){for(var lt=_.length,Zt=H.audio||H.video?new U.Z(oe.DATA_UPDATE_FAILED_ERROR_CODE,oe.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,Gt=0;Gt<lt;Gt++)if(_[Gt].isUpdating()||B)return;if(Pe){Pe.clearMediaInfoArray();for(var kt=0;kt<lt&&_[kt];kt++){var ze=_[kt].getType(),ht=_[kt].getMediaInfo();if(ze===t.Z.AUDIO||ze===t.Z.VIDEO||ze===t.Z.TEXT&&ht.isFragmented){var je=_[kt].getMediaInfo();je&&Pe.initializeForMedia(je)}}Pe.handleKeySystemFromManifest()}Zt?te.error(Zt):I||(I=!0,Ae.waitForReadyState(t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){X.trigger(u.Z.STREAM_INITIALIZED,{streamInfo:Ie})}))}function Pt(){var lt=Wt(),Zt=lt.length;if(Zt!==0){for(var Gt=0;Gt<Zt;Gt++)if(!lt[Gt].isBufferingCompleted()&&(lt[Gt].getType()===t.Z.AUDIO||lt[Gt].getType()===t.Z.VIDEO))return void c.debug("onBufferingCompleted - One streamProcessor has finished but",lt[Gt].getType(),"one is not buffering completed");c.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),h=!0,X.trigger(u.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Ie},{streamInfo:Ie})}else c.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function zt(lt){H[lt.mediaType]=lt.error,dt()}function Yt(lt){le&&le.addInbandEvents(lt.events,Ie.id)}function jt(lt){return lt&&lt.type?Vt(lt.type):null}function Vt(lt){return lt?Wt().filter(function(Zt){return Zt.getType()===lt})[0]:null}function Wt(){for(var lt,Zt,Gt=[],kt=0;kt<_.length;kt++)(lt=(Zt=_[kt]).getType())!==t.Z.AUDIO&&lt!==t.Z.VIDEO&&lt!==t.Z.TEXT||Gt.push(Zt);return Gt}function Qt(lt,Zt){var Gt=De(),kt=Zt.getStreamInfo();if(!kt||!Gt)return!0;var ze=R.getAdaptationForType(kt.index,lt,kt),ht=R.getAdaptationForType(Gt.index,lt,Gt);return ze&&ht?!(!en(ht)&&en(ze)):!ze&&!ht}function en(lt){return!!lt&&!!(lt.ContentProtection||lt.Representation_asArray&&lt.Representation_asArray.length>0&&lt.Representation_asArray[0].ContentProtection)}function fn(lt,Zt){var Gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!lt||!lt.hasOwnProperty("getStreamInfo"))return!1;var kt=lt.getStreamInfo(),ze=Gt?Gt.getStreamInfo():De();if(!kt||!ze)return!1;var ht=R.getAdaptationForType(kt.index,Zt,kt),je=R.getAdaptationForType(ze.index,Zt,ze);if(!ht||!je)return!ht&&!je;var Re=ht&&je&&ht.mimeType===je.mimeType,ae=je.Representation_asArray.map(function(xt){return xt.codecs}),Fe=ht.Representation_asArray.map(function(xt){return xt.codecs}),at=Fe.some(function(xt){return ae.indexOf(xt)>-1}),Rt=Fe.some(function(xt){return ae.some(function(an){return K.codecRootCompatibleWithCodec(an,xt)})});return at||Rt&&Re}function on(lt){fe=lt}function cn(){return fe}return r={initialize:function(){X.on(u.Z.BUFFERING_COMPLETED,Pt,r),X.on(u.Z.DATA_UPDATE_COMPLETED,zt,r),X.on(u.Z.INBAND_EVENTS,Yt,r),Pe&&(X.on(u.Z.KEY_ERROR,Ze,r),X.on(u.Z.SERVER_CERTIFICATE_UPDATED,Ze,r),X.on(u.Z.LICENSE_REQUEST_COMPLETE,Ze,r),X.on(u.Z.KEY_SYSTEM_SELECTED,Ze,r),X.on(u.Z.KEY_SESSION_CREATED,Ze,r),X.on(u.Z.KEY_STATUSES_CHANGED,Ze,r)),be.initializeForStream(Ie),X.trigger(u.Z.STREAM_UPDATED,{streamInfo:Ie})},getStreamId:function(){return Ie?Ie.id:null},activate:function(lt,Zt){return new Promise(function(Gt,kt){if(!b)return cn()?(b=!0,X.trigger(u.Z.STREAM_ACTIVATED,{streamInfo:Ie}),void Gt(Zt)):void function(ze,ht){return ut(ze,ht)}(lt,Zt).then(function(ze){b=!0,X.trigger(u.Z.STREAM_ACTIVATED,{streamInfo:Ie}),Gt(ze)}).catch(function(ze){kt(ze)});Gt(Zt)})},deactivate:Ot,getIsActive:function(){return b},getDuration:function(){return Ie?Ie.duration:NaN},getStartTime:me,getId:pe,getStreamInfo:De,getHasAudioTrack:function(){return G},getHasVideoTrack:function(){return w},startPreloading:function(lt,Zt){return new Promise(function(Gt,kt){cn()?kt():(c.info("[startPreloading] Preloading next stream with id ".concat(pe())),on(!0),ut(lt,Zt).then(function(){for(var ze=0;ze<_.length&&_[ze];ze++)_[ze].setExplicitBufferingTime(me()),_[ze].getScheduleController().startScheduleTimer();Gt()}).catch(function(){on(!1),kt()}))})},initializeForTextWithMediaSource:function(lt){return new Promise(function(Zt,Gt){rt(t.Z.TEXT,lt).then(function(){return(kt=Vt(t.Z.TEXT))?kt.createBufferSinks():Promise.resolve();var kt}).then(function(){be.createTracks(Ie),Zt()}).catch(function(kt){Gt(kt)})})},getThumbnailController:function(){return j},getBitrateListFor:function(lt){if(xe(),lt===t.Z.IMAGE)return j?j.getBitrateList():[];var Zt=function(Gt){for(var kt=null,ze=0;ze<_.length;ze++)if((kt=_[ze]).getType()===Gt)return kt.getMediaInfo();return null}(lt);return Q.getBitrateList(Zt)},updateData:function(lt){return new Promise(function(Zt){B=!0,Ie=lt,le&&mt();for(var Gt=[],kt=0,ze=_.length;kt<ze;kt++){var ht=_[kt],je=ht.getMediaInfo();Gt.push(ht.updateStreamInfo(Ie));var Re=R.getAllMediaInfoForType(Ie,ht.getType());if(Re=Re.filter(function(at){return!at.isEmbedded})){ht.clearMediaInfoArray();for(var ae=0;ae<Re.length;ae++){var Fe=Re[ae];ht.addMediaInfo(Re[ae]),R.areMediaInfosEqual(je,Fe)&&(Q.updateTopQualityIndex(Fe),Gt.push(ht.selectMediaInfo(Fe)))}}}Promise.all(Gt).then(function(){for(Gt=[];Y.length>0;){var at=Y.pop(),Rt=at.newMediaInfo,xt=jt(at.oldMediaInfo);if(!xt)return;Gt.push(xt.prepareTrackSwitch()),Gt.push(xt.selectMediaInfo(Rt))}return Promise.all(Gt)}).then(function(){B=!1,dt(),X.trigger(u.Z.STREAM_UPDATED,{streamInfo:Ie}),Zt()})})},reset:function(lt){C&&(C.reset(),C=null),Q&&Ie&&Q.clearDataForStream(Ie.id),q&&(q.reset(),q=null),Te(lt),Ie=null,X.off(u.Z.DATA_UPDATE_COMPLETED,zt,r),X.off(u.Z.BUFFERING_COMPLETED,Pt,r),X.off(u.Z.INBAND_EVENTS,Yt,r),Pe&&(X.off(u.Z.KEY_ERROR,Ze,r),X.off(u.Z.SERVER_CERTIFICATE_UPDATED,Ze,r),X.off(u.Z.LICENSE_REQUEST_COMPLETE,Ze,r),X.off(u.Z.KEY_SYSTEM_SELECTED,Ze,r),X.off(u.Z.KEY_SESSION_CREATED,Ze,r),X.off(u.Z.KEY_STATUSES_CHANGED,Ze,r))},getProcessors:Wt,setMediaSource:function(lt){return new Promise(function(Zt,Gt){for(var kt=[],ze=0;ze<_.length;)nt(_[ze].getMediaInfo())?(kt.push(_[ze].setMediaSource(lt)),ze++):(_[ze].reset(),_.splice(ze,1));Promise.all(kt).then(function(){for(var ht=0;ht<_.length;ht++)_[ht].dischargePreBuffer();if(_.length===0){var je="No streams to play.";te.error(new U.Z(oe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,je+"nostreams",m.getValue())),c.fatal(je)}Zt()}).catch(function(ht){c.error(ht),Gt(ht)})})},isMediaCodecCompatible:function(lt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return fn(lt,t.Z.VIDEO,Zt)&&fn(lt,t.Z.AUDIO,Zt)},isProtectionCompatible:function(lt){return!lt||Qt(t.Z.VIDEO,lt)&&Qt(t.Z.AUDIO,lt)},getPreloaded:cn,getIsEndedEventSignaled:function(){return ce},setIsEndedEventSignaled:ke,getAdapter:function(){return R},getHasFinishedBuffering:function(){return h},setPreloaded:on,startScheduleControllers:function(){for(var lt=_.length,Zt=0;Zt<lt&&_[Zt];Zt++)_[Zt].getScheduleController().startScheduleTimer()},prepareTrackChange:function(lt){if(b&&Ie){h=!1;var Zt=lt.newMediaInfo,Gt=m.getValue();R.setCurrentMediaInfo(Ie.id,Zt.type,Zt);var kt=jt(Zt);if(kt){var ze=P.getTime();c.info("Stream -  Process track changed at current time "+ze),Gt.refreshManifestOnSwitchTrack?(Y.push(lt),N.getIsUpdating()||(c.debug("Stream -  Refreshing manifest for switch track"),N.refreshManifest())):kt.selectMediaInfo(Zt).then(function(){Zt.type!==t.Z.VIDEO&&Zt.type!==t.Z.AUDIO||Q.updateTopQualityIndex(Zt),kt.prepareTrackSwitch()})}}},prepareQualityChange:function(lt){var Zt=Vt(lt.mediaType);Zt&&Zt.prepareQualityChange(lt)}},function(){try{se=(0,E.Z)(ue).getInstance(),c=se.getLogger(r),Te(),ne=(0,Yr.Z)(ue).getInstance(),q=jr(ue).create({updateEventName:u.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),C=qr(ue).create({streamInfo:Ie,mediaPlayerModel:x,dashMetrics:L,errHandler:te,settings:st,boxParser:ne,dashConstants:e.Z,urlUtils:re})}catch(lt){throw lt}}(),r}ai.__dashjs_factory_name="Stream";var oi=g.Z.getClassFactory(ai),Ri=function o(r){(function(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=r||null,this.type=He.w.CONTENT_STEERING_TYPE,this.responseType="json"},Nn=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]};function Er(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne=this.context,se=(0,Me.Z)(ne).getInstance();function ce(Q){m(Q,"baseUrl")}function Y(Q){m(Q,"location")}function ue(Q){if(Q&&Q.request&&Q.request.serviceLocation&&Q.request.requestStartDate&&Q.request.requestEndDate&&!isNaN(Q.request.bytesTotal)){var P=Q.request.serviceLocation,le=Q.request.requestEndDate.getTime()-Q.request.requestStartDate.getTime();re(P,parseInt(8*Q.request.bytesTotal/le*1e3))}}function X(Q){Q&&Q.httpRequest&&Q.httpRequest._serviceLocation&&!isNaN(Q.throughput)&&re(Q.httpRequest._serviceLocation,1e3*Q.throughput)}function re(Q,P){I[Q]||(I[Q]=[]),I[Q].push(P),I[Q].length>4&&I[Q].shift()}function m(Q,P){if(Q&&Q.request&&Q.request.serviceLocation){var le=Q.request.serviceLocation;_[P].all.indexOf(le)===-1&&_[P].all.push(le),_[P].current=le}}function x(){var Q=B.getValue(),P=fe.getContentSteering(Q);return P||(P=j.getServiceDescriptionSettings().contentSteering),P}function L(){return new Promise(function(Q){try{var P=x();if(!P||!P.serverUrl)return void Q();var le=function(Pe){var be=Pe.serverUrl;c&&c.reloadUri&&(be=se.isRelative(c.reloadUri)?se.resolve(c.reloadUri,Pe.serverUrl):c.reloadUri);var Ae=[],Ie=_.baseUrl.all.concat(_.location.all);if(Ie.length>0){var st=Ie.map(function(nt){var Ot=function(Te){if(!Te||!I[Te]||I[Te].length===0)return-1;var ke=I[Te].reduce(function(me,pe){return me+pe})/I[Te].length;return parseInt(ke)}(nt);return{serviceLocation:nt,throughput:Ot}});st.sort(function(nt,Ot){return Ot.throughput-nt.throughput});var ut="",rt="";st.forEach(function(nt,Ot){Ot!==0&&(ut="".concat(ut,","),nt.throughput>-1&&(rt="".concat(rt,","))),ut="".concat(ut).concat(nt.serviceLocation),nt.throughput>-1&&(rt="".concat(rt).concat(nt.throughput))}),Ae.push({key:"_DASH_pathway",value:'"'.concat(ut,'"')}),Ae.push({key:"_DASH_throughput",value:rt})}return be=sn.Z.addAditionalQueryParameterToUrl(be,Ae)}(P),ye=new Ri(le);h.load({request:ye,success:function(Pe){(function(be){be&&be[e.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(be[e.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((c=new Nn).version=be[e.Z.CONTENT_STEERING_RESPONSE.VERSION],be[e.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(be[e.Z.CONTENT_STEERING_RESPONSE.TTL])&&(c.ttl=be[e.Z.CONTENT_STEERING_RESPONSE.TTL]),be[e.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(c.reloadUri=be[e.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),be[e.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(c.pathwayPriority=be[e.Z.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),be[e.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(c.pathwayClones=be[e.Z.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],c.pathwayClones=c.pathwayClones.filter(function(Ae){return function(Ie){return Ie[e.Z.CONTENT_STEERING_RESPONSE.BASE_ID]&&Ie[e.Z.CONTENT_STEERING_RESPONSE.ID]&&Ie[e.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&Ie[e.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][e.Z.CONTENT_STEERING_RESPONSE.HOST]}(Ae)})),z())})(Pe),q.trigger(n.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:c,url:le}),Q()},error:function(Pe,be,Ae,Ie){(function(st,ut){try{switch(r.warn("Error fetching data from content steering server",st),ut.status){case 410:break;case 429:var rt=ut&&ut.getResponseHeader?ut.getResponseHeader("retry-after"):null;rt!==null&&(c||(c={}),c.ttl=parseInt(rt)),z();break;default:z()}}catch(nt){r.error(nt)}})(Pe,Ie),Q(Pe)},complete:function(){_.baseUrl.all=N(_.baseUrl),_.location.all=N(_.location)}})}catch(Pe){Q(Pe)}})}function N(Q){return Q.all&&Q.all.length!==0&&Q.current?Q.all.filter(function(P){return P===Q.current}):[]}function R(Q){try{var P=[];return Q&&Q.length!==0&&c&&c.pathwayClones&&c.pathwayClones.length!==0&&c.pathwayClones.forEach(function(le){var ye=Q.filter(function(st){return le[e.Z.CONTENT_STEERING_RESPONSE.BASE_ID]===st.serviceLocation}),Pe=null;if(ye&&ye.length>0&&(Pe=ye[0]),Pe){var be=new URL(Pe.url),Ae=le[e.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][e.Z.CONTENT_STEERING_RESPONSE.HOST];Ae=sn.Z.stringHasProtocol(Ae)?Ae:"".concat(be.protocol,"//").concat(Ae);var Ie={synthesizedUrl:"".concat(Ae).concat(be.pathname),serviceLocation:le[e.Z.CONTENT_STEERING_RESPONSE.ID],queryParams:le[e.Z.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][e.Z.CONTENT_STEERING_RESPONSE.PARAMS],reference:Pe};P.push(Ie)}}),P}catch(le){return r.error(le),[]}}function z(){c&&c.ttl&&!isNaN(c.ttl)&&(b&&clearTimeout(b),b=setTimeout(function(){L()},1e3*c.ttl))}function K(){b&&clearTimeout(b),b=null}function te(){c=null,I={},_={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},K()}return o={reset:function(){te(),q.off(n.Z.FRAGMENT_LOADING_STARTED,ce,o),q.off(n.Z.MANIFEST_LOADING_STARTED,Y,o),q.off(n.Z.MANIFEST_LOADING_FINISHED,ue,o),q.off(n.Z.THROUGHPUT_MEASUREMENT_STORED,X,o)},setConfig:function(Q){Q&&(Q.adapter&&(fe=Q.adapter),Q.errHandler&&(w=Q.errHandler),Q.dashMetrics&&(G=Q.dashMetrics),Q.mediaPlayerModel&&(H=Q.mediaPlayerModel),Q.requestModifier&&(C=Q.requestModifier),Q.manifestModel&&(B=Q.manifestModel),Q.serviceDescriptionController&&(j=Q.serviceDescriptionController),Q.eventBus&&(q=Q.eventBus))},loadSteeringData:L,getCurrentSteeringResponseData:function(){return c},shouldQueryBeforeStart:function(){var Q=x();return!!Q&&Q.queryBeforeStart},getSteeringDataFromManifest:x,stopSteeringRequestTimer:K,getSynthesizedBaseUrlElements:function(Q){try{return R(Q).map(function(P){var le=new rr(P.synthesizedUrl,P.serviceLocation);return le.queryParams=P.queryParams,le.dvb_priority=P.reference.dvb_priority,le.dvb_weight=P.reference.dvb_weight,le.availabilityTimeOffset=P.reference.availabilityTimeOffset,le.availabilityTimeComplete=P.reference.availabilityTimeComplete,le})}catch(P){return r.error(P),[]}},getSynthesizedLocationElements:function(Q){try{return R(Q).map(function(P){var le=new Bt(P.synthesizedUrl,P.serviceLocation);return le.queryParams=P.queryParams,le})}catch(P){return r.error(P),[]}},initialize:function(){h=Kn(ne).create({errHandler:w,dashMetrics:G,mediaPlayerModel:H,requestModifier:C,errors:oe}),q.on(n.Z.FRAGMENT_LOADING_STARTED,ce,o),q.on(n.Z.MANIFEST_LOADING_STARTED,Y,o),q.on(n.Z.MANIFEST_LOADING_FINISHED,ue,o),q.on(n.Z.THROUGHPUT_MEASUREMENT_STORED,X,o)}},r=(0,E.Z)(ne).getInstance().getLogger(o),te(),o}Er.__dashjs_factory_name="ContentSteeringController";var vr=g.Z.getSingletonFactory(Er);function _r(){var o,r,c,_=this.context,I=(0,Ce.Z)(_).getInstance();return o={select:function(b){if(!b||b.length===0)return null;var h=null;return I.get().streaming.applyContentSteering&&(h=function(w){var G=c.getCurrentSteeringResponseData();return G&&G.pathwayPriority&&G.pathwayPriority.length>0?function(){for(var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=0,j=null,q=function(){var fe=H[C],ne=B.findIndex(function(se){return se.serviceLocation&&se.serviceLocation===fe});if(ne!==-1&&!r.contains(B[ne].serviceLocation))return j=B[ne],"break";C+=1};C<H.length&&q()!=="break";);return j}(G.pathwayPriority,w):null}(b)),h||(h=function(w){return w[0]}(b)),h},setConfig:function(b){b.blacklistController&&(r=b.blacklistController),b.contentSteeringController&&(c=b.contentSteeringController)},reset:function(){r.reset()}},r=jr(_).create({updateEventName:u.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),c=vr(_).getInstance(),o}_r.__dashjs_factory_name="LocationSelector";var wi=g.Z.getClassFactory(_r);function or(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe=this.context,ne=(0,p.Z)(fe).getInstance(),se=(0,Me.Z)(fe).getInstance();function ce(){c=NaN,h=!1,I=!0,b=!1,Y()}function Y(){_!==null&&(clearTimeout(_),_=null)}function ue(K){Y(),b||(isNaN(K)&&!isNaN(c)&&(K=1e3*c),isNaN(K)||(r.debug("Refresh manifest in "+K+" milliseconds."),_=setTimeout(x,K)))}function X(){var K=arguments.length>0&&arguments[0]!==void 0&&arguments[0];h=!0;var te=G.getValue(),Q=te.url,P=null,le=B.getPatchLocation(te),ye=H.select(le),Pe=null;if(ye&&!K)Q=ye.url,P=ye.serviceLocation,Pe=ye.queryParams;else{var be=re(te),Ae=H.select(be);Ae&&(Q=Ae.url,P=Ae.serviceLocation,Pe=Ae.queryParams)}se.isRelative(Q)&&(Q=se.resolve(Q,te.url)),w.load(Q,P,Pe)}function re(K){var te=B.getLocation(K),Q=j.getSynthesizedLocationElements(te);return te.concat(Q)}function m(K){if(K){if(B.getIsPatch(K)){var te=K;K=G.getValue();var Q=B.isPatchValid(K,te),P=Q;if(Q){var le=B.getPublishTime(K);P=B.applyPatchToManifest(K,te);var ye=B.getPublishTime(K);P=le.getTime()!=ye.getTime()}if(!P)return r.debug("Patch provided is invalid, performing full manifest refresh"),void X(!0);K.loadedTime=new Date}}else(K=G.getValue()).loadedTime=new Date;if(G.getValue()&&G.getValue().type===e.Z.DYNAMIC&&K.type===e.Z.STATIC)return ne.trigger(u.Z.DYNAMIC_TO_STATIC),h=!1,void(b=!0);G.setValue(K);var Pe=new Date,be=(Pe.getTime()-K.loadedTime.getTime())/1e3;1e3*(c=B.getManifestUpdatePeriod(K,be))>2147483647&&(c=2147483647e-3),ne.trigger(u.Z.MANIFEST_UPDATED,{manifest:K}),r.info("Manifest has been refreshed at "+Pe+"["+Pe.getTime()/1e3+"] "),I||ue()}function x(){I||(h?ue(q.get().streaming.manifestUpdateRetryInterval):X())}function L(K){K.error?K.error.code===oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&C.error(K.error):m(K.manifest)}function N(){I=!1,ue()}function R(){(I=!q.get().streaming.scheduling.scheduleWhilePaused)&&Y()}function z(){h=!1}return o={initialize:function(){ce(),ne.on(u.Z.STREAMS_COMPOSED,z,this),ne.on(n.Z.PLAYBACK_STARTED,N,this),ne.on(n.Z.PLAYBACK_PAUSED,R,this),ne.on(u.Z.INTERNAL_MANIFEST_LOADED,L,this)},setManifest:function(K){m(K)},refreshManifest:X,getIsUpdating:function(){return h},setConfig:function(K){K&&(K.manifestModel&&(G=K.manifestModel),K.adapter&&(B=K.adapter),K.manifestLoader&&(w=K.manifestLoader),K.errHandler&&(C=K.errHandler),K.locationSelector&&(H=K.locationSelector),K.settings&&(q=K.settings),K.contentSteeringController&&(j=K.contentSteeringController))},reset:function(){ne.off(n.Z.PLAYBACK_STARTED,N,this),ne.off(n.Z.PLAYBACK_PAUSED,R,this),ne.off(u.Z.STREAMS_COMPOSED,z,this),ne.off(u.Z.INTERNAL_MANIFEST_LOADED,L,this),ce()}},r=(0,E.Z)(fe).getInstance().getLogger(o),H=wi(fe).create(),o}or.__dashjs_factory_name="ManifestUpdater";var si=g.Z.getClassFactory(or);function lr(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se=this.context,ce=(0,p.Z)(se).getInstance(),Y=(0,Me.Z)(se).getInstance();function ue(){w=[],G=[],H=null,B=null,j=null,C=NaN,c=!1,_=!1,q=I.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function X(){I.get().streaming.utcSynchronization.enabled&&!c&&!_&&j&&j.value&&j.schemeIdUri&&!isNaN(C)&&!isNaN(I.get().streaming.utcSynchronization.backgroundAttempts)&&(B&&(Date.now()-B)/1e3<30||(w=[],_=!0,re(isNaN(I.get().streaming.utcSynchronization.backgroundAttempts)?2:I.get().streaming.utcSynchronization.backgroundAttempts)))}function re(Ae){try{if(Ae<=0)return void Pe();var Ie=Date.now();b[j.schemeIdUri](j.value,function(st){var ut=Date.now(),rt=x(Ie,ut,st);w.push(rt),re(Ae-1)},function(){Pe()})}catch{Pe()}}function m(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ie=Ae||0;if(!G||G.length===0||Ie>=G.length)L();else{var st=G[Ie];if(st)if(b.hasOwnProperty(st.schemeIdUri)){var ut=new Date().getTime();b[st.schemeIdUri](st.value,function(rt){var nt=new Date().getTime(),Ot=x(ut,nt,rt);j=st,L(Ot)},function(){m(Ie+1)})}else m(Ie+1);else L()}}function x(Ae,Ie,st){return st-(Ie-(Ie-Ae)/2)}function L(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,Ie=isNaN(Ae);Ie&&I.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?le():ye(Ie,Ae)}function N(Ae){var Ie=Date.parse(Ae);return isNaN(Ie)&&(Ie=function(st){var ut,rt,nt=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(st);return ut=Date.UTC(parseInt(nt[1],10),parseInt(nt[2],10)-1,parseInt(nt[3],10),parseInt(nt[4],10),parseInt(nt[5],10),nt[6]&&(parseInt(nt[6],10)||0),nt[7]&&1e3*parseFloat(nt[7])||0),nt[9]&&nt[10]&&(rt=60*parseInt(nt[9],10)+parseInt(nt[10],10),ut+=(nt[8]==="+"?-1:1)*rt*60*1e3),new Date(ut).getTime()}(Ae)),Ie}function R(Ae){return Date.parse(Ae)}function z(Ae){return Date.parse(Ae)}function K(Ae,Ie,st){st()}function te(Ae,Ie,st){var ut=N(Ae);isNaN(ut)?st():Ie(ut)}function Q(Ae,Ie,st,ut,rt){var nt,Ot,Te=!1,ke=new XMLHttpRequest,me=rt?He.w.HEAD:He.w.GET,pe=Ie.match(/\S+/g);if(Ie=pe.shift(),nt=function(){Te||(Te=!0,pe.length?Q(Ae,pe.join(" "),st,ut,rt):ut())},Ot=function(){var xe,Ze;ke.status===200&&(xe=rt?ke.getResponseHeader("Date"):ke.response,Ze=Ae(xe),isNaN(Ze)||(st(Ze),Te=!0))},Y.isRelative(Ie)){var De=ne.resolve();De&&(Ie=Y.resolve(Ie,De.url))}ke.open(me,Ie),ke.timeout=5e3,ke.onload=Ot,ke.onloadend=nt,ke.send()}function P(Ae,Ie,st){Q(z,Ae,Ie,st,!0)}function le(){var Ae=h.getLatestMPDRequestHeaderValueByID("Date"),Ie=Ae!==null?new Date(Ae).getTime():Number.NaN;isNaN(Ie)?ye(!0):ye(!1,Ie-Date.now())}function ye(Ae,Ie){if(isNaN(C)||isNaN(Ie)||Ae||function(ut){try{var rt,nt=be(ut),Ot=isNaN(q)?30:q,Te=isNaN(I.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:I.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ke=isNaN(I.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:I.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,me=isNaN(I.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:I.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;nt?(rt=Math.min(Ot*Te,ke),r.debug("Increasing timeBetweenSyncAttempts to ".concat(rt))):(rt=Math.max(Ot/Te,me),r.debug("Decreasing timeBetweenSyncAttempts to ".concat(rt))),q=rt}catch{}}(Ie),!Ae&&!isNaN(Ie)){H=Date.now(),c=!1;var st=isNaN(C);C=Ie,st&&X(),r.debug("Completed UTC sync. Setting client - server offset to ".concat(Ie))}Ae&&(j=null,c=!1,fe.error(new U.Z(oe.TIME_SYNC_FAILED_ERROR_CODE,oe.TIME_SYNC_FAILED_ERROR_MESSAGE))),ce.trigger(u.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Ie}),ce.trigger(u.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Pe(){if(w&&w.length!==0){var Ae=w.reduce(function(Ie,st){return Ie+st},0)/w.length;be(Ae)?r.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(r.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ae)),C=Ae,ce.trigger(u.Z.UPDATE_TIME_SYNC_OFFSET,{offset:C})),_=!1,B=Date.now()}}function be(Ae){try{if(isNaN(C))return!0;var Ie=I.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(I.get().streaming.utcSynchronization.maximumAllowedDrift)?I.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ae>=C-Ie&&Ae<=C+Ie}catch{return!0}}return o={initialize:function(){ue(),b={"urn:mpeg:dash:utc:http-head:2014":P,"urn:mpeg:dash:utc:http-xsdate:2014":Q.bind(null,N),"urn:mpeg:dash:utc:http-iso:2014":Q.bind(null,R),"urn:mpeg:dash:utc:direct:2014":te,"urn:mpeg:dash:utc:http-head:2012":P,"urn:mpeg:dash:utc:http-xsdate:2012":Q.bind(null,N),"urn:mpeg:dash:utc:http-iso:2012":Q.bind(null,R),"urn:mpeg:dash:utc:direct:2012":te,"urn:mpeg:dash:utc:http-ntp:2014":K,"urn:mpeg:dash:utc:ntp:2014":K,"urn:mpeg:dash:utc:sntp:2014":K}},attemptSync:function(Ae,Ie){G=Ae,c||(function(st){try{if(!st||!I.get().streaming.utcSynchronization.enabled)return!1;var ut=isNaN(q)?30:q;return!(H&&ut&&!isNaN(ut))||(Date.now()-H)/1e3>=ut}catch{return!0}}(Ie)?(c=!0,m()):ce.trigger(u.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ae){Ae&&(Ae.dashMetrics&&(h=Ae.dashMetrics),Ae.baseURLController&&(ne=Ae.baseURLController),Ae.errHandler&&(fe=Ae.errHandler),Ae.settings&&(I=Ae.settings))},reset:function(){ue(),ce.off(u.Z.ATTEMPT_BACKGROUND_SYNC,X,o)}},r=(0,E.Z)(se).getInstance().getLogger(o),ce.on(u.Z.ATTEMPT_BACKGROUND_SYNC,X,o),o}lr.__dashjs_factory_name="TimeSyncController";var Hr=g.Z.getSingletonFactory(lr);Hr.HTTP_TIMEOUT_MS=5e3,g.Z.updateSingletonFactory(lr.__dashjs_factory_name,Hr);var po=Hr;function na(){var o,r,c,_,I=this.context;return o={createMediaSource:function(){var b="WebKitMediaSource"in window;return"MediaSource"in window?r=new MediaSource:b&&(r=new WebKitMediaSource),r},attachMediaSource:function(b){var h=window.URL.createObjectURL(r);return b.setSource(h),h},detachMediaSource:function(b){b.setSource(null)},setDuration:function b(h){r&&r.readyState==="open"&&(h===null&&isNaN(h)||r.duration!==h&&(h!==1/0||c.get().streaming.buffer.mediaSourceDurationInfinity||(h=Math.pow(2,32)),function(w){for(var G=w.sourceBuffers,H=0;H<G.length;H++)if(G[H].updating)return!0;return!1}(r)?setTimeout(b.bind(null,h),50):(_.info("Set MediaSource duration:"+h),r.duration=h)))},setSeekable:function(b,h){r&&typeof r.setLiveSeekableRange=="function"&&typeof r.clearLiveSeekableRange=="function"&&r.readyState==="open"&&b>=0&&b<h&&(r.clearLiveSeekableRange(),r.setLiveSeekableRange(b,h))},signalEndOfStream:function(b){if(b&&b.readyState==="open"){for(var h=b.sourceBuffers,w=0;w<h.length;w++)if(h[w].updating||h[w].buffered.length===0)return;_.info("call to mediaSource endOfStream"),b.endOfStream()}},setConfig:function(b){b&&b.settings&&(c=b.settings)}},_=(0,E.Z)(I).getInstance().getLogger(o),o}na.__dashjs_factory_name="MediaSourceController";var yo=g.Z.getSingletonFactory(na);function ra(){var o,r,c,_,I,b,h,w,G,H,B,C="urn:mpeg:dash:event:2012",j="discarded",q="updated",fe="added",ne=this.context,se=(0,p.Z)(ne).getInstance();function ce(){if(!h||!w)throw new Error("setConfig function has to be called previously")}function Y(){B=!1,c={},_={},I=null,H=!1,b=Date.now()/1e3}function ue(){try{if(!H){H=!0;var K=w.getTime(),te=K-b;te=b>0?Math.max(0,te):0,X(_,te,K),X(c,te,K),re(_),re(c),b=K,H=!1}}catch(Q){H=!1,r.error(Q)}}function X(K,te,Q){try{N(K,function(P){if(P!==void 0){var le=isNaN(P.duration)?0:P.duration;P.calculatedPresentationTime<=Q&&P.calculatedPresentationTime+te+le>=Q?z(P,n.Z.EVENT_MODE_ON_START):(R(Q,le+te,P.calculatedPresentationTime)||function(ye){try{var Pe=ye.eventStream.period.start+ye.eventStream.period.duration;return ye.calculatedPresentationTime>Pe}catch(be){return r.error(be),!1}}(P))&&(r.debug("Removing event ".concat(P.id," from period ").concat(P.eventStream.period.id," as it is expired or invalid")),function(ye,Pe){try{var be=Pe.eventStream.schemeIdUri,Ae=Pe.eventStream.period.id,Ie=Pe.eventStream.value,st=Pe.id;ye[Ae][be]=ye[Ae][be].filter(function(ut){return Ie&&ut.eventStream.value&&ut.eventStream.value!==Ie||ut.id!==st}),ye[Ae][be].length===0&&delete ye[Ae][be]}catch(ut){r.error(ut)}}(K,P))}})}catch(P){r.error(P)}}function re(K){try{for(var te in K)K.hasOwnProperty(te)&&Object.keys(K[te]).length===0&&delete K[te]}catch(Q){r.error(Q)}}function m(K,te){var Q=arguments.length>2&&arguments[2]!==void 0&&arguments[2],P=K.eventStream.schemeIdUri,le=K.eventStream.value,ye=K.id,Pe=j;te[P]||(te[P]=[]);var be=te[P].findIndex(function(Ie){return(!le||Ie.eventStream.value&&Ie.eventStream.value===le)&&Ie.id===ye});if(be===-1)te[P].push(K),K.triggeredReceivedEvent=!1,K.triggeredStartEvent=!1,Pe=fe;else if(Q){var Ae=te[P][be];K.triggeredReceivedEvent=Ae.triggeredReceivedEvent,K.triggeredStartEvent=Ae.triggeredStartEvent,te[P][be]=K,Pe=q}return Pe}function x(K){try{if(K.eventStream.value==1){var te,Q=K.calculatedPresentationTime;te=K.calculatedPresentationTime==4294967295?NaN:K.calculatedPresentationTime+K.duration,se.trigger(n.Z.MANIFEST_VALIDITY_CHANGED,{id:K.id,validUntil:Q,newDuration:te,newManifestValidAfter:NaN},{mode:n.Z.EVENT_MODE_ON_START})}}catch(P){r.error(P)}}function L(K){try{var te=w.getTime();N(K,function(Q){var P=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.duration)?Q.eventStream.period.duration:NaN,le=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.start)?Q.eventStream.period.start:NaN;if(!isNaN(P)&&!isNaN(le)){var ye=Q.calculatedPresentationTime;Math.abs(ye-te)<300&&z(Q,n.Z.EVENT_MODE_ON_START)}})}catch(Q){r.error(Q)}}function N(K,te){try{if(K)for(var Q=Object.keys(K),P=0;P<Q.length;P++)for(var le=K[Q[P]],ye=Object.keys(le),Pe=0;Pe<ye.length;Pe++)le[ye[Pe]].forEach(function(be){be!==void 0&&te(be)})}catch(be){r.error(be)}}function R(K,te,Q){try{return K-te>Q}catch(P){return r.error(P),!1}}function z(K,te){try{var Q=w.getTime(),P=K.id;if(te===n.Z.EVENT_MODE_ON_RECEIVE&&!K.triggeredReceivedEvent)return r.debug("Received event ".concat(P)),K.triggeredReceivedEvent=!0,void se.trigger(K.eventStream.schemeIdUri,{event:K},{mode:te});K.triggeredStartEvent||(K.eventStream.schemeIdUri===C&&K.eventStream.value==1?K.duration===0&&K.presentationTimeDelta===0||(r.debug("Starting manifest refresh event ".concat(P," at ").concat(Q)),function(){try{ce(),h.refreshManifest()}catch(le){r.error(le)}}()):K.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&K.eventStream.value==1?(r.debug("Starting callback event ".concat(P," at ").concat(Q)),function(le){try{(0,Ut.Z)(ne).create({}).load({method:"get",url:le,request:{responseType:"arraybuffer"}})}catch(ye){r.error(ye)}}(K.messageData)):(r.debug("Starting event ".concat(P," from period ").concat(K.eventStream.period.id," at ").concat(Q)),se.trigger(K.eventStream.schemeIdUri,{event:K},{mode:te})),K.triggeredStartEvent=!0)}catch(le){r.error(le)}}return o={addInlineEvents:function(K,te){try{if(ce(),c[te]||(c[te]={}),K)for(var Q=0;Q<K.length;Q++){var P=K[Q];if(!R(w.getTime(),isNaN(P.duration)?0:P.duration,P.calculatedPresentationTime)){var le=m(P,c[te],!0);le===fe?(r.debug("Added inline event with id ".concat(P.id," from period ").concat(te)),z(P,n.Z.EVENT_MODE_ON_RECEIVE)):le===q&&r.debug("Updated inline event with id ".concat(P.id," from period ").concat(te))}}}catch(ye){throw ye}},addInbandEvents:function(K,te){try{ce(),_[te]||(_[te]={});for(var Q=0;Q<K.length;Q++){var P=K[Q];R(w.getTime(),isNaN(P.duration)?0:P.duration,P.calculatedPresentationTime)||(m(P,_[te],!1)===fe?(P.eventStream.schemeIdUri===C&&x(P),r.debug("Added inband event with id ".concat(P.id," from period ").concat(te)),z(P,n.Z.EVENT_MODE_ON_RECEIVE)):r.debug("Inband event with scheme_id_uri ".concat(P.eventStream.schemeIdUri,", value ").concat(P.eventStream.value,", period id ").concat(te," and event id ").concat(P.id," was ignored because it has been added before.")))}ue()}catch(le){throw le}},getInbandEvents:function(){return _},getInlineEvents:function(){return c},start:function(){try{ce(),r.debug("Start Event Controller");var K=G.get().streaming.eventControllerRefreshDelay;B||isNaN(K)||(B=!0,I=setInterval(ue,K))}catch(te){throw te}},setConfig:function(K){try{if(!K)return;K.manifestUpdater&&(h=K.manifestUpdater),K.playbackController&&(w=K.playbackController),K.settings&&(G=K.settings)}catch(te){throw te}},reset:function(){(function(){try{I!==null&&B&&(clearInterval(I),I=null,B=!1,function(){try{L(_),L(c)}catch(K){r.error(K)}}())}catch(K){throw K}})(),Y()}},r=(0,E.Z)(ne).getInstance().getLogger(o),Y(),o}ra.__dashjs_factory_name="EventController";var Eo=g.Z.getSingletonFactory(ra),Dr={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function Ni(o,r){(r==null||r>o.length)&&(r=o.length);for(var c=0,_=new Array(r);c<r;c++)_[c]=o[c];return _}function ia(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue,X,re,m,x,L,N,R,z,K,te,Q,P,le,ye,Pe,be,Ae,Ie,st,ut,rt,nt,Ot,Te,ke,me,pe,De,xe=this.context,Ze=(0,p.Z)(xe).getInstance();function mt(){if(!(b&&b.hasOwnProperty("load")&&X&&X.hasOwnProperty("initialize")&&X.hasOwnProperty("reset")&&X.hasOwnProperty("getClientTimeOffset")&&h&&ue&&G&&le))throw new Error(t.Z.MISSING_CONFIG_ERROR)}function dt(){if(!I||!I.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function Pt(){(function(){try{var Qe=w.getStreamsInfo();if(!m&&Qe.length===0)throw new Error("There are no periods in the MPD");m&&Qe.length>0&&G.updateManifestUpdateInfo({currentTime:le.getTime(),buffered:P.getBufferRange(),presentationStartTime:Qe[0].start,clientTimeOffset:X.getClientTimeOffset()}),re.length>0&&function(gn){gn.length!==0?re=re.filter(function(rn){var Dn=gn.filter(function(bn){return bn.id===rn.getId()}).length>0||rn.getId()===m.getId();return Dn||(r.debug("Removing stream ".concat(rn.getId())),rn.reset(!0)),Dn}):r.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Qe);for(var St=[],Ht=0,tn=Qe.length;Ht<tn;Ht++){var dn=Qe[Ht];St.push(Yt(dn)),G.addManifestUpdateStreamInfo(dn)}Promise.all(St).then(function(){return new Promise(function(gn,rn){m?gn():jt(Qe,gn,rn)})}).then(function(){Ze.trigger(u.Z.STREAMS_COMPOSED),xt()}).catch(function(gn){throw gn})}catch(gn){ue.error(new U.Z(oe.MANIFEST_ERROR_ID_NOSTREAMS_CODE,gn.message+" nostreamscomposed",h.getValue())),te=!0,xr()}})()}function zt(){ke=!0}function Yt(Qe){var St=Wr(Qe.id);return St?St.updateData(Qe):(St=oi(xe).create({manifestModel:h,mediaPlayerModel:Pe,dashMetrics:G,manifestUpdater:I,adapter:w,timelineConverter:X,capabilities:c,capabilitiesFilter:_,errHandler:ue,baseURLController:j,segmentBaseController:q,textController:L,abrController:ne,playbackController:le,eventController:ce,mediaController:se,protectionController:x,videoModel:P,streamInfo:Qe,settings:Te}),re.push(St),St.initialize(),Promise.resolve())}function jt(Qe,St,Ht){try{ze();var tn=G.getCurrentDVRInfo().range;if(tn.end<tn.start){me&&clearTimeout(me);var dn=Math.min(1e3*(-1*(tn.end-tn.start)+2),2147483647);return r.debug("Waiting for ".concat(dn," ms before playback can start")),Ze.trigger(u.Z.AST_IN_FUTURE,{delay:dn}),void(me=setTimeout(function(){jt(Qe,St,Ht)},dn))}Te.get().streaming.applyProducerReferenceTime&&ye.calculateProducerReferenceTimeOffsets(Qe);var gn=Qe[0].manifestInfo;if(Te.get().streaming.applyServiceDescription&&ye.applyServiceDescription(gn),w.getIsDynamic()){var rn=Rr(Qe,gn);le.computeAndSetLiveDelay(rn,gn)}(Te.get().streaming.applyContentSteering&&C.shouldQueryBeforeStart()?C.loadSteeringData():Promise.resolve()).then(function(){var Dn=h.getValue();Dn&&j.update(Dn),Vt(),St()}).catch(function(Dn){r.error(Dn),Vt(),St()})}catch(Dn){Ht(Dn)}}function Vt(){var Qe=function(){var tn;if(w.getIsDynamic()){var dn=G.getCurrentDVRInfo();tn=(dn&&dn.range?dn.range.end:0)-le.getOriginalLiveDelay();var gn=dn?dn.range:null;if(gn){if(isNaN(pe)&&pe.toString().indexOf("posix:")===-1){var rn=Qn(!0);isNaN(rn)||(r.info("Start time from URI parameters: ".concat(rn)),tn=Math.min(tn,rn))}else{r.info("Start time provided by the app: ".concat(pe));var Dn=Yn(!0,pe);isNaN(Dn)||(tn=Math.min(tn,Dn))}var bn=Te.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;tn=Math.max(tn,gn.start+bn)}}else if(tn=Qr()[0].getStreamInfo().start,isNaN(pe)){var mr=Qn(!1);isNaN(mr)||(r.info("Start time from URI parameters: ".concat(mr)),tn=Math.max(tn,mr))}else{r.info("Start time provided by the app: ".concat(pe));var Fr=Yn(!1,pe);isNaN(Fr)||(tn=Math.max(tn,Fr))}return tn}(),St=kt(Qe),Ht=St!==null?St:re[0];Ze.trigger(u.Z.INITIAL_STREAM_SWITCH,{startTime:Qe}),Wt(Ht,null,Qe),ut||(ut=setInterval(function(){!z&&le.getTimeToStreamEnd()<=0&&!le.isSeeking()&&Ze.trigger(u.Z.PLAYBACK_ENDED,{isLast:br().isLast})},200))}function Wt(Qe,St,Ht){try{if(z||!Qe||St===Qe&&Qe.getIsActive())return;z=!0,Ze.trigger(u.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:St?St.getStreamInfo():null,toStreamInfo:Qe.getStreamInfo()});var tn=!1;m=Qe,St&&(tn=Zt(Qe,St),St.deactivate(tn)),Ht=isNaN(Ht)?!tn&&St?Qe.getStreamInfo().start:NaN:Ht,r.info("Switch to stream ".concat(Qe.getId(),". Seektime is ").concat(Ht,", current playback time is ").concat(le.getTime(),". Seamless period switch is set to ").concat(tn)),nt=nt.filter(function(dn){return dn.getId()!==m.getId()}),le.initialize(br(),!!St),P.getElement()?Qt(Ht,tn,!1):en(Ht,tn)}catch{z=!1}}function Qt(Qe,St){var Ht,tn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function dn(){if(Q&&Q.readyState==="open"){r.debug("MediaSource is open!"),window.URL.revokeObjectURL(Ht),Q.removeEventListener("sourceopen",dn),Q.removeEventListener("webkitsourceopen",dn),Sn();var rn=G.getCurrentDVRInfo();H.setSeekable(rn.range.start,rn.range.end),tn?(isNaN(Qe)||le.seek(Qe,!0,!0),m.setMediaSource(Q).then(function(){m.initializeForTextWithMediaSource(Q)})):en(Qe,St)}}function gn(){Q.addEventListener("sourceopen",dn,!1),Q.addEventListener("webkitsourceopen",dn,!1),Ht=H.attachMediaSource(P),r.debug("MediaSource attached to element.  Waiting on open...")}Q?St?en(Qe,St):(H.detachMediaSource(P),gn()):(Q=H.createMediaSource(),gn())}function en(Qe,St){m.activate(Q,St?rt:void 0,Qe).then(function(Ht){if(Ht){var tn=Object.keys(Ht);tn.length>0&&Ht[tn[0]].getBuffer().changeType&&(Ot=!0),rt=Ht}isNaN(Qe)||(Ze.trigger(u.Z.SEEK_TARGET,{time:Qe},{streamId:m.getId()}),le.seek(Qe,!1,!0),m.startScheduleControllers()),z=!1,Ze.trigger(u.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:br()})})}function fn(Qe){var St=kt(Qe.seekTime);St&&St!==m?St&&St!==m&&(on(),function(Ht,tn){var dn=Ht&&!isNaN(Ht.seekTime)?Ht.seekTime:NaN,gn=m.getProcessors().map(function(rn){return rn.prepareOuterPeriodPlaybackSeeking(Ht)});Promise.all(gn).then(function(){Wt(tn,m,dn)}).catch(function(rn){ue.error(rn)})}(Qe,St)):(on(),function(Ht){m.getProcessors().forEach(function(tn){return tn.prepareInnerPeriodPlaybackSeeking(Ht)}),hr(Ne.USER_REQUEST_STOP_REASON)}(Qe)),Tr(Se.SEEK_START_REASON)}function on(){cn()}function cn(){nt&&nt.length>0&&(nt.forEach(function(Qe){Qe.deactivate(!0)}),nt=[])}function lt(Qe){if(Qe.newMediaInfo.streamInfo.id===m.getId()){if(cn(),Te.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&Qe.oldMediaInfo&&Qe.oldMediaInfo.codec!==Qe.newMediaInfo.codec){var St=le.getTime();return m.deactivate(!1),void Qt(St,!1,!1)}m.prepareTrackChange(Qe)}}function Zt(Qe,St){try{return Te.get().streaming.buffer.reuseExistingSourceBuffers&&(St.isProtectionCompatible(Qe)||ke)&&(Ot&&Te.get().streaming.buffer.useChangeTypeForTrackSwitch||St.isMediaCodecCompatible(Qe,St))}catch{return!1}}function Gt(Qe){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Q&&!Qe.getPreloaded()){var Ht=Zt(Qe,St);Ht&&Qe.startPreloading(Q,rt).then(function(){nt.push(Qe)})}}function kt(Qe){if(isNaN(Qe))return null;for(var St=re.length,Ht=0;Ht<St;Ht++){var tn=re[Ht];if(Qe<parseFloat((tn.getStartTime()+tn.getDuration()).toFixed(5)))return tn}return null}function ze(){try{var Qe=w.getIsDynamic(),St=w.getStreamsInfo()[0].manifestInfo,Ht=le.getTime(),tn=X.calcTimeShiftBufferWindow(re,Qe),dn=Rn();if(tn.start===void 0||tn.end===void 0)return;dn&&dn.length!==0?dn.forEach(function(gn){G.addDVRInfo(gn.getType(),Ht,St,tn)}):G.addDVRInfo(t.Z.VIDEO,Ht,St,tn)}catch{}}function ht(Qe){if(Ie&&R){var St=Pe.getInitialBufferLevel(),Ht=[t.Z.TEXT];(isNaN(St)||St<=le.getBufferLevel(Ht)||w.getIsDynamic()&&St>le.getLiveDelay())&&(Ie=!1,Tr(Se.INITIAL_PLAYOUT_START_REASON),le.play())}Qe&&Qe.mediaType&&G.addBufferLevel(Qe.mediaType,new Date,1e3*Qe.bufferLevel)}function je(Qe){Qe.streamInfo.id===m.getId()&&Qe.reason&&Qe.reason.forceReplace&&cn(),Wr(Qe.streamInfo.id).prepareQualityChange(Qe)}function Re(){if(w.getIsDynamic()&&le.getOriginalLiveDelay()!==0&&m){var Qe=w.getStreamsInfo();if(Qe.length>0){var St=Qe[0].manifestInfo,Ht=Rr(Qe,St);le.computeAndSetLiveDelay(Ht,St)}}}function ae(){if(gr()){var Qe=P.getPlaybackQuality();Qe&&G.addDroppedFrames(Qe)}}function Fe(){r.debug("[onPlaybackStarted]"),!Ie&&Ae&&Tr(Se.RESUME_FROM_PAUSE_START_REASON),Ie&&(Ie=!1),st&&(st=!1,Te.get().streaming.applyContentSteering&&!C.shouldQueryBeforeStart()&&C.loadSteeringData()),Ae=!1}function at(Qe){r.debug("[onPlaybackPaused]"),Qe.ended||(Ae=!0,hr(Ne.USER_REQUEST_STOP_REASON))}function Rt(Qe){r.debug("Stream with id ".concat(Qe.streamInfo.id," finished buffering"));var St=Qe.streamInfo.isLast;Q&&St?(r.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),H.signalEndOfStream(Q)):xt()}function xt(){if(m&&m.getHasFinishedBuffering())for(var Qe=function(){var dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var gn=dn||m||null;if(gn){var rn=gn.getStreamInfo();return re.filter(function(Dn){var bn=Dn.getStreamInfo();return bn.start>rn.start&&rn.id!==bn.id})}}catch{return[]}}(m),St=0;St<Qe.length;){var Ht=Qe[St],tn=St===0?m:Qe[St-1];!Ht.getPreloaded()&&tn.getHasFinishedBuffering()&&Q&&Gt(Ht,tn),St+=1}}function an(){ut&&(clearInterval(ut),ut=null)}function Rn(){return m?m.getProcessors():[]}function Wn(Qe){if(m&&!m.getIsEndedEventSignaled()){m.setIsEndedEventSignaled(!0);var St=function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,tn=Ht||m||null;if(!tn)return null;for(var dn=tn.getStreamInfo(),gn=dn.start,rn=0,Dn=-1,bn=NaN;rn<re.length;){var mr=re[rn].getStreamInfo(),Fr=mr.start-gn;Fr>0&&(isNaN(bn)||Fr<bn)&&dn.id!==mr.id&&(bn=Fr,Dn=rn),rn+=1}return Dn>=0?re[Dn]:null}();St?(r.debug("StreamController onEnded, found next stream with id ".concat(St.getStreamInfo().id,". Switching from ").concat(m.getStreamInfo().id," to ").concat(St.getStreamInfo().id)),Wt(St,m,NaN)):(r.debug("StreamController no next stream found"),m.setIsEndedEventSignaled(!1)),hr(St?Ne.END_OF_PERIOD_STOP_REASON:Ne.END_OF_CONTENT_STOP_REASON)}Qe&&Qe.isLast&&(an(),C.stopSteeringRequestTimer())}function Sn(Qe){var St=Qe||br().manifestInfo.duration;H.setDuration(St)}function Qn(Qe){var St=fe.getURIFragmentData();if(!St||!St.t)return NaN;var Ht=Qr()[0].getStreamInfo().start;return St.t=St.t.split(",")[0],dr(Qe,St.t,Ht)}function Yn(Qe,St){var Ht=0;return Qe||(Ht=Qr()[0].getStreamInfo().start),dr(Qe,St,Ht)}function dr(Qe,St,Ht){var tn=w.getRegularPeriods()[0],dn=St.toString(),gn=dn.indexOf("posix:")!==-1?dn.substring(6)==="now"?Date.now()/1e3:parseFloat(dn.substring(6)):NaN;return Qe&&!isNaN(gn)?X.calcPresentationTimeFromWallTime(new Date(1e3*gn),tn):parseFloat(dn)+Ht}function Rr(Qe,St){try{var Ht=NaN;if(St&&!isNaN(St.maxFragmentDuration)&&isFinite(St.maxFragmentDuration))return St.maxFragmentDuration;if(Qe&&Qe.length===1){var tn=Qe[0],dn=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT].reduce(function(rn,Dn){var bn=w.getMediaInfoForType(tn,Dn);return bn&&bn.isFragmented!==!1&&rn.push(bn),rn},[]).reduce(function(rn,Dn){var bn=w.getVoRepresentations(Dn);return bn&&bn.length>0&&bn.forEach(function(mr){mr&&rn.push(mr)}),rn},[]).reduce(function(rn,Dn){var bn=w.convertRepresentationToRepresentationInfo(Dn);return bn&&bn.fragmentDuration&&!isNaN(bn.fragmentDuration)&&rn.push(bn.fragmentDuration),rn},[]);Ht=Math.max.apply(Math,function(rn){if(Array.isArray(rn))return Ni(rn)}(gn=dn)||function(rn){if(typeof Symbol<"u"&&Symbol.iterator in Object(rn))return Array.from(rn)}(gn)||function(rn,Dn){if(rn){if(typeof rn=="string")return Ni(rn,Dn);var bn=Object.prototype.toString.call(rn).slice(8,-1);return bn==="Object"&&rn.constructor&&(bn=rn.constructor.name),bn==="Map"||bn==="Set"?Array.from(rn):bn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bn)?Ni(rn,Dn):void 0}}(gn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(Ht)?Ht:NaN}catch{return NaN}var gn}function sr(Qe){if(Qe.error)te=!0,xr();else{r.info("Manifest updated... updating data system wide.");var St=Qe.manifest;w.updatePeriods(St);var Ht=w.getUTCTimingSources();!w.getIsDynamic()||Ht&&Ht.length!==0||Ze.trigger(n.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.WARNING,event:Dr.EVENTS.NO_UTC_TIMING_ELEMENT});var tn=w.getIsDynamic()?Ht.concat(be.getUTCTimingSources()):Ht;_.filterUnsupportedFeatures(St).then(function(){j.initialize(St),B.attemptSync(tn,w.getIsDynamic())})}}function gr(){return!!m&&m.getHasVideoTrack()}function tr(){return!!m&&m.getHasAudioTrack()}function hr(Qe,St){St=St||new Date,Rn().forEach(function(Ht){Ht.finalisePlayList(St,Qe)}),G.addPlayList()}function Tr(Qe){G.createPlaylistMetrics(1e3*le.getTime(),Qe)}function Sr(Qe){if(Qe.error){var St="";switch(Qe.error.code){case 1:St="MEDIA_ERR_ABORTED";break;case 2:St="MEDIA_ERR_NETWORK";break;case 3:St="MEDIA_ERR_DECODE",De.counts.mediaErrorDecode+=1;break;case 4:St="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:St="MEDIA_ERR_ENCRYPTED";break;default:St="UNKNOWN"}St==="MEDIA_ERR_DECODE"&&Te.get().errors.recoverAttempts.mediaErrorDecode>=De.counts.mediaErrorDecode?function(){r.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Ht=le.getTime();m.deactivate(!1),r.warn("MediaSource has been resetted. Resuming playback from time ".concat(Ht)),Qt(Ht,!1,!1)}():(K=!0,Qe.error.message&&(St+=" ("+Qe.error.message+")"),Qe.error.msExtendedCode&&(St+=" (0x"+(Qe.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),r.fatal("Video Element Error: "+St),Qe.error&&r.fatal(Qe.error),ue.error(new U.Z(Qe.error.code,St)),xr())}}function br(){return m?m.getStreamInfo():null}function Wr(Qe){for(var St=0,Ht=re.length;St<Ht;St++)if(re[St].getId()===Qe)return re[St];return null}function Si(Qe){isNaN(Qe.newDuration)||Sn(Qe.newDuration)}function Lr(){re=[],pe=NaN,x=null,z=!1,m=null,K=!1,te=!1,Ie=!0,st=!0,Ae=!1,R=!0,ut=null,ke=!1,Ot=!1,nt=[],me=null,De={counts:{mediaErrorDecode:0}}}function xr(){mt(),B.reset(),hr(K||te?Ne.FAILURE_STOP_REASON:Ne.USER_REQUEST_STOP_REASON);for(var Qe=0,St=re?re.length:0;Qe<St;Qe++)re[Qe].reset(K);Ze.off(n.Z.PLAYBACK_TIME_UPDATED,ae,o),Ze.off(n.Z.PLAYBACK_SEEKING,fn,o),Ze.off(n.Z.PLAYBACK_ERROR,Sr,o),Ze.off(n.Z.PLAYBACK_STARTED,Fe,o),Ze.off(n.Z.PLAYBACK_PAUSED,at,o),Ze.off(n.Z.PLAYBACK_ENDED,Wn,o),Ze.off(n.Z.METRIC_ADDED,Xr,o),Ze.off(n.Z.MANIFEST_VALIDITY_CHANGED,Si,o),Ze.off(n.Z.BUFFER_LEVEL_UPDATED,ht,o),Ze.off(n.Z.QUALITY_CHANGE_REQUESTED,je,o),u.Z.KEY_SESSION_UPDATED&&Ze.off(u.Z.KEY_SESSION_UPDATED,zt,o),Ze.off(u.Z.MANIFEST_UPDATED,sr,o),Ze.off(u.Z.STREAM_BUFFERING_COMPLETED,Rt,o),Ze.off(u.Z.TIME_SYNCHRONIZATION_COMPLETED,Pt,o),Ze.off(u.Z.CURRENT_TRACK_CHANGED,lt,o),Ze.off(u.Z.SETTING_UPDATED_LIVE_DELAY,Re,o),Ze.off(u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Re,o),j.reset(),I.reset(),ce.reset(),G.clearAllCurrentMetrics(),h.setValue(null),b.reset(),X.reset(),Y.reset(),Q&&(H.detachMediaSource(P),Q=null),P=null,x&&(x=null,N=null,h.getValue()&&Ze.trigger(u.Z.PROTECTION_DESTROYED,{data:h.getValue().url})),an(),Ze.trigger(u.Z.STREAM_TEARDOWN_COMPLETE),Lr()}function Xr(Qe){if(Qe.metric===y.Z.DVR_INFO){var St=tr()?t.Z.AUDIO:t.Z.VIDEO;Qe.mediaType===St&&H.setSeekable(Qe.value.range.start,Qe.value.range.end)}}function Qr(){return re}return o={initialize:function(Qe,St){mt(),R=Qe,N=St,X.initialize(),(I=si(xe).create()).setConfig({manifestModel:h,adapter:w,manifestLoader:b,errHandler:ue,settings:Te,contentSteeringController:C}),I.initialize(),(ce=Eo(xe).getInstance()).setConfig({manifestUpdater:I,playbackController:le,settings:Te}),ce.start(),B.setConfig({dashMetrics:G,baseURLController:j,errHandler:ue,settings:Te}),B.initialize(),H.setConfig({settings:Te}),x&&(Ze.trigger(u.Z.PROTECTION_CREATED,{controller:x}),x.setMediaElement(P.getElement()),N&&x.setProtectionData(N)),Ze.on(n.Z.PLAYBACK_TIME_UPDATED,ae,o),Ze.on(n.Z.PLAYBACK_SEEKING,fn,o),Ze.on(n.Z.PLAYBACK_ERROR,Sr,o),Ze.on(n.Z.PLAYBACK_STARTED,Fe,o),Ze.on(n.Z.PLAYBACK_PAUSED,at,o),Ze.on(n.Z.PLAYBACK_ENDED,Wn,o),Ze.on(n.Z.METRIC_ADDED,Xr,o),Ze.on(n.Z.MANIFEST_VALIDITY_CHANGED,Si,o),Ze.on(n.Z.BUFFER_LEVEL_UPDATED,ht,o),Ze.on(n.Z.QUALITY_CHANGE_REQUESTED,je,o),u.Z.KEY_SESSION_UPDATED&&Ze.on(u.Z.KEY_SESSION_UPDATED,zt,o),Ze.on(u.Z.MANIFEST_UPDATED,sr,o),Ze.on(u.Z.STREAM_BUFFERING_COMPLETED,Rt,o),Ze.on(u.Z.TIME_SYNCHRONIZATION_COMPLETED,Pt,o),Ze.on(u.Z.CURRENT_TRACK_CHANGED,lt,o),Ze.on(u.Z.SETTING_UPDATED_LIVE_DELAY,Re,o),Ze.on(u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,Re,o)},getActiveStreamInfo:br,addDVRMetric:ze,hasVideoTrack:gr,hasAudioTrack:tr,getStreamById:Wr,getStreamForTime:kt,getTimeRelativeToStreamId:function(Qe,St){for(var Ht=null,tn=0,dn=0,gn=null,rn=0;rn<re.length;rn++){if(dn=(Ht=re[rn]).getStartTime(),gn=Ht.getDuration(),Number.isFinite(dn)&&(tn=dn),Ht.getId()===St)return Qe-tn;Number.isFinite(gn)&&(tn+=gn)}return null},load:function(Qe){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;mt(),pe=St,b.load(Qe)},loadWithManifest:function(Qe){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;dt(),pe=St,I.setManifest(Qe)},getActiveStreamProcessors:Rn,setConfig:function(Qe){Qe&&(Qe.capabilities&&(c=Qe.capabilities),Qe.capabilitiesFilter&&(_=Qe.capabilitiesFilter),Qe.manifestLoader&&(b=Qe.manifestLoader),Qe.manifestModel&&(h=Qe.manifestModel),Qe.mediaPlayerModel&&(Pe=Qe.mediaPlayerModel),Qe.customParametersModel&&(be=Qe.customParametersModel),Qe.protectionController&&(x=Qe.protectionController),Qe.adapter&&(w=Qe.adapter),Qe.dashMetrics&&(G=Qe.dashMetrics),Qe.errHandler&&(ue=Qe.errHandler),Qe.timelineConverter&&(X=Qe.timelineConverter),Qe.videoModel&&(P=Qe.videoModel),Qe.playbackController&&(le=Qe.playbackController),Qe.serviceDescriptionController&&(ye=Qe.serviceDescriptionController),Qe.contentSteeringController&&(C=Qe.contentSteeringController),Qe.textController&&(L=Qe.textController),Qe.abrController&&(ne=Qe.abrController),Qe.mediaController&&(se=Qe.mediaController),Qe.settings&&(Te=Qe.settings),Qe.baseURLController&&(j=Qe.baseURLController),Qe.uriFragmentModel&&(fe=Qe.uriFragmentModel),Qe.segmentBaseController&&(q=Qe.segmentBaseController))},setProtectionData:function(Qe){N=Qe,x&&x.setProtectionData(N)},getIsStreamSwitchInProgress:function(){return z},switchToVideoElement:function(Qe){m&&(le.initialize(br()),Qt(Qe,!1,!0))},getHasMediaOrInitialisationError:function(){return K||te},getStreams:Qr,getActiveStream:function(){return m},getInitialPlayback:function(){return Ie},getAutoPlay:function(){return R},reset:xr},r=(0,E.Z)(xe).getInstance().getLogger(o),B=po(xe).getInstance(),H=yo(xe).getInstance(),Y=_e(xe).getInstance(),Lr(),o}ia.__dashjs_factory_name="StreamController";var aa=g.Z.getSingletonFactory(ia);function oa(){var o,r,c,_,I,b,h,w,G,H,B,C,j=this.context,q=(0,p.Z)(j).getInstance();function fe(){C.debug("Stopping the gap controller"),I&&(clearInterval(I),I=null),function(){q.off(u.Z.WALLCLOCK_TIME_UPDATED,ue,this),q.off(u.Z.INITIAL_STREAM_SWITCH,Y,this),q.off(u.Z.PLAYBACK_SEEKING,ne,this),q.off(u.Z.BUFFER_REPLACEMENT_STARTED,se,o),q.off(u.Z.TRACK_CHANGE_RENDERED,ce,o)}(),I=null,b=NaN,_=0,H=null,B={}}function ne(){H&&(clearTimeout(H),H=null)}function se(N){try{if(N.streamId!==w.getActiveStreamInfo().id||N.mediaType!==t.Z.VIDEO&&N.mediaType!==t.Z.AUDIO)return;N.streamId===w.getActiveStreamInfo().id&&(B[N.mediaType]=!0)}catch(R){C.error(R)}}function ce(N){N&&N.mediaType&&(B[N.mediaType]=!1)}function Y(){I||function(){try{I||(C.debug("Starting the gap controller"),I=setInterval(function(){X()&&L(h.getTime())},100))}catch{}}()}function ue(){if(X(c.get().streaming.gaps.enableSeekFix)&&++_>=10){var N=h.getTime();r===N?L(N,!0):(r=N,b=NaN),_=0}}function X(){var N=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!w.getActiveStream())return!1;var R=Object.keys(B).some(function(K){return B[K]}),z=!!N&&re();return!R&&c.get().streaming.gaps.jumpGaps&&w.getActiveStreamProcessors().length>0&&(!h.isSeeking()||z)&&!h.isPaused()&&!w.getIsStreamSwitchInProgress()&&!w.getHasMediaOrInitialisationError()}function re(){var N=w.getActiveStream(),R=parseFloat((N.getStartTime()+N.getDuration()).toFixed(5));return h.getTime()+c.get().streaming.gaps.threshold>=R}function m(N,R){try{if(!N||N.length<=1&&R>0)return NaN;for(var z=NaN,K=0;isNaN(z)&&K<N.length;){var te=K>0?N.end(K-1):0;R<N.start(K)&&te-R<c.get().streaming.gaps.threshold&&(z=K),K+=1}return z}catch{return null}}function x(N,R){for(var z=0,K=N.length;z<K;z++)if(R>=N.start(z)&&R<=N.end(z))return!0;return!1}function L(N){var R,z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],K=c.get().streaming.gaps.enableStallFix,te=c.get().streaming.gaps.stallSeek,Q=c.get().streaming.gaps.smallGapLimit,P=c.get().streaming.gaps.jumpLargeGaps,le=G.getBufferRange(),ye=NaN,Pe=!1;if(R=m(le,N),!isNaN(R)){var be=le.start(R),Ae=be-N;Ae>0&&(Ae<=Q||P)&&(ye=be)}var Ie=h.getTimeToStreamEnd();if(isNaN(ye)&&z&&isFinite(Ie)&&!isNaN(Ie)&&Ie<Q&&(ye=parseFloat(h.getStreamEndTime().toFixed(5)),Pe=!0),K&&isNaN(ye)&&z&&isNaN(R)&&x(le,N)&&(te===0?(C.warn("Toggle play pause to break stall"),G.pause(),G.play()):(C.warn("Jumping ".concat(te,"s to break stall")),ye=N+te)),ye>0&&b!==ye&&ye>N&&!H){var st=ye-N;if(Pe){var ut=w.getStreamForTime(ye),rt=ut&&!!ut.getPreloaded();C.warn("Jumping to end of stream because of gap from ".concat(N," to ").concat(ye,". Gap duration: ").concat(st)),h.seek(ye,!0,rt)}else{var nt=h.getIsDynamic(),Ot=R>0?le.end(R-1):N,Te=nt?1e3*Math.max(0,st-.1):0;H=window.setTimeout(function(){h.seek(ye,!0,!0),C.warn("Jumping gap occuring in period ".concat(w.getActiveStream().getStreamId()," starting at ").concat(Ot," and ending at ").concat(ye,". Jumping by: ").concat(ye-Ot)),H=null},Te)}b=ye}}return o={reset:fe,setConfig:function(N){N&&(N.settings&&(c=N.settings),N.playbackController&&(h=N.playbackController),N.streamController&&(w=N.streamController),N.videoModel&&(G=N.videoModel))},initialize:function(){(function(){q.on(u.Z.WALLCLOCK_TIME_UPDATED,ue,this),q.on(u.Z.INITIAL_STREAM_SWITCH,Y,this),q.on(u.Z.PLAYBACK_SEEKING,ne,this),q.on(u.Z.BUFFER_REPLACEMENT_STARTED,se,o),q.on(u.Z.TRACK_CHANGE_RENDERED,ce,o)})()}},C=(0,E.Z)(j).getInstance().getLogger(o),fe(),o}oa.__dashjs_factory_name="GapController";var vo=g.Z.getSingletonFactory(oa);function sa(){var o,r,c,_,I,b,h,w,G,H,B=this.context,C=(0,p.Z)(B).getInstance();function j(){r=!1;var re=sn.Z.parseUserAgent();c=re&&re.browser&&re.browser.name&&re.browser.name.toLowerCase()==="safari"}function q(){r=!1}function fe(re){if(re.streamId===b.getActiveStreamInfo().id&&G){var m=h.getLiveDelay();h.getBufferLevel()>m/2&&(G=!1)}}function ne(re){re.streamId===b.getActiveStreamInfo().id&&(G=re.state===y.Z.BUFFER_EMPTY)}function se(){w.getCatchupModeEnabled()||_.setPlaybackRate(1)}function ce(){h.getIsDynamic()&&w.getCatchupModeEnabled()&&(w.getCatchupPlaybackRates().max>0||w.getCatchupPlaybackRates().min<0)&&!h.isPaused()&&!h.isSeeking()&&function(){try{return!(!h.getTime()>0||r)&&(ue()===t.Z.LIVE_CATCHUP_MODE_LOLP?function(re,m){try{return Math.abs(Y())>0||re<m}catch{return!1}}(h.getBufferLevel(),I.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(Y())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!r&&_){var re,m=_.getPlaybackRate(),x=w.getCatchupPlaybackRates(),L=h.getBufferLevel(),N=Y(),R=w.getCatchupMaxDrift();if(!isNaN(R)&&R>0&&N>R)H.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),r=!0,h.seekToCurrentLive(!0,!1);else{var z=h.getCurrentLiveLatency(),K=h.getLiveDelay();re=ue()===t.Z.LIVE_CATCHUP_MODE_LOLP?function(Q,P,le,ye,Pe){var be;if(Pe<ye){var Ae=Math.abs(Q.min),Ie=5*(Pe-ye);be=1-Ae+2*Ae/(1+Math.pow(Math.E,-Ie)),H.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Pe+", newRate: "+be)}else{var st=Q.max;if(Math.abs(P-le)<=.02*le)be=1;else{var ut=5*(P-le);be=1-st+2*st/(1+Math.pow(Math.E,-ut))}H.debug("[LoL+ playback control_latency-based] latency: "+P+", newRate: "+be)}return be}(x,z,K,I.get().streaming.liveCatchup.playbackBufferMin,L):function(Q,P,le,ye){if(G)return 1;var Pe=P-le,be=Pe<0?Math.abs(Q.min):Q.max,Ae=5*Pe,Ie=1-be+2*be/(1+Math.pow(Math.E,-Ae));return h.getPlaybackStalled()&&ye<=le/2&&Pe>0&&(Ie=1),Ie}(x,z,K,L);var te=c?.25:.02/(.5/x.max);re&&Math.abs(m-re)>=te&&(H.debug("[CatchupController]: Setting playback rate to ".concat(re)),_.setPlaybackRate(re))}}}()}function Y(){return h.getCurrentLiveLatency()-h.getLiveDelay()}function ue(){var re=I.get().streaming.liveCatchup.playbackBufferMin;return I.get().streaming.liveCatchup.mode!==t.Z.LIVE_CATCHUP_MODE_LOLP||re===null||isNaN(re)?t.Z.LIVE_CATCHUP_MODE_DEFAULT:t.Z.LIVE_CATCHUP_MODE_LOLP}function X(){w.getCatchupPlaybackRates(!0)}return o={reset:function(){C.off(n.Z.BUFFER_LEVEL_UPDATED,fe,o),C.off(n.Z.BUFFER_LEVEL_STATE_CHANGED,ne,o),C.off(n.Z.PLAYBACK_PROGRESS,ce,o),C.off(n.Z.PLAYBACK_TIME_UPDATED,ce,o),C.off(n.Z.PLAYBACK_SEEKED,q,o),C.off(u.Z.SETTING_UPDATED_CATCHUP_ENABLED,se,o),C.off(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,X,o),C.off(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,X,o),C.off(n.Z.STREAM_INITIALIZED,X,o),j(),_.setPlaybackRate(1,!0)},setConfig:function(re){re&&(re.settings&&(I=re.settings),re.videoModel&&(_=re.videoModel),re.streamController&&(b=re.streamController),re.playbackController&&(h=re.playbackController),re.mediaPlayerModel&&(w=re.mediaPlayerModel))},initialize:function(){C.on(n.Z.BUFFER_LEVEL_UPDATED,fe,o),C.on(n.Z.BUFFER_LEVEL_STATE_CHANGED,ne,o),C.on(n.Z.PLAYBACK_PROGRESS,ce,o),C.on(n.Z.PLAYBACK_TIME_UPDATED,ce,o),C.on(n.Z.PLAYBACK_SEEKED,q,o),C.on(u.Z.SETTING_UPDATED_CATCHUP_ENABLED,se,o),C.on(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,X,o),C.on(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,X,o),C.on(n.Z.STREAM_INITIALIZED,X,o),X()}},H=(0,E.Z)(B).getInstance().getLogger(o),j(),o}sa.__dashjs_factory_name="CatchupController";var _o=g.Z.getSingletonFactory(sa),To=[t.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],ua="video",la="audio";function ca(){var o,r,c,_,I,b=this.context;function h(){r={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null},c=[]}function w(G,H,B){try{r[G][H]=B/1e3}catch(C){_.error(C)}}return o={getServiceDescriptionSettings:function(){return r},getProducerReferenceTimeOffsets:function(){return c},calculateProducerReferenceTimeOffsets:function(G){try{var H=[];if(G&&G.length>0){var B=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT],C=I.getAvailabilityStartTime()/1e3;G.forEach(function(j){var q=B.reduce(function(fe,ne){return fe.concat(I.getAllMediaInfoForType(j,ne))},[]).reduce(function(fe,ne){return I.getProducerReferenceTimes(j,ne).forEach(function(se){var ce=I.getVoRepresentations(ne);if(ce&&ce.length>0&&ce[0].adaptation&&ce[0].segmentInfoType===e.Z.SEGMENT_TEMPLATE){var Y=ce[0],ue=new Date(se[e.Z.WALL_CLOCK_TIME]).getTime()/1e3-(se[e.Z.PRESENTATION_TIME]/Y[e.Z.TIMESCALE]-Y[e.Z.PRESENTATION_TIME_OFFSET]+j.start),X=C-ue;fe.push({id:se[e.Z.ID],to:X})}}),fe},[]);H=H.concat(q)})}c=H}catch(j){_.error(j),c=[]}},applyServiceDescription:function(G){if(G&&G.serviceDescriptions){var H=G.serviceDescriptions.filter(function(j){return To.includes(j.schemeIdUri)}),B=G.serviceDescriptions.filter(function(j){return j.schemeIdUri==null}),C=H.length>0?H[H.length-1]:B[B.length-1];C&&(C.latency&&C.latency.target>0&&function(j){var q;if(j.schemeIdUri,t.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,q=function(ce){return{liveDelay:ce.latency.target/1e3,maxDrift:!isNaN(ce.latency.max)&&ce.latency.max>ce.latency.target?(ce.latency.max-ce.latency.target+500)/1e3:NaN,referenceId:ce.latency.referenceId||NaN}}(j),c.length>0){var fe=function(ce){var Y,ue=0,X=c.filter(function(re){return re.id===ce.referenceId});return X.length===0?(ue=c.length>0?c[0].to:0,Y=c[0].id||NaN):(ue=X[0].to||0,Y=X[0].id||NaN),{to:ue,id:Y}}(q),ne=fe.to,se=fe.id;r.liveDelay=q.liveDelay-ne,r.liveCatchup.maxDrift=q.maxDrift,_.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(ne," from ProducerReferenceTime element with id ").concat(se,`.
                Live Delay: `).concat(q.liveDelay-ne,", Live catchup max drift: ").concat(q.maxDrift,`
            `))}else r.liveDelay=q.liveDelay,r.liveCatchup.maxDrift=q.maxDrift,_.debug("Found latency properties coming from service description: Live Delay: ".concat(q.liveDelay,", Live catchup max drift: ").concat(q.maxDrift))}(C),C.playbackRate&&function(j){var q=j.playbackRate.min?Math.round(1e3*(j.playbackRate.min-1))/1e3:NaN,fe=j.playbackRate.max?Math.round(1e3*(j.playbackRate.max-1))/1e3:NaN;r.liveCatchup.playbackRate.min=q,r.liveCatchup.playbackRate.max=fe,_.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(q)),_.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(fe))}(C),C.operatingQuality,C.operatingBandwidth&&function(j){if(j&&j.operatingBandwidth&&j.operatingBandwidth.mediaType&&j.operatingBandwidth.mediaType!=="all"){var q={};q.minBandwidth=j.operatingBandwidth.min,q.maxBandwidth=j.operatingBandwidth.max,q.targetBandwidth=j.operatingBandwidth.target;var fe=[];j.operatingBandwidth.mediaType===ua||j.operatingBandwidth.mediaType===la?fe.push(j.operatingBandwidth.mediaType):j.operatingBandwidth.mediaType==="any"&&(fe.push(la),fe.push(ua)),fe.forEach(function(ne){isNaN(q.minBandwidth)||w("minBitrate",ne,q.minBandwidth),isNaN(q.maxBandwidth)||w("maxBitrate",ne,q.maxBandwidth),isNaN(q.targetBandwidth)||w("initialBitrate",ne,q.targetBandwidth)})}}(C),C.contentSteering&&function(j){r.contentSteering=j.contentSteering}(C))}},reset:function(){h()},setConfig:function(G){G&&G.adapter&&(I=G.adapter)}},_=(0,E.Z)(b).getInstance().getLogger(o),h(),o}ca.__dashjs_factory_name="ServiceDescriptionController";var So=g.Z.getSingletonFactory(ca),bo=O(3973),ui=O.n(bo),fa=O(3039);function Ci(){var o,r,c,_,I,b,h,w,G=this.context,H=(0,p.Z)(G).getInstance();function B(P,le){return P&&c[le]&&c[le][P]?c[le][P].list:[]}function C(P,le){return P&&c[le]&&c[le][P]?c[le][P].current:null}function j(P){var le=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(P&&P.streamInfo){var ye=P.type,Pe=P.streamInfo,be=Pe.id,Ae=C(ye,be);if(c[be]&&c[be][ye]&&(c[be][ye].current=P,c[be][ye].current&&(ye!==t.Z.TEXT&&!ne(P,Ae)||ye===t.Z.TEXT&&P.isFragmented)&&H.trigger(u.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ae,newMediaInfo:P,switchMode:_.get().streaming.trackSwitchMode[ye]},{streamId:be}),!le)){var Ie=ce(P);if(!Ie||!c[be][ye].storeLastSettings)return;Ie.roles&&(Ie.role=Ie.roles[0],delete Ie.roles),Ie.accessibility&&(Ie.accessibility=Ie.accessibility[0]),Ie.audioChannelConfiguration&&(Ie.audioChannelConfiguration=Ie.audioChannelConfiguration[0]),b[ye]=Ie,w.setSavedMediaSettings(ye,Ie)}}}function q(P,le){P&&le&&(I[P]=le)}function fe(P){return P?I[P]:null}function ne(P,le){if(!P&&!le)return!0;if(!P||!le)return!1;var ye=P.id===le.id,Pe=P.viewpoint===le.viewpoint,be=JSON.stringify(P.viewpointsWithSchemeIdUri)===JSON.stringify(le.viewpointsWithSchemeIdUri),Ae=P.lang===le.lang,Ie=P.codec===le.codec,st=P.roles.toString()===le.roles.toString(),ut=JSON.stringify(P.rolesWithSchemeIdUri)===JSON.stringify(le.rolesWithSchemeIdUri),rt=P.accessibility.toString()===le.accessibility.toString(),nt=JSON.stringify(P.accessibilitiesWithSchemeIdUri)===JSON.stringify(le.accessibilitiesWithSchemeIdUri),Ot=P.audioChannelConfiguration.toString()===le.audioChannelConfiguration.toString(),Te=JSON.stringify(P.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(le.audioChannelConfigurationsWithSchemeIdUri);return ye&&Ie&&Pe&&be&&Ae&&st&&ut&&rt&&nt&&Ot&&Te}function se(){c={},b={},I={audio:null,video:null,text:null}}function ce(P){var le={lang:P.lang,viewpoint:P.viewpoint,roles:P.roles,accessibility:P.accessibility,audioChannelConfiguration:P.audioChannelConfiguration,codec:P.codec};return le.lang||le.viewpoint||le.role&&le.role.length>0||le.accessibility&&le.accessibility.length>0||le.audioChannelConfiguration&&le.audioChannelConfiguration.length>0?le:null}function Y(P,le,ye){var Pe=[];return P.forEach(function(be){le(ye,be)&&Pe.push(be)}),Pe.length!==0?Pe:P}function ue(P,le){return!P.lang||P.lang instanceof RegExp?le.lang.match(P.lang):le.lang!==""&&(0,fa.extendedFilter)(le.lang,ui()(P.lang)).length>0}function X(P,le){return P.index===void 0||P.index===null||le.index===P.index}function re(P,le){return!P.viewpoint||P.viewpoint===le.viewpoint}function m(P,le){var ye=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Pe=!P.role||!!le.roles.filter(function(be){return be===P.role})[0];return Pe||le.type===t.Z.AUDIO&&ye}function x(P,le){return P.accessibility?!!le.accessibility.filter(function(ye){return ye===P.accessibility})[0]:!le.accessibility.length}function L(P,le){return!P.audioChannelConfiguration||!!le.audioChannelConfiguration.filter(function(ye){return ye===P.audioChannelConfiguration})[0]}function N(P,le){return!P.codec||P.codec===le.codec}function R(P){var le,ye=0,Pe=[];return P.forEach(function(be){(le=Math.max.apply(Math,be.bitrateList.map(function(Ae){return Ae.bandwidth})))>ye?(ye=le,Pe=[be]):le===ye&&Pe.push(be)}),Pe}function z(P){var le,ye=1/0,Pe=[];return P.forEach(function(be){var Ae=be.bitrateList.reduce(function(Ie,st){var ut=Math.max(1,st.width*st.height);return Ie+st.bandwidth/ut},0);(le=Ae/be.bitrateList.length)<ye?(ye=le,Pe=[be]):le===ye&&Pe.push(be)}),Pe}function K(P){var le,ye=0,Pe=[];return P.forEach(function(be){(le=be.representationCount)>ye?(ye=le,Pe=[be]):le===ye&&Pe.push(be)}),Pe}function te(P,le){if(P===t.Z.TEXT)return le[0];var ye,Pe=_.get().streaming.selectionModeForInitialTrack,be=h.getCustomInitialTrackSelectionFunction();if(be&&typeof be=="function")ye=be(le);else switch(Pe){case t.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ye=function(Ae){var Ie,st,ut=(Ie=0,st=[],Ae.forEach(function(rt){isNaN(rt.selectionPriority)||(rt.selectionPriority>Ie?(Ie=rt.selectionPriority,st=[rt]):rt.selectionPriority===Ie&&st.push(rt))}),st);return ut.length>1&&(ut=R(ut)),ut.length>1&&(ut=K(ut)),ut}(le);break;case t.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ye=function(Ae){var Ie=R(Ae);return Ie.length>1&&(Ie=K(Ie)),Ie}(le);break;case t.Z.TRACK_SELECTION_MODE_FIRST_TRACK:ye=Q(le);break;case t.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ye=function(Ae){var Ie=z(Ae);return Ie.length>1&&(Ie=R(Ie)),Ie}(le);break;case t.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:ye=function(Ae){var Ie=K(Ae);return Ie.length>1&&(Ie=R(Ae)),Ie}(le);break;default:r.warn("Track selection mode ".concat(Pe," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ye=Q(le)}return ye.length>0?ye[0]:le[0]}function Q(P){return P[0]}return o={setInitialMediaSettingsForType:function(P,le){var ye=b[P]||fe(P),Pe=B(P,le.id),be=[];ye||((ye=w.getSavedMediaSettings(P))&&delete ye.codec,q(P,ye)),Pe&&Pe.length!==0&&(ye&&(be=Y(be=Array.from(Pe),ue,ye),be=Y(be,X,ye),be=Y(be,re,ye),P===t.Z.AUDIO&&b[P]||(be=Y(be,m,ye)),be=Y(be,x,ye),be=Y(be,L,ye),be=Y(be,N,ye)),be.length===0?j(te(P,Pe),!0):be.length>1?j(te(P,be)):j(be[0]))},addTrack:function(P){if(P){var le=P.type;if((ye=le)===t.Z.AUDIO||ye===t.Z.VIDEO||ye===t.Z.TEXT||ye===t.Z.IMAGE){var ye,Pe,be=P.streamInfo.id;c[be]||(c[be]={audio:{list:[],storeLastSettings:Pe=_.get().streaming.saveLastMediaSettingsForCurrentStreamingSession,current:null},video:{list:[],storeLastSettings:Pe,current:null},text:{list:[],storeLastSettings:Pe,current:null},image:{list:[],storeLastSettings:Pe,current:null}});for(var Ae=c[be][le].list,Ie=0,st=Ae.length;Ie<st;++Ie)if(ne(Ae[Ie],P))return;Ae.push(P)}}},getTracksFor:B,getCurrentTrackFor:C,isCurrentTrack:function(P){if(!P)return!1;var le=P.type,ye=P.streamInfo.id;return c[ye]&&c[ye][le]&&ne(c[ye][le].current,P)},setTrack:j,selectInitialTrack:te,setInitialSettings:q,getInitialSettings:fe,getTracksWithHighestBitrate:R,getTracksWithHighestEfficiency:z,getTracksWithWidestRange:K,isTracksEqual:ne,matchSettings:function(P,le){var ye=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Pe=!1;if(P.lang){if(P.lang instanceof RegExp)Pe=le.lang.match(P.lang);else if(le.lang!==""){var be=ui()(P.lang);be&&(Pe=(0,fa.extendedFilter)(le.lang,be).length>0)}}else Pe=!0;var Ae=P.index===void 0||P.index===null||le.index===P.index,Ie=!P.viewpoint||P.viewpoint===le.viewpoint,st=!P.role||!!le.roles.filter(function(nt){return nt===P.role})[0],ut=!P.accessibility||!!le.accessibility.filter(function(nt){return nt===P.accessibility})[0],rt=!P.audioChannelConfiguration||!!le.audioChannelConfiguration.filter(function(nt){return nt===P.audioChannelConfiguration})[0];return Pe&&Ae&&Ie&&(st||le.type===t.Z.AUDIO&&ye)&&ut&&rt}catch{return!1}},matchSettingsLang:ue,matchSettingsIndex:X,matchSettingsViewPoint:re,matchSettingsRole:m,matchSettingsAccessibility:x,matchSettingsAudioChannelConfig:L,saveTextSettingsDisabled:function(){w.setSavedMediaSettings(t.Z.TEXT,null)},setConfig:function(P){P&&(P.domStorage&&(w=P.domStorage),P.settings&&(_=P.settings),P.customParametersModel&&(h=P.customParametersModel))},reset:se},r=(0,E.Z)(G).getInstance().getLogger(o),se(),o}Ci.__dashjs_factory_name="MediaController";var da=g.Z.getSingletonFactory(Ci);g.Z.updateSingletonFactory(Ci.__dashjs_factory_name,da);var Ao=da,li=NaN,ga=function o(r,c){(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this.data={baseUrls:r||null,selectedIdx:c||li},this.children=[]};function ha(){var o,r,c,_,I=this.context,b=It(I).getInstance();function h(B,C,j){var q=w(j);B[C]?b.areEqual(q,B[C].data.baseUrls)||(B[C].data.baseUrls=q,B[C].data.selectedIdx=li):B[C]=new ga(q)}function w(B){var C=c.getBaseURLsFromElement(B),j=_.getSynthesizedBaseUrlElements(C);return j&&j.length>0&&(C=C.concat(j)),C}function G(B,C){var j=C||r;B(j.data),j.children&&j.children.forEach(function(q){return G(B,q)})}function H(){r=new ga}return o={reset:H,update:function(B){(function(C){(function(){if(!c||!c.hasOwnProperty("getBaseURLsFromElement")||!c.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var j=w(C);b.areEqual(j,r.data.baseUrls)||(r.data.baseUrls=j,r.data.selectedIdx=li),C&&C.Period_asArray&&C.Period_asArray.forEach(function(q,fe){h(r.children,fe,q),q.AdaptationSet_asArray&&q.AdaptationSet_asArray.forEach(function(ne,se){h(r.children[fe].children,se,ne),ne.Representation_asArray&&ne.Representation_asArray.sort(c.getRepresentationSortFunction()).forEach(function(ce,Y){h(r.children[fe].children[se].children,Y,ce)})})})})(B)},getForPath:function(B){var C=r,j=[C.data];return B&&B.forEach(function(q){(C=C.children[q])&&j.push(C.data)}),j.filter(function(q){return q.baseUrls.length})},invalidateSelectedIndexes:function(B){G(function(C){isNaN(C.selectedIdx)||B===C.baseUrls[C.selectedIdx].serviceLocation&&(C.selectedIdx=li)})},setConfig:function(B){B.adapter&&(c=B.adapter),B.contentSteeringController&&(_=B.contentSteeringController)},getBaseUrls:function(B){return w(B)}},H(),o}ha.__dashjs_factory_name="BaseURLTreeModel";var Io=g.Z.getClassFactory(ha);function ma(o){var r=(o=o||{}).blacklistController;return{select:function(c){return c&&function(I){var b,h,w=0,G=[],H=0;if((h=I.sort(function(B,C){var j=B.dvb_priority-C.dvb_priority;return isNaN(j)?0:j}).filter(function(B,C,j){return!C||j[0].dvb_priority&&B.dvb_priority&&j[0].dvb_priority===B.dvb_priority})).length)return h.length>1&&(h.forEach(function(B){w+=B.dvb_weight,G.push(w)}),b=Math.floor(Math.random()*(w-1)),G.every(function(B,C){return H=C,!(b<B)})),h[H]}((_=[],c.filter(function(I){return!r.contains(I.serviceLocation)||(I.dvb_priority&&_.push(I.dvb_priority),!1)}).filter(function(I){return!_.length||!I.dvb_priority||_.indexOf(I.dvb_priority)===-1})));var _}}}ma.__dashjs_factory_name="DVBSelector";var Ro=g.Z.getClassFactory(ma);function pa(o){var r=(o=o||{}).blacklistController;return{select:function(c){var _,I=0;return c&&c.some(function(b,h){return I=h,!r.contains(b.serviceLocation)})&&(_=c[I]),_}}}pa.__dashjs_factory_name="BasicSelector";var wo=g.Z.getClassFactory(pa);function ya(){var o,r,c,_=this.context;function I(){for(var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=0,G=NaN,H=function(){var C=b[w],j=h.findIndex(function(q){return q.serviceLocation&&q.serviceLocation===C});if(j!==-1&&!c.contains(h[j].serviceLocation))return G=j,"break";w+=1};w<b.length;){var B=H();if(B==="break")break}return G}return o={selectBaseUrlIndex:function(b){var h=NaN;if(isNaN(b.selectedIdx)){var w=r.getSteeringDataFromManifest();w&&w.defaultServiceLocationArray.length>0&&(h=I(w.defaultServiceLocationArray,b.baseUrls))}var G=r.getCurrentSteeringResponseData();return b.baseUrls&&b.baseUrls.length&&G&&G.pathwayPriority&&G.pathwayPriority.length&&(h=I(G.pathwayPriority,b.baseUrls)),h},setConfig:function(b){b.blacklistController&&(c=b.blacklistController),b.contentSteeringController&&(r=b.contentSteeringController)}},r=vr(_).getInstance(),o}ya.__dashjs_factory_name="ContentSteeringSelector";var No=g.Z.getClassFactory(ya);function Ea(){var o,r,c,_,I,b,h=this.context,w=(0,p.Z)(h).getInstance(),G=(0,Ce.Z)(h).getInstance();function H(){r.reset()}return o={chooseSelector:function(B){(0,W.PS)(B,"boolean"),b=B?_:c},select:function(B){if(B){if(G.get().streaming.applyContentSteering){var C=I.selectBaseUrlIndex(B);isNaN(C)||C===-1||(B.selectedIdx=C)}if(!isNaN(B.selectedIdx))return B.baseUrls[B.selectedIdx];var j=b.select(B.baseUrls);return j?(B.selectedIdx=B.baseUrls.indexOf(j),j):(w.trigger(u.Z.URL_RESOLUTION_FAILED,{error:new U.Z(oe.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,oe.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(b===c&&H()))}},reset:H,setConfig:function(B){B.selector&&(b=B.selector),B.contentSteeringSelector&&(I=B.contentSteeringSelector)}},r=jr(h).create({updateEventName:u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),c=wo(h).create({blacklistController:r}),_=Ro(h).create({blacklistController:r}),(I=No(h).create()).setConfig({blacklistController:r}),b=c,o}Ea.__dashjs_factory_name="BaseURLSelector";var Co=g.Z.getClassFactory(Ea);function va(){var o,r,c,_,I,b=this.context,h=(0,p.Z)(b).getInstance(),w=(0,Me.Z)(b).getInstance();function G(B){c.update(B),_.chooseSelector(r.getIsDVB(B)),h.trigger(n.Z.BASE_URLS_UPDATED,{baseUrls:H(B)})}function H(B){return c.getBaseUrls(B)}return o={reset:function(){c.reset(),_.reset()},initialize:function(B){c.setConfig({adapter:r,contentSteeringController:I}),G(B)},resolve:function(B){var C=c.getForPath(B).reduce(function(j,q){var fe=_.select(q);return fe?(w.isRelative(fe.url)?j.url=w.resolve(fe.url,j.url):(j.url=fe.url,j.serviceLocation=fe.serviceLocation),j.availabilityTimeOffset=fe.availabilityTimeOffset,j.availabilityTimeComplete=fe.availabilityTimeComplete,j.queryParams=fe.queryParams,j):new rr},new rr);if(!w.isRelative(C.url))return C},setConfig:function(B){B.baseURLTreeModel&&(c=B.baseURLTreeModel),B.baseURLSelector&&(_=B.baseURLSelector),B.adapter&&(r=B.adapter),B.contentSteeringController&&(I=B.contentSteeringController)},getBaseUrls:H,update:G},c=Io(b).create(),_=Co(b).create(),h.on(u.Z.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,function(B){c.invalidateSelectedIndexes(B.entry)},o),o}va.__dashjs_factory_name="BaseURLController";var Do=g.Z.getClassFactory(va);function Di(o){return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Di(o)}function Oi(o,r){return Oi=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Oi(o,r)}function Oo(o,r){return!r||Di(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function ci(o){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ci(o)}var _a=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&Oi(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=ci(r);if(c){var w=ci(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Oo(this,b)});function I(b,h){var w;return function(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}(this,I),(w=_.call(this)).url=b||null,w.type=h||null,w.mediaType=t.Z.STREAM,w.responseType="",w}return I}(D.Z);function Ta(o){o=o||{};var r=this.context,c=(0,p.Z)(r).getInstance(),_=Kn(r).create({errHandler:o.errHandler,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,errors:oe});return{load:function(I,b,h){var w=function(H,B){b.resolved=!0,b.resolvedContent=H||null,c.trigger(u.Z.XLINK_ELEMENT_LOADED,{element:b,resolveObject:h,error:H||B?null:new U.Z(oe.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,oe.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+I)})};if(I==="urn:mpeg:dash:resolve-to-zero:2013")w(null,!0);else{var G=new _a(I,He.w.XLINK_EXPANSION_TYPE);_.load({request:G,success:function(H){w(H)},error:function(){w(null)}})}},reset:function(){_&&(_.abort(),_=null)}}}Ta.__dashjs_factory_name="XlinkLoader";var Mo=g.Z.getClassFactory(Ta),Sa=function(o){(o=o||{}).escapeMode===void 0&&(o.escapeMode=!0),o.attributePrefix===void 0&&(o.attributePrefix="_"),o.arrayAccessForm=o.arrayAccessForm||"none",o.emptyNodeForm=o.emptyNodeForm||"text",o.enableToStringFunc===void 0&&(o.enableToStringFunc=!0),o.arrayAccessFormPaths=o.arrayAccessFormPaths||[],o.skipEmptyTextNodesForObj===void 0&&(o.skipEmptyTextNodesForObj=!0),o.stripWhitespaces===void 0&&(o.stripWhitespaces=!0),o.datetimeAccessFormPaths=o.datetimeAccessFormPaths||[],o.useDoubleQuotes===void 0&&(o.useDoubleQuotes=!1),o.xmlElementsFilter=o.xmlElementsFilter||[],o.jsonPropertiesFilter=o.jsonPropertiesFilter||[],o.keepCData===void 0&&(o.keepCData=!1),o.ignoreRoot===void 0&&(o.ignoreRoot=!1);function r(Y){var ue=Y.localName;return ue==null&&(ue=Y.baseName),ue!=null&&ue!=""||(ue=Y.nodeName),ue}function c(Y){return typeof Y=="string"?Y.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):Y}function _(Y,ue,X,re){for(var m=0;m<Y.length;m++){var x=Y[m];if(typeof x=="string"){if(x==re)break}else if(x instanceof RegExp){if(x.test(re))break}else if(typeof x=="function"&&x(ue,X,re))break}return m!=Y.length}function I(Y,ue,X){o.arrayAccessForm==="property"&&(Y[ue]instanceof Array?Y[ue+"_asArray"]=Y[ue]:Y[ue+"_asArray"]=[Y[ue]]),!(Y[ue]instanceof Array)&&o.arrayAccessFormPaths.length>0&&_(o.arrayAccessFormPaths,Y,ue,X)&&(Y[ue]=[Y[ue]])}function b(Y){var ue=Y.split(/[-T:+Z]/g),X=new Date(ue[0],ue[1]-1,ue[2]),re=ue[5].split(".");if(X.setHours(ue[3],ue[4],re[0]),re.length>1&&X.setMilliseconds(re[1]),ue[6]&&ue[7]){var m=60*ue[6]+Number(ue[7]);m=0+((/\d\d-\d\d:\d\d$/.test(Y)?"-":"+")=="-"?-1*m:m),X.setMinutes(X.getMinutes()-m-X.getTimezoneOffset())}else Y.indexOf("Z",Y.length-1)!==-1&&(X=new Date(Date.UTC(X.getFullYear(),X.getMonth(),X.getDate(),X.getHours(),X.getMinutes(),X.getSeconds(),X.getMilliseconds())));return X}function h(Y,ue,X,re){return!(ue==1&&o.xmlElementsFilter.length>0)||_(o.xmlElementsFilter,Y,X,re)}function w(Y,ue){if(Y.nodeType==9){for(var X=new Object,re=Y.childNodes,m=0;m<re.length;m++)(L=re[m]).nodeType==1&&(o.ignoreRoot?X=w(L):(X={})[N=r(L)]=w(L));return X}if(Y.nodeType==1){(X=new Object).__cnt=0;var x=[];for(re=Y.childNodes,m=0;m<re.length;m++){var L,N=r(L=re[m]);if(L.nodeType!=8){var R=ue+"."+N;if(h(X,L.nodeType,N,R))if(X.__cnt++,X[N]==null){var z=w(L,R);(N!="#text"||/[^\s]/.test(z))&&((K={})[N]=z,x.push(K)),X[N]=z,I(X,N,R)}else{var K;X[N]!=null&&(X[N]instanceof Array||(X[N]=[X[N]],I(X,N,R))),z=w(L,R),(N!="#text"||/[^\s]/.test(z))&&((K={})[N]=z,x.push(K)),X[N][X[N].length]=z}}}X.__children=x;for(var te=r(Y),Q=0;Q<Y.attributes.length;Q++){var P=Y.attributes[Q];X.__cnt++;for(var le=P.value,ye=0,Pe=o.matchers.length;ye<Pe;ye++){var be=o.matchers[ye];be.test(P,te)&&(le=be.converter(P.value))}X[o.attributePrefix+P.name]=le}var Ae=function(Ie){return Ie.prefix}(Y);return Ae!=null&&Ae!=""&&(X.__cnt++,X.__prefix=Ae),X["#text"]!=null&&(X.__text=X["#text"],X.__text instanceof Array&&(X.__text=X.__text.join(`
`)),o.stripWhitespaces&&(X.__text=X.__text.trim()),delete X["#text"],o.arrayAccessForm=="property"&&delete X["#text_asArray"],X.__text=function(Ie,st,ut){if(o.datetimeAccessFormPaths.length>0){var rt=ut.split(".#")[0];return _(o.datetimeAccessFormPaths,Ie,st,rt)?b(Ie):Ie}return Ie}(X.__text,N,ue+"."+N)),X["#cdata-section"]!=null&&(X.__cdata=X["#cdata-section"],delete X["#cdata-section"],o.arrayAccessForm=="property"&&delete X["#cdata-section_asArray"]),X.__cnt==0&&o.emptyNodeForm=="text"?X="":X.__cnt==1&&X.__text!=null?X=X.__text:X.__cnt!=1||X.__cdata==null||o.keepCData?X.__cnt>1&&X.__text!=null&&o.skipEmptyTextNodesForObj&&(o.stripWhitespaces&&X.__text==""||X.__text.trim()=="")&&delete X.__text:X=X.__cdata,delete X.__cnt,!o.enableToStringFunc||X.__text==null&&X.__cdata==null||(X.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),X}if(Y.nodeType==3||Y.nodeType==4)return Y.nodeValue}function G(Y,ue,X,re){var m="<"+(Y!=null&&Y.__prefix!=null?Y.__prefix+":":"")+ue;if(X!=null)for(var x=0;x<X.length;x++){var L=X[x],N=Y[L];o.escapeMode&&(N=c(N)),m+=" "+L.substr(o.attributePrefix.length)+"=",o.useDoubleQuotes?m+='"'+N+'"':m+="'"+N+"'"}return m+(re?"/>":">")}function H(Y,ue){return"</"+(Y.__prefix!=null?Y.__prefix+":":"")+ue+">"}function B(Y,ue){return o.arrayAccessForm=="property"&&(re="_asArray",(X=ue.toString()).indexOf(re,X.length-re.length)!==-1)||ue.toString().indexOf(o.attributePrefix)==0||ue.toString().indexOf("__")==0||Y[ue]instanceof Function;var X,re}function C(Y){var ue=0;if(Y instanceof Object)for(var X in Y)B(Y,X)||ue++;return ue}function j(Y,ue,X){return o.jsonPropertiesFilter.length==0||X==""||_(o.jsonPropertiesFilter,Y,ue,X)}function q(Y){var ue=[];if(Y instanceof Object)for(var X in Y)X.toString().indexOf("__")==-1&&X.toString().indexOf(o.attributePrefix)==0&&ue.push(X);return ue}function fe(Y){var ue="";return Y instanceof Object?ue+=function(X){var re="";return X.__cdata!=null&&(re+="<![CDATA["+X.__cdata+"]]>"),X.__text!=null&&(o.escapeMode?re+=c(X.__text):re+=X.__text),re}(Y):Y!=null&&(o.escapeMode?ue+=c(Y):ue+=Y),ue}function ne(Y,ue){return Y===""?ue:Y+"."+ue}function se(Y,ue,X,re){var m="";if(Y.length==0)m+=G(Y,ue,X,!0);else for(var x=0;x<Y.length;x++)m+=G(Y[x],ue,q(Y[x]),!1),m+=ce(Y[x],ne(re,ue)),m+=H(Y[x],ue);return m}function ce(Y,ue){var X="";if(C(Y)>0){for(var re in Y)if(!B(Y,re)&&(ue==""||j(Y,re,ne(ue,re)))){var m=Y[re],x=q(m);m==null||m==null?X+=G(m,re,x,!0):m instanceof Object?m instanceof Array?X+=se(m,re,x,ue):m instanceof Date?(X+=G(m,re,x,!1),X+=m.toISOString(),X+=H(m,re)):C(m)>0||m.__text!=null||m.__cdata!=null?(X+=G(m,re,x,!1),X+=ce(m,ne(ue,re)),X+=H(m,re)):X+=G(m,re,x,!0):(X+=G(m,re,x,!1),X+=fe(m),X+=H(m,re))}}return X+fe(Y)}this.parseXmlString=function(Y){var ue;if(Y===void 0)return null;if(window.DOMParser){var X=new window.DOMParser;try{(ue=X.parseFromString(Y,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(ue=null)}catch{ue=null}}else Y.indexOf("<?")==0&&(Y=Y.substr(Y.indexOf("?>")+2)),(ue=new ActiveXObject("Microsoft.XMLDOM")).async="false",ue.loadXML(Y);return ue},this.asArray=function(Y){return Y===void 0||Y==null?[]:Y instanceof Array?Y:[Y]},this.toXmlDateTime=function(Y){return Y instanceof Date?Y.toISOString():typeof Y=="number"?new Date(Y).toISOString():null},this.asDateTime=function(Y){return typeof Y=="string"?b(Y):Y},this.xml2json=function(Y){return w(Y)},this.xml_str2json=function(Y){var ue=this.parseXmlString(Y);return ue!=null?this.xml2json(ue):null},this.json2xml_str=function(Y){return ce(Y,"")},this.json2xml=function(Y){var ue=this.json2xml_str(Y);return this.parseXmlString(ue)},this.getVersion=function(){return"1.2.0"}},Or="onLoad";function ba(o){o=o||{};var r,c,_,I,b,h,w=this.context,G=(0,p.Z)(w).getInstance(),H=(0,Me.Z)(w).getInstance();function B(ne,se,ce){var Y,ue,X={};X.elements=ne,X.type=se,X.resolveType=ce,X.elements.length===0&&j(X);for(var re=0;re<X.elements.length;re++)Y=X.elements[re],ue=H.isHTTPURL(Y.url)?Y.url:Y.originalContent.BaseURL+Y.url,h.load(ue,Y,X)}function C(ne){var se,ce,Y="";if(se=ne.element,ce=ne.resolveObject,se.resolvedContent){var ue=0;se.resolvedContent.indexOf("<?xml")===0&&(ue=se.resolvedContent.indexOf("?>")+2),Y=se.resolvedContent.substr(0,ue)+"<response>"+se.resolvedContent.substr(ue)+"</response>",se.resolvedContent=b.xml_str2json(Y)}(function(X){var re;for(re=0;re<X.elements.length;re++)if(X.elements[re].resolved===!1)return!1;return!0})(ce)&&j(ce)}function j(ne){var se,ce,Y=[];if(function(ue){var X,re,m,x,L,N,R=[];for(x=ue.elements.length-1;x>=0;x--){if(re=(X=ue.elements[x]).type+"_asArray",X.resolvedContent){if(X.resolvedContent)for(L=0;L<X.resolvedContent[re].length;L++)m=X.resolvedContent[re][L],R.push(m)}else delete X.originalContent["xlink:actuate"],delete X.originalContent["xlink:href"],R.push(X.originalContent);for(X.parentElement[re].splice(X.index,1),N=0;N<R.length;N++)X.parentElement[re].splice(X.index+N,0,R[N]);R=[]}ue.elements.length>0&&_.run(I)}(ne),ne.resolveType==="onActuate"&&G.trigger(u.Z.XLINK_READY,{manifest:I}),ne.resolveType===Or)switch(ne.type){case e.Z.PERIOD:for(se=0;se<I[e.Z.PERIOD+"_asArray"].length;se++)(ce=I[e.Z.PERIOD+"_asArray"][se]).hasOwnProperty(e.Z.ADAPTATION_SET+"_asArray")&&(Y=Y.concat(q(ce[e.Z.ADAPTATION_SET+"_asArray"],ce,e.Z.ADAPTATION_SET,Or))),ce.hasOwnProperty(e.Z.EVENT_STREAM+"_asArray")&&(Y=Y.concat(q(ce[e.Z.EVENT_STREAM+"_asArray"],ce,e.Z.EVENT_STREAM,Or)));B(Y,e.Z.ADAPTATION_SET,Or);break;case e.Z.ADAPTATION_SET:G.trigger(u.Z.XLINK_READY,{manifest:I})}}function q(ne,se,ce,Y){var ue,X,re,m=[];for(X=ne.length-1;X>=0;X--)(ue=ne[X]).hasOwnProperty("xlink:href")&&ue["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&ne.splice(X,1);for(X=0;X<ne.length;X++)(ue=ne[X]).hasOwnProperty("xlink:href")&&ue.hasOwnProperty("xlink:actuate")&&ue["xlink:actuate"]===Y&&(re=fe(ue["xlink:href"],se,ce,X,Y,ue),m.push(re));return m}function fe(ne,se,ce,Y,ue,X){return{url:ne,parentElement:se,type:ce,index:Y,resolveType:ue,originalContent:X,resolvedContent:null,resolved:!1}}return r={resolveManifestOnLoad:function(ne){b=new Sa({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:c}),(I=ne).Period_asArray?B(q(I.Period_asArray,I,e.Z.PERIOD,Or),e.Z.PERIOD,Or):G.trigger(u.Z.XLINK_READY,{manifest:I})},setMatchers:function(ne){ne&&(c=ne)},setIron:function(ne){ne&&(_=ne)},reset:function(){G.off(u.Z.XLINK_ELEMENT_LOADED,C,r),h&&(h.reset(),h=null)}},G.on(u.Z.XLINK_ELEMENT_LOADED,C,r),h=Mo(w).create({errHandler:o.errHandler,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,settings:o.settings}),r}ba.__dashjs_factory_name="XlinkController";var Po=g.Z.getClassFactory(ba);function Vr(o){return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vr(o)}function Aa(o){function r(I,b){for(var h in I)b.hasOwnProperty(h)||(b[h]=I[h])}function c(I,b,h){for(var w=0,G=I.length;w<G;++w){var H=I[w];if(b[H.name])if(h[H.name]){if(H.merge){var B=b[H.name],C=h[H.name];Vr(B)==="object"&&Vr(C)==="object"?r(B,C):h[H.name]=B+C}}else h[H.name]=b[H.name]}}function _(I,b){for(var h=0,w=I.children.length;h<w;++h){var G=I.children[h],H=b[G.name+"_asArray"];if(H)for(var B=0,C=H.length;B<C;++B){var j=H[B];c(I.properties,b,j),_(G,j)}}}return{run:function(I){if(I===null||Vr(I)!=="object")return I;if(I.Period_asArray&&"period"in o)for(var b=o.period,h=I.Period_asArray,w=0,G=h.length;w<G;++w){var H=h[w];if(_(b,H),"adaptationset"in o){var B=H.AdaptationSet_asArray;if(B)for(var C=o.adaptationset,j=0,q=B.length;j<q;++j)_(C,B[j])}}return I}}}Aa.__dashjs_factory_name="ObjectIron";var Lo=g.Z.getClassFactory(Aa);function xo(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var Kr=function(){function o(_,I){(function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._test=_,this._converter=I}var r,c;return r=o,(c=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&xo(r.prototype,c),o}();function Mi(o){return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mi(o)}function Cn(o,r,c){return r in o?Object.defineProperty(o,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[r]=c,o}function Pi(o,r){return Pi=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Pi(o,r)}function Fo(o,r){return!r||Mi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function fi(o){return fi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fi(o)}var ko=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&Pi(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=fi(r);if(c){var w=fi(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Fo(this,b)});function I(){return function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,I),_.call(this,function(b,h){var w,G=(Cn(w={},e.Z.MPD,[e.Z.ID,e.Z.PROFILES]),Cn(w,e.Z.PERIOD,[e.Z.ID]),Cn(w,e.Z.BASE_URL,[e.Z.SERVICE_LOCATION,e.Z.BYTE_RANGE]),Cn(w,e.Z.SEGMENT_BASE,[e.Z.INDEX_RANGE]),Cn(w,e.Z.INITIALIZATION,[e.Z.RANGE]),Cn(w,e.Z.REPRESENTATION_INDEX,[e.Z.RANGE]),Cn(w,e.Z.SEGMENT_LIST,[e.Z.INDEX_RANGE]),Cn(w,e.Z.BITSTREAM_SWITCHING,[e.Z.RANGE]),Cn(w,e.Z.SEGMENT_URL,[e.Z.MEDIA_RANGE,e.Z.INDEX_RANGE]),Cn(w,e.Z.SEGMENT_TEMPLATE,[e.Z.INDEX_RANGE,e.Z.MEDIA,e.Z.INDEX,e.Z.INITIALIZATION_MINUS,e.Z.BITSTREAM_SWITCHING_MINUS]),Cn(w,e.Z.ASSET_IDENTIFIER,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.EVENT_STREAM,[e.Z.VALUE]),Cn(w,e.Z.ADAPTATION_SET,[e.Z.PROFILES,e.Z.MIME_TYPE,e.Z.SEGMENT_PROFILES,e.Z.CODECS,e.Z.CONTENT_TYPE]),Cn(w,e.Z.FRAME_PACKING,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.AUDIO_CHANNEL_CONFIGURATION,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.CONTENT_PROTECTION,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.ESSENTIAL_PROPERTY,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.SUPPLEMENTAL_PROPERTY,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.INBAND_EVENT_STREAM,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.ACCESSIBILITY,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.ROLE,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.RATING,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.VIEWPOINT,[e.Z.VALUE,e.Z.ID]),Cn(w,e.Z.CONTENT_COMPONENT,[e.Z.CONTENT_TYPE]),Cn(w,e.Z.REPRESENTATION,[e.Z.ID,e.Z.DEPENDENCY_ID,e.Z.MEDIA_STREAM_STRUCTURE_ID]),Cn(w,e.Z.SUBSET,[e.Z.ID]),Cn(w,e.Z.METRICS,[e.Z.METRICS_MINUS]),Cn(w,e.Z.REPORTING,[e.Z.VALUE,e.Z.ID]),w);if(G.hasOwnProperty(h)){var H=G[h];return H!==void 0&&H.indexOf(b.name)>=0}return!1},function(b){return String(b)})}return I}(Kr);function Li(o){return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Li(o)}function xi(o,r){return xi=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},xi(o,r)}function Zo(o,r){return!r||Li(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function di(o){return di=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},di(o)}var Ia=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,Uo=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&xi(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=di(r);if(c){var w=di(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Zo(this,b)});function I(){return function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,I),_.call(this,function(b){for(var h=[e.Z.MIN_BUFFER_TIME,e.Z.MEDIA_PRESENTATION_DURATION,e.Z.MINIMUM_UPDATE_PERIOD,e.Z.TIMESHIFT_BUFFER_DEPTH,e.Z.MAX_SEGMENT_DURATION,e.Z.MAX_SUBSEGMENT_DURATION,e.Z.SUGGESTED_PRESENTATION_DELAY,e.Z.START,t.Z.START_TIME,e.Z.DURATION],w=h.length,G=0;G<w;G++)if(b.nodeName===h[G])return Ia.test(b.value);return!1},function(b){var h=Ia.exec(b),w=31536e3*parseFloat(h[3]||0)+2592e3*parseFloat(h[5]||0)+86400*parseFloat(h[7]||0)+3600*parseFloat(h[9]||0)+60*parseFloat(h[11]||0)+parseFloat(h[13]||0);return h[1]!==void 0&&(w=-w),w})}return I}(Kr);function Fi(o){return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fi(o)}function ki(o,r){return ki=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},ki(o,r)}function Bo(o,r){return!r||Fi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function gi(o){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gi(o)}var Ra=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,Go=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&ki(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=gi(r);if(c){var w=gi(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Bo(this,b)});function I(){return function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,I),_.call(this,function(b){return Ra.test(b.value)},function(b){var h,w=Ra.exec(b);if(h=Date.UTC(parseInt(w[1],10),parseInt(w[2],10)-1,parseInt(w[3],10),parseInt(w[4],10),parseInt(w[5],10),w[6]&&parseInt(w[6],10)||0,w[7]&&1e3*parseFloat(w[7])||0),w[9]&&w[10]){var G=60*parseInt(w[9],10)+parseInt(w[10],10);h+=(w[8]==="+"?-1:1)*G*60*1e3}return new Date(h)})}return I}(Kr);function Zi(o){return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zi(o)}function Ui(o,r){return Ui=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Ui(o,r)}function qo(o,r){return!r||Zi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function hi(o){return hi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hi(o)}var Yo=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,jo=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&Ui(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=hi(r);if(c){var w=hi(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return qo(this,b)});function I(){return function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,I),_.call(this,function(b){return Yo.test(b.value)},function(b){return parseFloat(b)})}return I}(Kr);function Bi(o){return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bi(o)}function zr(o,r,c){return r in o?Object.defineProperty(o,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[r]=c,o}function Gi(o,r){return Gi=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Gi(o,r)}function Ho(o,r){return!r||Bi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function mi(o){return mi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mi(o)}var Vo=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&Gi(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=mi(r);if(c){var w=mi(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Ho(this,b)});function I(){return function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}(this,I),_.call(this,function(b,h){var w,G=(zr(w={},e.Z.ADAPTATION_SET,[e.Z.LANG]),zr(w,e.Z.REPRESENTATION,[e.Z.LANG]),zr(w,e.Z.CONTENT_COMPONENT,[e.Z.LANG]),zr(w,e.Z.LABEL,[e.Z.LANG]),zr(w,e.Z.GROUP_LABEL,[e.Z.LANG]),w);if(G.hasOwnProperty(h)){var H=G[h];return H!==void 0&&H.indexOf(b.name)>=0}return!1},function(b){var h=ui()(b);return h!==void 0?h:String(b)})}return I}(Kr);function Ko(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var zo=function(){function o(_){var I;(function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=_,this._merge=(I=_)&&I.length&&I.charAt(0)===I.charAt(0).toUpperCase()}var r,c;return r=o,(c=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&Ko(r.prototype,c),o}();function Wo(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var Mr=function(){function o(_,I,b){var h=this;(function(w,G){if(!(w instanceof G))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=_||"",this._properties=[],this._children=b||[],Array.isArray(I)&&I.forEach(function(w){h._properties.push(new zo(w))})}var r,c;return r=o,(c=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&Wo(r.prototype,c),o}();function qi(o){return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qi(o)}function Yi(o,r){return Yi=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Yi(o,r)}function Xo(o,r){return!r||qi(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function pi(o){return pi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},pi(o)}var Qo=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&Yi(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=pi(r);if(c){var w=pi(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Xo(this,b)});function I(){(function(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")})(this,I);var b=[e.Z.PROFILES,e.Z.WIDTH,e.Z.HEIGHT,e.Z.SAR,e.Z.FRAMERATE,e.Z.AUDIO_SAMPLING_RATE,e.Z.MIME_TYPE,e.Z.SEGMENT_PROFILES,e.Z.CODECS,e.Z.MAXIMUM_SAP_PERIOD,e.Z.START_WITH_SAP,e.Z.MAX_PLAYOUT_RATE,e.Z.CODING_DEPENDENCY,e.Z.SCAN_TYPE,e.Z.FRAME_PACKING,e.Z.AUDIO_CHANNEL_CONFIGURATION,e.Z.CONTENT_PROTECTION,e.Z.ESSENTIAL_PROPERTY,e.Z.ESSENTIAL_PROPERTY+"_asArray",e.Z.SUPPLEMENTAL_PROPERTY,e.Z.INBAND_EVENT_STREAM];return _.call(this,e.Z.ADAPTATION_SET,b,[new Mr(e.Z.REPRESENTATION,b,[new Mr(e.Z.SUB_REPRESENTATION,b)])])}return I}(Mr);function ji(o){return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ji(o)}function Hi(o,r){return Hi=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},Hi(o,r)}function Jo(o,r){return!r||ji(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function yi(o){return yi=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yi(o)}var $o=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&Hi(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=yi(r);if(c){var w=yi(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return Jo(this,b)});function I(){(function(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")})(this,I);var b=[e.Z.SEGMENT_BASE,e.Z.SEGMENT_TEMPLATE,e.Z.SEGMENT_LIST];return _.call(this,e.Z.PERIOD,b,[new Mr(e.Z.ADAPTATION_SET,b,[new Mr(e.Z.REPRESENTATION,b)])])}return I}(Mr);function wa(o){o=o||{};var r,c,_,I,b,h=this.context,w=o.debug;return r={parse:function(G){var H,B=window.performance.now();if(!(H=I.xml_str2json(G)))throw new Error("parsing the manifest failed");var C=window.performance.now();H.Patch?((H=H.Patch).add_asArray&&H.add_asArray.forEach(function(q){return b.run(q)}),H.replace_asArray&&H.replace_asArray.forEach(function(q){return b.run(q)})):(H=H.MPD,b.run(H));var j=window.performance.now();return c.info("Parsing complete: ( xml2json: "+(C-B).toPrecision(3)+"ms, objectiron: "+(j-C).toPrecision(3)+"ms, total: "+((j-B)/1e3).toPrecision(3)+"s)"),H.protocol="DASH",H},getMatchers:function(){return _},getIron:function(){return b}},c=w.getLogger(r),_=[new Uo,new Go,new jo,new Vo,new ko],I=new Sa({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:_}),b=Lo(h).create({adaptationset:new Qo,period:new $o}),r}wa.__dashjs_factory_name="DashParser";var es=g.Z.getClassFactory(wa);function Na(o){o=o||{};var r,c,_,I,b,h=this.context,w=o.debug,G=o.settings,H=(0,p.Z)(h).getInstance(),B=(0,Me.Z)(h).getInstance(),C=o.mssHandler,j=o.errHandler;function q(ne){H.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:ne.manifest})}function fe(ne){var se=null;return ne.indexOf("SmoothStreamingMedia")>-1?(C&&(se=C.createMssParser(),C.createMssFragmentProcessor(),C.registerEvents()),se):ne.indexOf("MPD")>-1||ne.indexOf("Patch")>-1?es(h).create({debug:w}):se}return r={load:function(ne){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Y=new Date,ue=new _a(ne,He.w.MPD_TYPE);se&&(ue.serviceLocation=se),ce&&(ue.queryParams=ce),ue.requestStartDate||(ue.requestStartDate=Y),H.trigger(u.Z.MANIFEST_LOADING_STARTED,{request:ue}),_.load({request:ue,success:function(X,re,m){var x,L,N;if(I)if(m&&m!==ne?(L=B.parseBaseUrl(m),x=m):(B.isRelative(ne)&&(ne=B.resolve(ne,window.location.href)),L=B.parseBaseUrl(ne)),re!="No Content")if(b===null&&(b=fe(X)),b!==null){I.setMatchers(b.getMatchers()),I.setIron(b.getIron());try{N=b.parse(X)}catch{return void H.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new U.Z(oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ne))})}if(N){if(N.url=x||ne,N.originalUrl||(N.originalUrl=N.url),G&&G.get().streaming.enableManifestDurationMismatchFix&&N.mediaPresentationDuration&&N.Period_asArray.length>1){var R=N.Period_asArray.reduce(function(z,K){return z+K.duration},0);!isNaN(R)&&N.mediaPresentationDuration>R&&(c.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),N.mediaPresentationDuration=R)}N.baseUri=L,N.loadedTime=new Date,I.resolveManifestOnLoad(N),H.trigger(u.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:X})}else H.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new U.Z(oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ne))})}else H.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new U.Z(oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ne))});else H.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(X,re,m){H.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new U.Z(oe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,oe.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ne,", ").concat(m))})}})},reset:function(){H.off(u.Z.XLINK_READY,q,r),C&&C.reset(),I&&(I.reset(),I=null),_&&(_.abort(),_=null)}},c=w.getLogger(r),H.on(u.Z.XLINK_READY,q,r),_=Kn(h).create({errHandler:o.errHandler,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,urlUtils:B,constants:t.Z,dashConstants:e.Z,errors:oe,requestTimeout:o.settings.get().streaming.manifestRequestTimeout}),I=Po(h).create({errHandler:j,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,settings:o.settings}),b=null,r}Na.__dashjs_factory_name="ManifestLoader";var ts=g.Z.getClassFactory(Na);function Ca(){var o=this.context,r=(0,p.Z)(o).getInstance();return{error:function(c){r.trigger(u.Z.ERROR,{error:c})}}}Ca.__dashjs_factory_name="ErrorHandler";var ns=g.Z.getSingletonFactory(Ca),Da=O(1715);function Oa(){var o,r,c,_,I,b,h=this.context,w=(0,p.Z)(h).getInstance();function G(H,B){if(!B||!B.Period_asArray||B.Period_asArray.length===0)return Promise.resolve();var C=[];return B.Period_asArray.forEach(function(j){C.push(function(q,fe){return new Promise(function(ne){if(q&&q.AdaptationSet_asArray&&q.AdaptationSet_asArray.length!==0){var se=[];q.AdaptationSet_asArray.forEach(function(ce){r.getIsTypeOf(ce,fe)&&se.push(function(Y,ue){return new Promise(function(X){if(Y.Representation_asArray&&Y.Representation_asArray.length!==0){var re=[],m=[];Y.Representation_asArray.forEach(function(x,L){var N=r.getCodec(Y,L,!1),R=function(z,K,te){switch(z){case t.Z.VIDEO:return function(Q,P){return{codec:P,width:Q.width||null,height:Q.height||null,framerate:Q.frameRate||null,bitrate:Q.bandwidth||null}}(K,te);case t.Z.AUDIO:return function(Q,P){var le=Q.audioSamplingRate||null;return{codec:P,bitrate:Q.bandwidth||null,samplerate:le}}(K,te);default:return null}}(ue,x,N);m.push(R),re.push(c.supportsCodec(R,ue))}),Promise.all(re).then(function(x){Y.Representation_asArray=Y.Representation_asArray.filter(function(L,N){return x[N]||b.debug("[Stream] Codec ".concat(m[N].codec," not supported ")),x[N]}),X()}).catch(function(){X()})}else X()})}(ce,fe))}),Promise.all(se).then(function(){q.AdaptationSet_asArray=q.AdaptationSet_asArray.filter(function(ce){var Y=ce.Representation_asArray&&ce.Representation_asArray.length>0;return Y||(w.trigger(u.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:ce}),b.warn("AdaptationSet has been removed because of no supported Representation")),Y}),ne()}).catch(function(){ne()})}else ne()})}(j,H))}),Promise.all(C)}return o={setConfig:function(H){H&&(H.adapter&&(r=H.adapter),H.capabilities&&(c=H.capabilities),H.settings&&(_=H.settings),H.customParametersModel&&(I=H.customParametersModel))},filterUnsupportedFeatures:function(H){return new Promise(function(B){var C=[];C.push(G(t.Z.VIDEO,H)),C.push(G(t.Z.AUDIO,H)),Promise.all(C).then(function(){_.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(j){j&&j.Period_asArray&&j.Period_asArray.length!==0&&j.Period_asArray.forEach(function(q){q.AdaptationSet_asArray=q.AdaptationSet_asArray.filter(function(fe){return!fe.Representation_asArray||fe.Representation_asArray.length===0||(fe.Representation_asArray=fe.Representation_asArray.filter(function(ne){var se=r.getEssentialPropertiesForRepresentation(ne);if(se&&se.length>0)for(var ce=0;ce<se.length;){if(!c.supportsEssentialProperty(se[ce]))return b.debug("[Stream] EssentialProperty not supported: "+se[ce].schemeIdUri),!1;ce+=1}return!0}),fe.Representation_asArray&&fe.Representation_asArray.length>0)})})}(H),function(j){var q=I.getCustomCapabilitiesFilters();q&&q.length!==0&&j&&j.Period_asArray&&j.Period_asArray.length!==0&&j.Period_asArray.forEach(function(fe){fe.AdaptationSet_asArray=fe.AdaptationSet_asArray.filter(function(ne){return!ne.Representation_asArray||ne.Representation_asArray.length===0||(ne.Representation_asArray=ne.Representation_asArray.filter(function(se){return!q.some(function(ce){return!ce(se)})}),ne.Representation_asArray&&ne.Representation_asArray.length>0)})})}(H),B()}).catch(function(){B()})})}},b=(0,E.Z)(h).getInstance().getLogger(o),o}Oa.__dashjs_factory_name="CapabilitiesFilter";var rs=g.Z.getSingletonFactory(Oa),is=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Ma(){var o;return{initialize:function(r){if(o=new is,!r)return null;var c=r.indexOf("#");if(c!==-1)for(var _=r.substr(c+1).split("&"),I=0,b=_.length;I<b;++I){var h=_[I],w=h.indexOf("=");if(w!==-1){var G=h.substring(0,w);o.hasOwnProperty(G)&&(o[G]=h.substr(w+1))}}},getURIFragmentData:function(){return o}}}Ma.__dashjs_factory_name="URIFragmentModel";var as=g.Z.getSingletonFactory(Ma);function Pa(){var o,r=this.context,c=(0,p.Z)(r).getInstance();return{getValue:function(){return o},setValue:function(_){o=_,_&&c.trigger(u.Z.MANIFEST_LOADED,{data:_})}}}Pa.__dashjs_factory_name="ManifestModel";var os=g.Z.getSingletonFactory(Pa),Vi=-.5;function La(){var o,r,c,_,I=this.context,b=(0,Ce.Z)(I).getInstance();function h(H,B){return isNaN(H)?0:H>0?(B&&r.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):H<Vi?(B&&r.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(Vi,": ").concat(-50,"% playback speed.")),Vi):H}function w(H,B){return isNaN(H)?0:H<0?(B&&r.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):H>1?(B&&r.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):H}function G(){var H=b.get().streaming.buffer.stableBufferTime>0?b.get().streaming.buffer.stableBufferTime:b.get().streaming.buffer.fastSwitchEnabled?20:12,B=c.getLiveDelay();return!isNaN(B)&&B>0?Math.min(H,B):H}return o={getCatchupMaxDrift:function(){if(!isNaN(b.get().streaming.liveCatchup.maxDrift)&&b.get().streaming.liveCatchup.maxDrift>0)return b.get().streaming.liveCatchup.maxDrift;var H=_.getServiceDescriptionSettings();return H&&H.liveCatchup&&!isNaN(H.liveCatchup.maxDrift)&&H.liveCatchup.maxDrift>0?H.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return b.get().streaming.liveCatchup.enabled!==null?b.get().streaming.liveCatchup.enabled:c.getInitialCatchupModeActivated()},getStableBufferTime:G,getInitialBufferLevel:function(){var H=b.get().streaming.buffer.initialBufferLevel;return isNaN(H)||H<0?0:Math.min(G(),H)},getRetryAttemptsForType:function(H){var B=isNaN(b.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:b.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return c.getLowLatencyModeEnabled()?b.get().streaming.retryAttempts[H]*B:b.get().streaming.retryAttempts[H]},getRetryIntervalsForType:function(H){var B=isNaN(b.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:b.get().streaming.retryIntervals.lowLatencyReductionFactor;return c.getLowLatencyModeEnabled()?b.get().streaming.retryIntervals[H]/B:b.get().streaming.retryIntervals[H]},getCatchupPlaybackRates:function(H){var B=b.get().streaming.liveCatchup.playbackRate;if(!isNaN(B.min)||!isNaN(B.max))return{min:h(B.min,H),max:w(B.max,H)};var C=_.getServiceDescriptionSettings();if(C&&C.liveCatchup&&(!isNaN(C.liveCatchup.playbackRate.min)||!isNaN(C.liveCatchup.playbackRate.max))){var j=C.liveCatchup.playbackRate;return{min:h(j.min,H),max:w(j.max,H)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(H,B){try{var C=b.get().streaming.abr[H][B];if(!isNaN(C)&&C!==-1)return C;var j=_.getServiceDescriptionSettings();return j&&j[H]&&!isNaN(j[H][B])?j[H][B]:-1}catch{return-1}},setConfig:function(H){H.playbackController&&(c=H.playbackController),H.serviceDescriptionController&&(_=H.serviceDescriptionController)},reset:function(){}},r=(0,E.Z)(I).getInstance().getLogger(o),o}La.__dashjs_factory_name="MediaPlayerModel";var ss=g.Z.getSingletonFactory(La),us=O(1767);function xa(o){var r=(o=o||{}).abrController,c=o.switchHistory,_=o.droppedFramesHistory,I=o.currentRequest,b=o.useBufferOccupancyABR,h=o.useL2AABR,w=o.useLoLPABR,G=o.streamProcessor?o.streamProcessor.getScheduleController():null,H=o.streamProcessor?o.streamProcessor.getRepresentationInfo():null,B=o.videoModel?o.videoModel:null;function C(){return H?H.mediaInfo:null}return{getMediaType:function(){var j=C();return j?j.type:null},getMediaInfo:C,getDroppedFramesHistory:function(){return _},getCurrentRequest:function(){return I},getSwitchHistory:function(){return c},getStreamInfo:function(){var j=C();return j?j.streamInfo:null},getScheduleController:function(){return G},getAbrController:function(){return r},getRepresentationInfo:function(){return H},useBufferOccupancyABR:function(){return b},useL2AABR:function(){return h},useLoLPABR:function(){return w},getVideoModel:function(){return B}}}xa.__dashjs_factory_name="RulesContext";var Fa=g.Z.getClassFactory(xa),Ei=O(2068);function ka(){var o=[],r=[];return{push:function(c){c.newValue===Ei.Z.NO_CHANGE&&(c.newValue=c.oldValue),o[c.oldValue]||(o[c.oldValue]={noDrops:0,drops:0,dropSize:0});var _=c.newValue-c.oldValue,I=_<0?1:0,b=I?-_:0,h=I?0:1;if(o[c.oldValue].drops+=I,o[c.oldValue].dropSize+=b,o[c.oldValue].noDrops+=h,r.push({idx:c.oldValue,noDrop:h,drop:I,dropSize:b}),r.length>8){var w=r.shift();o[w.idx].drops-=w.drop,o[w.idx].dropSize-=w.dropSize,o[w.idx].noDrops-=w.noDrop}},getSwitchRequests:function(){return o},reset:function(){o=[],r=[]}}}ka.__dashjs_factory_name="SwitchRequestHistory";var ls=g.Z.getClassFactory(ka);function Za(){var o={},r={},c={};return{push:function(_,I,b){if(I){o[_]||(o[_]=[],r[_]=0,c[_]=0);var h=b&&b.droppedVideoFrames?b.droppedVideoFrames:0,w=b&&b.totalVideoFrames?b.totalVideoFrames:0,G=h-r[_];r[_]=h;var H=w-c[_];c[_]=w;var B=o[_];isNaN(I)||(B[I]?(B[I].droppedVideoFrames+=G,B[I].totalVideoFrames+=H):B[I]={droppedVideoFrames:G,totalVideoFrames:H})}},getFrameHistory:function(_){return o[_]},clearForStream:function(_){try{delete o[_],delete r[_],delete c[_]}catch{}},reset:function(){o={},r={},c={}}}}Za.__dashjs_factory_name="DroppedFramesHistory";var cs=g.Z.getClassFactory(Za);function Ua(o){var r,c,_,I,b,h=this.context,w=(o=o||{}).settings,G=(0,p.Z)(h).getInstance();function H(ne,se,ce,Y){var ue=Math.pow(.5,ce/Y.fast);ne.fastEstimate=(1-ue)*se+ue*ne.fastEstimate;var X=Math.pow(.5,ce/Y.slow);ne.slowEstimate=(1-X)*se+X*ne.slowEstimate,ne.totalWeight+=ce}function B(ne,se,ce){return w.get().streaming.abr.movingAverageMethod!==t.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(Y,ue){var X=Y?b.throughputHalfLife:b.latencyHalfLife,re=Y?_[ue]:I[ue];if(!re||re.totalWeight<=0)return NaN;var m=re.fastEstimate/(1-Math.pow(.5,re.totalWeight/X.fast)),x=re.slowEstimate/(1-Math.pow(.5,re.totalWeight/X.slow));return Y?Math.min(m,x):Math.max(m,x)}(ne,se):function(Y,ue,X){var re=function(x,L,N){var R,z;if(x?(R=r[L],z=N?3:4):(R=c[L],z=4),R){if(z>=R.length)z=R.length;else if(x)for(var K=1;K<z;++K){var te=R[R.length-K]/R[R.length-K-1];if((te>=1.3||te<=.7692307692307692)&&(z+=1)===R.length)break}}else z=0;return z}(Y,ue,X),m=(Y?r:c)[ue];return re!==0&&m&&m.length!==0?(m=m.slice(-re)).reduce(function(x,L){return x+L})/m.length:NaN}(ne,se,ce)}function C(ne,se){return B(!0,ne,se)}function j(ne){r[ne]=r[ne]||[],c[ne]=c[ne]||[],_[ne]=_[ne]||{fastEstimate:0,slowEstimate:0,totalWeight:0},I[ne]=I[ne]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function q(){r={},c={},_={},I={}}var fe={push:function(ne,se,ce){if(se.trace&&se.trace.length){var Y,ue=se.tresponse.getTime()-se.trequest.getTime()||1,X=se._tfinish.getTime()-se.tresponse.getTime()||1,re=se.trace.reduce(function(N,R){return N+R.b[0]},0),m=0;if((Y=se._fileLoaderType&&se._fileLoaderType===t.Z.FILE_LOADER_TYPES.FETCH?se.trace.reduce(function(N,R){return N+R.d},0):ce?X:ue+X)!==0&&(m=Math.round(8*re/Y)),se.cmsd){var x=se.cmsd.dynamic&&se.cmsd.dynamic.etp?se.cmsd.dynamic.etp:null;if(x){var L=w.get().streaming.cmsd.abr.etpWeightRatio;L>0&&L<=1&&(m=m*(1-L)+x*L)}}if(j(ne),function(N,R,z){return N===t.Z.VIDEO?z<w.get().streaming.cacheLoadThresholds[t.Z.VIDEO]:N===t.Z.AUDIO?z<w.get().streaming.cacheLoadThresholds[t.Z.AUDIO]:void 0}(ne,0,X)){if(r[ne].length>0&&!r[ne].hasCachedEntries)return;r[ne].hasCachedEntries=!0}else r[ne]&&r[ne].hasCachedEntries&&function(N){delete r[N],delete c[N],delete _[N],delete I[N],j(N)}(ne);r[ne].push(m),G.trigger(n.Z.THROUGHPUT_MEASUREMENT_STORED,{throughput:m,mediaType:ne,httpRequest:se}),r[ne].length>20&&r[ne].shift(),c[ne].push(ue),c[ne].length>20&&c[ne].shift(),H(_[ne],m,.001*X,b.throughputHalfLife),H(I[ne],ue,1,b.latencyHalfLife)}},getAverageThroughput:C,getSafeAverageThroughput:function(ne,se){var ce=C(ne,se);return isNaN(ce)||(ce*=w.get().streaming.abr.bandwidthSafetyFactor),ce},getAverageLatency:function(ne){return B(!1,ne)},reset:q};return b={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},q(),fe}Ua.__dashjs_factory_name="ThroughputHistory";var fs=g.Z.getClassFactory(Ua);function Ki(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue,X,re,m,x,L,N,R,z=this.context,K=(0,E.Z)(z).getInstance(),te=(0,p.Z)(z).getInstance();function Q(){I={},b={},w={},h={},ue={},m={},x={},L={},H===void 0&&(H=!1),X&&X.reset(),Y=void 0,X=void 0,re=void 0,clearTimeout(G),G=null}function P(Te){var ke=Te.request.mediaType,me=Te.streamId;if(ke&&me&&h[me]&&R.get().streaming.abr.autoSwitchBitrate[ke]){var pe=h[me][ke];if(pe){var De=Fa(z).create({abrController:o,streamProcessor:pe,currentRequest:Te.request,useBufferOccupancyABR:m[ke],useL2AABR:x[ke],useLoLPABR:L[ke],videoModel:q}),xe=c.shouldAbandonFragment(De,me);xe.quality>Ei.Z.NO_CHANGE&&pe.getFragmentModel().getRequests({state:A.FRAGMENT_MODEL_LOADING,index:Te.request.index})[0]&&(w[me][ke].state=y.Z.ABANDON_LOAD,ue[me][ke].reset(),ue[me][ke].push({oldValue:Ae(ke,me),newValue:xe.quality,confidence:1,reason:xe.reason}),Ie(ke,_.getActiveStreamInfo(),xe.quality,xe.reason),clearTimeout(G),G=setTimeout(function(){w[me][ke].state=y.Z.ALLOW_LOAD,G=null},R.get().streaming.abandonLoadTimeout))}}}function le(Te){Te.mediaType===t.Z.VIDEO&&(Y!==void 0&&X.push(Te.streamId,Y,q.getPlaybackQuality()),Y=Te.newQuality)}function ye(Te){var ke,me;Te.metric!==y.Z.HTTP_REQUEST||!Te.value||Te.value.type!==He.w.MEDIA_SEGMENT_TYPE||Te.mediaType!==t.Z.AUDIO&&Te.mediaType!==t.Z.VIDEO||re.push(Te.mediaType,Te.value,R.get().streaming.abr.useDeadTimeLatency),Te.metric!==y.Z.BUFFER_LEVEL||Te.mediaType!==t.Z.AUDIO&&Te.mediaType!==t.Z.VIDEO||(ke=Te.mediaType,me=.001*Te.value.level,R.get().streaming.abr.ABRStrategy===t.Z.ABR_STRATEGY_DYNAMIC&&function(pe,De){try{var xe=fe.getStableBufferTime(),Ze=xe,mt=.5*xe,dt=m[pe],Pt=De>(dt?mt:Ze);m[pe]=Pt,Pt!==dt&&(Pt?r.info("["+pe+"] switching from throughput to buffer occupancy ABR rule (buffer: "+De.toFixed(3)+")."):r.info("["+pe+"] switching from buffer occupancy to throughput ABR rule (buffer: "+De.toFixed(3)+")."))}catch(zt){r.error(zt)}}(ke,me))}function Pe(Te,ke){try{var me;return I[ke]=I[ke]||{},I[ke].hasOwnProperty(Te)||(I[ke][Te]=0),me=function(pe,De){var xe=I[De][pe],Ze=xe;if(!h[De]||!h[De][pe])return Ze;var mt=be(pe,De);mt!==void 0&&(Ze=Math.max(xe,mt));var dt=function(Pt,zt){try{var Yt=fe.getAbrBitrateParameter("maxBitrate",Pt);return Yt>-1?rt(h[zt][Pt].getMediaInfo(),Yt,zt):void 0}catch{return}}(pe,De);return dt!==void 0&&(Ze=Math.min(Ze,dt)),Ze}(Te,ke),me=function(pe,De,xe){var Ze=I[xe][De],mt=R.get().streaming.abr.maxRepresentationRatio[De];return isNaN(mt)||mt>=1||mt<0?pe:Math.min(pe,Math.round(Ze*mt))}(me,Te,ke),me=function(pe,De,xe){if(De!==t.Z.VIDEO||!R.get().streaming.abr.limitBitrateByPortal||!h[xe]||!h[xe][De])return pe;H||Ot();var Ze=h[xe][De].getStreamInfo(),mt=j.getAdaptationForType(Ze.index,De,Ze).Representation_asArray,dt=pe;if(B>0&&C>0){for(;dt>0&&mt[dt]&&B<mt[dt].width&&B-mt[dt-1].width<mt[dt].width-B;)dt-=1;for(;dt<mt.length-1&&mt[dt].width===mt[dt+1].width;)dt+=1}return dt}(me,Te,ke),R.get().streaming.cmsd.enabled&&R.get().streaming.cmsd.abr.applyMb&&(me=function(pe,De,xe){if(De!=="video")return pe;var Ze=se.getMaxBitrate(De);if(Ze<0)return pe;var mt=ut(xe,"audio",Ae("audio",xe));Ze-=mt?mt.bitrate/1e3:0;var dt=rt(h[xe][De].getMediaInfo(),Ze,xe);return r.debug("Stream ID: "+xe+" ["+De+"] Apply max bit rate from CMSD: "+Ze),Math.min(pe,dt)}(me,Te,ke)),me}catch{return}}function be(Te,ke){try{return function(me,pe){try{var De=fe.getAbrBitrateParameter("minBitrate",me);if(De>-1){var xe=h[pe][me].getMediaInfo(),Ze=nt(xe),mt=rt(xe,De,pe);return Ze[mt]&&mt<Ze.length-1&&Ze[mt].bitrate<1e3*De&&mt++,mt}return}catch{return}}(Te,ke)}catch{return}}function Ae(Te){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return ke||(ke=_.getActiveStreamInfo().id),Te&&h[ke]&&h[ke][Te]&&ke?(b[ke]=b[ke]||{},b[ke].hasOwnProperty(Te)||(b[ke][Te]=0),b[ke][Te]):0}catch{return 0}}function Ie(Te,ke,me){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(ke&&ke.id&&Te){var De=ke.id,xe=Ae(Te,De);(0,W.SE)(me);var Ze=Pe(Te,De);me!==xe&&me>=0&&me<=Ze&&st(Te,xe,me,Ze,pe,De)}}function st(Te,ke,me,pe,De,xe){if(Te&&h[xe]&&h[xe][Te]){var Ze=h[xe][Te].getStreamInfo(),mt=Ze&&Ze.manifestInfo&&Ze.manifestInfo.isDynamic,dt=N.getCurrentBufferLevel(Te);r.info("Stream ID: "+xe+" ["+Te+"] switch from "+ke+" to "+me+"/"+pe+" (buffer: "+dt+") "+(De?JSON.stringify(De):".")),b[xe]=b[xe]||{},b[xe][Te]=me;var Pt=ut(xe,Te,me);te.trigger(u.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:ke,newQuality:me,reason:De,streamInfo:Ze,bitrateInfo:Pt,maxIdx:pe,mediaType:Te},{streamId:Ze.id,mediaType:Te});var zt=re.getAverageThroughput(Te,mt);isNaN(zt)||ce.setSavedBitrateSettings(Te,zt)}}function ut(Te,ke,me){if(ke&&h&&h[Te]&&h[Te][ke]){var pe=nt(h[Te][ke].getMediaInfo());return pe[me]?pe[me]:null}return null}function rt(Te,ke,me){var pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,De=Te&&Te.type?h[me][Te.type].getRepresentationInfo():null;if(R.get().streaming.abr.useDeadTimeLatency&&pe&&De&&De.fragmentDuration){pe/=1e3;var xe=De.fragmentDuration;if(pe>xe)return 0;var Ze=pe/xe;ke*=1-Ze}for(var mt=nt(Te),dt=mt.length-1;dt>=0;dt--){var Pt=mt[dt];if(1e3*ke>=Pt.bitrate)return dt}return 0}function nt(Te){var ke=[];if(!Te||!Te.bitrateList)return ke;for(var me,pe=Te.bitrateList,De=Te.type,xe=0,Ze=pe.length;xe<Ze;xe++)(me=new ni).mediaType=De,me.qualityIndex=xe,me.bitrate=pe[xe].bandwidth,me.width=pe[xe].width,me.height=pe[xe].height,me.scanType=pe[xe].scanType,ke.push(me);return ke}function Ot(){if(q){var Te=R.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;B=q.getClientWidth()*Te,C=q.getClientHeight()*Te}}return o={initialize:function(){X=cs(z).create(),re=fs(z).create({settings:R}),(c=(0,us.Z)(z).create({dashMetrics:N,customParametersModel:ne,mediaPlayerModel:fe,settings:R})).initialize(),te.on(n.Z.QUALITY_CHANGE_RENDERED,le,o),te.on(n.Z.METRIC_ADDED,ye,o),te.on(u.Z.LOADING_PROGRESS,P,o)},isPlayingAtTopQuality:function(Te){var ke=Te?Te.id:null,me=Ae(t.Z.AUDIO,ke),pe=Ae(t.Z.VIDEO,ke);return me===Pe(t.Z.AUDIO,ke)&&pe===Pe(t.Z.VIDEO,ke)},updateTopQualityIndex:function(Te){var ke=Te.type,me=Te.streamInfo.id,pe=Te.representationCount-1;return I[me]=I[me]||{},I[me][ke]=pe,pe},clearDataForStream:function(Te){X&&X.clearForStream(Te),h[Te]&&delete h[Te],ue[Te]&&delete ue[Te],w[Te]&&delete w[Te]},getThroughputHistory:function(){return re},getBitrateList:nt,getQualityForBitrate:rt,getTopBitrateInfoFor:function(Te){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ke||(ke=_.getActiveStreamInfo().id),Te&&h&&h[ke]&&h[ke][Te]){var me=Pe(Te,ke),pe=nt(h[ke][Te].getMediaInfo());return pe[me]?pe[me]:null}return null},getMinAllowedIndexFor:be,getMaxAllowedIndexFor:Pe,getInitialBitrateFor:function(Te,ke){if(function(){if(!ce||!ce.hasOwnProperty("getSavedBitrateSettings"))throw new Error(t.Z.MISSING_CONFIG_ERROR)}(),Te===t.Z.TEXT)return NaN;var me=ce.getSavedBitrateSettings(Te),pe=fe.getAbrBitrateParameter("initialBitrate",Te),De=R.get().streaming.abr.initialRepresentationRatio[Te];if(pe===-1)if(De>-1){var xe=h[ke][Te].getStreamInfo(),Ze=j.getAdaptationForType(xe.index,Te,xe).Representation_asArray;pe=Array.isArray(Ze)?Ze[Math.max(Math.round(Ze.length*De)-1,0)].bandwidth/1e3:0}else pe=isNaN(me)?Te===t.Z.VIDEO?1e3:100:me;return pe},getQualityFor:Ae,getAbandonmentStateFor:function(Te,ke){return w[Te]&&w[Te][ke]?w[Te][ke].state:null},setPlaybackQuality:Ie,checkPlaybackQuality:function(Te,ke){try{if(!(Te&&h&&h[ke]&&h[ke][Te]))return!1;if(X){var me=q.getPlaybackQuality();me&&X.push(ke,Y,me)}if(!R.get().streaming.abr.autoSwitchBitrate[Te])return!1;var pe=Ae(Te,ke),De=Fa(z).create({abrController:o,switchHistory:ue[ke][Te],droppedFramesHistory:X,streamProcessor:h[ke][Te],currentValue:pe,useBufferOccupancyABR:m[Te],useL2AABR:x[Te],useLoLPABR:L[Te],videoModel:q}),xe=be(Te,ke),Ze=Pe(Te,ke),mt=c.getMaxQuality(De),dt=mt.quality;return xe!==void 0&&(dt>Ei.Z.NO_CHANGE?dt:pe)<xe&&(dt=xe),dt>Ze&&(dt=Ze),ue[ke][Te].push({oldValue:pe,newValue:dt}),dt>Ei.Z.NO_CHANGE&&dt!==pe&&(w[ke][Te].state===y.Z.ALLOW_LOAD||dt<pe)&&(st(Te,pe,dt,Ze,mt.reason,ke),!0)}catch{return!1}},setElementSize:Ot,setWindowResizeEventCalled:function(Te){H=Te},registerStreamType:function(Te,ke){var me=ke.getStreamInfo().id;h[me]||(h[me]={}),ue[me]||(ue[me]={}),w[me]||(w[me]={}),ue[me][Te]=ls(z).create(),h[me][Te]=ke,w[me][Te]={},w[me][Te].state=y.Z.ALLOW_LOAD,function(pe){var De=R.get().streaming.abr.ABRStrategy;De===t.Z.ABR_STRATEGY_L2A?(m[pe]=!1,L[pe]=!1,x[pe]=!0):De===t.Z.ABR_STRATEGY_LoLP?(m[pe]=!1,L[pe]=!0,x[pe]=!1):De===t.Z.ABR_STRATEGY_BOLA?(m[pe]=!0,L[pe]=!1,x[pe]=!1):De===t.Z.ABR_STRATEGY_THROUGHPUT?(m[pe]=!1,L[pe]=!1,x[pe]=!1):De===t.Z.ABR_STRATEGY_DYNAMIC&&(m[pe]=!(!m||!m[pe])&&m[pe],L[pe]=!1,x[pe]=!1)}(Te),Te===t.Z.VIDEO&&Ot()},unRegisterStreamType:function(Te,ke){try{h[Te]&&h[Te][ke]&&delete h[Te][ke],ue[Te]&&ue[Te][ke]&&delete ue[Te][ke],w[Te]&&w[Te][ke]&&delete w[Te][ke]}catch{}},setConfig:function(Te){Te&&(Te.streamController&&(_=Te.streamController),Te.domStorage&&(ce=Te.domStorage),Te.mediaPlayerModel&&(fe=Te.mediaPlayerModel),Te.customParametersModel&&(ne=Te.customParametersModel),Te.cmsdModel&&(se=Te.cmsdModel),Te.dashMetrics&&(N=Te.dashMetrics),Te.adapter&&(j=Te.adapter),Te.videoModel&&(q=Te.videoModel),Te.settings&&(R=Te.settings))},reset:function(){Q(),te.off(u.Z.LOADING_PROGRESS,P,o),te.off(n.Z.QUALITY_CHANGE_RENDERED,le,o),te.off(n.Z.METRIC_ADDED,ye,o),c&&c.reset()}},r=K.getLogger(o),Q(),o}Ki.__dashjs_factory_name="AbrController";var zi=g.Z.getSingletonFactory(Ki);zi.QUALITY_DEFAULT=0,g.Z.updateSingletonFactory(Ki.__dashjs_factory_name,zi);var ds=zi,gs=new Map([[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function Ba(){var o,r,c,_,I,b,h,w,G=this.context,H=(0,p.Z)(G).getInstance(),B=[];function C(){c&&(c.playbackRate=1,c.removeEventListener("canplay",C))}function j(){return B.length>0}function q(){if(c&&j()&&c.playbackRate===0){var X=document.createEvent("Event");X.initEvent("waiting",!0,!1),c.dispatchEvent(X)}}function fe(X,re){c&&c.addEventListener(X,re)}function ne(X,re){c&&c.removeEventListener(X,re)}function se(){return c?c.readyState:NaN}function ce(){return c?c.buffered:null}function Y(X,re,m,x,L){if(c){for(var N=0;N<c.textTracks.length;N++)if(c.textTracks[N].kind===X&&(!re||c.textTracks[N].label==re)&&c.textTracks[N].language===m&&c.textTracks[N].isTTML===x&&c.textTracks[N].isEmbedded===L)return c.textTracks[N]}return null}function ue(X,re){return X===t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||se()>=X?(re(),null):function(m,x){var L=function N(){ne(m,N),x(m)};return fe(m,L),{func:L,event:m}}(gs.get(X),re)}return o={addEventListener:fe,addTextTrack:function(X,re,m,x,L){if(!c)return null;var N=Y(X,re,m,x,L);return N||((N=c.addTextTrack(X,re,m)).isEmbedded=L,N.isTTML=x),N},appendChild:function(X){c&&(c.appendChild(X),X.isTTML!==void 0&&(c.textTracks[c.textTracks.length-1].isTTML=X.isTTML,c.textTracks[c.textTracks.length-1].isEmbedded=X.isEmbedded))},getBufferRange:ce,getClientHeight:function(){return c?c.clientHeight:NaN},getClientWidth:function(){return c?c.clientWidth:NaN},getElement:function(){return c},getEnded:function(){return c?c.ended:null},getPlaybackQuality:function(){if(!c)return null;var X="webkitDroppedFrameCount"in c&&"webkitDecodedFrameCount"in c,re=null;return"getVideoPlaybackQuality"in c?re=c.getVideoPlaybackQuality():X&&(re={droppedVideoFrames:c.webkitDroppedFrameCount,totalVideoFrames:c.webkitDroppedFrameCount+c.webkitDecodedFrameCount,creationTime:new Date}),re},getPlaybackRate:function(){return c?c.playbackRate:null},getPlayedRanges:function(){return c?c.played:null},getReadyState:se,getSource:function(){return c?c.src:null},getTTMLRenderingDiv:function(){return b},getTextTrack:Y,getTextTracks:function(){return c?c.textTracks:[]},getTime:function(){return c?isNaN(_)?c.currentTime:_:null},getVideoHeight:function(){return c?c.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(c){var X=c.parentNode.host||c.parentNode;return X?c.getBoundingClientRect().left-X.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(c){var X=c.parentNode.host||c.parentNode;return X?c.getBoundingClientRect().top-X.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return c?c.videoWidth:NaN},getVttRenderingDiv:function(){return h},initialize:function(){H.on(u.Z.PLAYBACK_PLAYING,q,this)},isPaused:function(){return c?c.paused:null},isSeeking:function(){return c?c.seeking||!isNaN(_):null},isStalled:j,pause:function(){c&&(c.pause(),c.autoplay=!1)},play:function(){if(c){c.autoplay=!0;var X=c.play();X&&X.catch&&typeof Promise<"u"&&X.catch(function(re){re.name==="NotAllowedError"&&H.trigger(u.Z.PLAYBACK_NOT_ALLOWED),r.warn("Caught pending play exception - continuing (".concat(re,")"))})}},removeChild:function(X){c&&c.removeChild(X)},removeEventListener:ne,reset:function(){clearTimeout(w),H.off(u.Z.PLAYBACK_PLAYING,q,this)},setCurrentTime:function(X,re){c&&(I&&I.func&&I.event&&ne(I.event,I.func),_=X,I=ue(t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(c)if(c.currentTime!==_)try{_=re?function(m){var x=ce(),L=m,N=9999999999;if(x)for(var R=0;R<x.length;R++){var z=x.start(R),K=x.end(R),te=Math.abs(z-m),Q=Math.abs(K-m);if(m>=z&&m<=K)return m;te<N&&(N=te,L=z),Q<N&&(N=Q,L=K)}return L}(_):_,isNaN(_)||(c.currentTime=_),_=NaN}catch(m){c.readyState===0&&m.code===m.INVALID_STATE_ERR&&(w=setTimeout(function(){c.currentTime=_,_=NaN},400))}else _=NaN}))},setElement:function(X){if(!(X==null||X&&/^(VIDEO|AUDIO)$/i.test(X.nodeName)))throw"element is not video or audio DOM type!";(c=X)&&(c.preload="auto")},setPlaybackRate:function(X){var re=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c&&(!re&&c.readyState<=2&&X>0?c.addEventListener("canplay",C):c.playbackRate=X)},setSource:function(X){c&&(X?c.src=X:(c.removeAttribute("src"),c.load()))},setStallState:function(X,re){(function(m,x){x?function(L){L!==null&&c&&!c.seeking&&B.indexOf(L)===-1&&B.push(L)}(m):function(L){var N=B.indexOf(L);L!==null&&N!==-1&&B.splice(N,1)}(m)})(X,re)},setTTMLRenderingDiv:function(X){(b=X).style.position="absolute",b.style.display="flex",b.style.overflow="hidden",b.style.pointerEvents="none",b.style.top=0,b.style.left=0},setVttRenderingDiv:function(X){h=X},waitForReadyState:ue},r=(0,E.Z)(G).getInstance().getLogger(o),_=NaN,o}Ba.__dashjs_factory_name="VideoModel";var hs=g.Z.getSingletonFactory(Ba),ms=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],Ga="dashjs_?_bitrate",qa="dashjs_?_settings",Pr="localStorage",Ya="lastBitrate",ja="lastMediaSettings";function Ha(o){o=o||{};var r,c,_,I=this.context,b=o.settings;function h(B){if(_!==void 0)return _;var C;_=!1;try{typeof window<"u"&&(C=window[B])}catch(j){return c.warn("DOMStorage access denied: "+j.message),_}if(!C||B!==Pr&&B!=="sessionStorage")return _;try{C.setItem("1","1"),C.removeItem("1"),_=!0}catch(j){c.warn("DOMStorage is supported, but cannot be used: "+j.message)}return _}function w(){var B=6e5;return Math.round(new Date().getTime()/B)*B}function G(B,C){return h(B)&&b.get().streaming[C+"CachingInfo"].enabled}function H(){if(!b)throw new Error(t.Z.MISSING_CONFIG_ERROR)}return r={getSavedBitrateSettings:function(B){if(H(),!b.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var C=NaN;if(G(Pr,Ya)){var j=Ga.replace(/\?/,B);try{var q=JSON.parse(localStorage.getItem(j))||{},fe=new Date().getTime()-parseInt(q.timestamp,10)>=b.get().streaming.lastBitrateCachingInfo.ttl||!1,ne=parseFloat(q.bitrate);isNaN(ne)||fe?fe&&localStorage.removeItem(j):(C=ne,c.debug("Last saved bitrate for "+B+" was "+ne))}catch{return null}}return C},setSavedBitrateSettings:function(B,C){if(G(Pr,Ya)&&C){var j=Ga.replace(/\?/,B);try{localStorage.setItem(j,JSON.stringify({bitrate:C.toFixed(3),timestamp:w()}))}catch(q){c.error(q.message)}}},getSavedMediaSettings:function(B){if(H(),!b.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var C=null;if(G(Pr,ja)){var j=qa.replace(/\?/,B);try{var q=JSON.parse(localStorage.getItem(j))||{},fe=new Date().getTime()-parseInt(q.timestamp,10)>=b.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;C=q.settings,fe&&(localStorage.removeItem(j),C=null)}catch{return null}}return C},setSavedMediaSettings:function(B,C){if(G(Pr,ja)){var j=qa.replace(/\?/,B);try{localStorage.setItem(j,JSON.stringify({settings:C,timestamp:w()}))}catch(q){c.error(q.message)}}}},c=(0,E.Z)(I).getInstance().getLogger(r),h(Pr)&&ms.forEach(function(B){var C=localStorage.getItem(B.oldKey);if(C){localStorage.removeItem(B.oldKey);try{localStorage.setItem(B.newKey,C)}catch(j){c.error(j.message)}}}),r}Ha.__dashjs_factory_name="DOMStorage";var ps=g.Z.getSingletonFactory(Ha),ys=O(2032),Va=O(2011);function Ka(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q=this.context;function fe(Y,ue,X,re){var m=null,x=Y?j.resolve(Y.path):null,L=re||{init:!0,url:x?x.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ue};r.debug("Start searching for initialization.");var N=ce(L);w.load({request:N,success:function(R){if(L.bytesLoaded=L.range.end,!(m=_.findInitRange(R)))return L.range.end=L.bytesLoaded+L.bytesToLoad,fe(Y,ue,X,L);Y.range=m,X(Y)},error:function(){X(Y)}}),r.debug("Perform init search: "+L.url)}function ne(Y,ue,X,re,m,x){if(X&&(X.start===void 0||X.end===void 0)){var L=X?X.toString().split("-"):null;X=L?{start:parseFloat(L[0]),end:parseFloat(L[1])}:null}m=m||se;var N=null,R=null,z=!!X,K=Y?j.resolve(Y.path):null,te={init:!1,url:K?K.url:void 0,range:z?X:{start:0,end:1500},searching:!z,bytesLoaded:x?x.bytesLoaded:0,bytesToLoad:1500,mediaType:ue},Q=ce(te);w.load({request:Q,success:function(P){var le=te.bytesToLoad,ye=P.byteLength;if(te.bytesLoaded=te.range.end-te.range.start,N=_.parse(P),(R=N.getBox("sidx"))&&R.isComplete){var Pe,be,Ae=R.references;if(Ae!=null&&Ae.length>0&&(Pe=Ae[0].reference_type===1),Pe){var Ie,st,ut,rt;r.debug("Initiate multiple SIDX load."),te.range.end=te.range.start+R.size;var nt=[],Ot=0,Te=(R.offset||te.range.start)+R.size,ke=function(pe){pe?(nt=nt.concat(pe),++Ot>=st&&(nt.sort(function(De,xe){return De.startTime-xe.startTime<0?-1:0}),m(nt,Y,re))):m(null,Y,re)};for(Ie=0,st=Ae.length;Ie<st;Ie++)ut=Te,rt=Te+Ae[Ie].referenced_size-1,Te+=Ae[Ie].referenced_size,ne(Y,ue,{start:ut,end:rt},re,ke,te)}else r.debug("Parsing segments from SIDX. representation "+ue+" - id: "+Y.id+" for range : "+te.range.start+" - "+te.range.end),be=function(pe,De){for(var xe,Ze,mt,dt,Pt=pe.references,zt=Pt.length,Yt=pe.timescale,jt=pe.earliest_presentation_time,Vt=De.range.start+pe.offset+pe.first_offset+pe.size,Wt=[],Qt=0;Qt<zt;Qt++)mt=Pt[Qt].subsegment_duration,dt=Pt[Qt].referenced_size,(xe=new Va.Z).duration=mt,xe.startTime=jt,xe.timescale=Yt,Ze=Vt+dt-1,xe.mediaRange=Vt+"-"+Ze,Wt.push(xe),jt+=mt,Vt+=dt;return Wt}(R,te),m(be,Y,re)}else{if(R)te.range.start=R.offset||te.range.start,te.range.end=te.range.start+(R.size||le);else{if(ye<te.bytesLoaded)return void m(null,Y,re);var me=N.getLastBox();me&&me.size?(te.range.start=me.offset+me.size,te.range.end=te.range.start+le):te.range.end+=le}ne(Y,ue,te.range,re,null,te)}},error:function(){m(null,Y,re)}}),r.debug("Perform SIDX load for type ".concat(ue," : ").concat(te.url," with range ").concat(te.range.start," - ").concat(te.range.end))}function se(Y,ue,X){X({segments:Y,representation:ue,error:Y?void 0:new U.Z(G.SEGMENT_BASE_LOADER_ERROR_CODE,G.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ce(Y){if(Y.url){var ue=new D.Z;return ue.setInfo(Y),ue}}return o={setConfig:function(Y){Y.baseURLController&&(j=Y.baseURLController),Y.dashMetrics&&(b=Y.dashMetrics),Y.mediaPlayerModel&&(h=Y.mediaPlayerModel),Y.errHandler&&(c=Y.errHandler),Y.boxParser&&(_=Y.boxParser),Y.debug&&(r=Y.debug.getLogger(o)),Y.requestModifier&&(I=Y.requestModifier),Y.errors&&(G=Y.errors),Y.urlUtils&&(C=Y.urlUtils),Y.constants&&(H=Y.constants),Y.dashConstants&&(B=Y.dashConstants)},initialize:function(){w=Kn(q).create({errHandler:c,dashMetrics:b,mediaPlayerModel:h,requestModifier:I,boxParser:_,errors:G,urlUtils:C,constants:H,dashConstants:B})},loadInitialization:function(Y,ue){return new Promise(function(X){fe(Y,ue,X)})},loadSegments:function(Y,ue,X){return new Promise(function(re){ne(Y,ue,X,re)})},reset:function(){w&&(w.abort(),w=null)}}}Ka.__dashjs_factory_name="SegmentBaseLoader";var Es=g.Z.getSingletonFactory(Ka);function za(o){var r;o=o||{};var c=new DataView(o.data),_=0;function I(h,w){var G=!0,H=0;if(w===void 0&&(w=!1),h.tag>16777215?(c.getUint32(_)!==h.tag&&(G=!1),H=4):h.tag>65535?(256*c.getUint16(_)+c.getUint8(_+2)!==h.tag&&(G=!1),H=3):h.tag>255?(c.getUint16(_)!==h.tag&&(G=!1),H=2):(c.getUint8(_)!==h.tag&&(G=!1),H=1),!G&&h.required&&!w)throw new Error("required tag not found");return G&&(_+=H),G}function b(h){var w=1,G=128,H=-1,B=0,C=c.getUint8(_),j=0;for(j=0;j<8;j+=1){if((C&G)===G){B=h===void 0?C&~G:C,H=j;break}G>>=1}for(j=0;j<H;j+=1,w+=1)B=B<<8|255&c.getUint8(_+w);return _+=w,B}return r={getPos:function(){return _},setPos:function(h){_=h},consumeTag:I,consumeTagAndSize:function(h,w){var G=I(h,w);return G&&b(),G},parseTag:function(h){var w;return I(h),w=b(),r[h.parse](w)},skipOverElement:function(h,w){var G,H=I(h,w);return H&&(G=b(),_+=G),H},getMatroskaCodedNum:b,getMatroskaFloat:function(h){var w;switch(h){case 4:w=c.getFloat32(_),_+=4;break;case 8:w=c.getFloat64(_),_+=8}return w},getMatroskaUint:function(h){if(h>4)return function(H){for(var B=Math.floor(Number.MAX_SAFE_INTEGER/256),C=0,j=0;j<H;j+=1){if(C>B)throw new Error("Value exceeds safe integer limit");C*=256;var q=c.getUint8(_+j);if(C>Number.MAX_SAFE_INTEGER-q)throw new Error("Value exceeds safe integer limit");C+=q}return _+=H,C}(h);for(var w=0,G=0;G<h;G+=1)w<<=8,w|=255&c.getUint8(_+G);return _+=h,w>>>0},moreData:function(){return _<c.byteLength}}}za.__dashjs_factory_name="EBMLParser";var Wa=g.Z.getClassFactory(za);function Xa(){var o,r,c,_,I,b,h,w,G,H,B=this.context;function C(j){var q=new D.Z;return q.setInfo(j),q}return o={setConfig:function(j){if(!(j.baseURLController&&j.dashMetrics&&j.mediaPlayerModel&&j.errHandler))throw new Error(t.Z.MISSING_CONFIG_ERROR);H=j.baseURLController,b=j.dashMetrics,h=j.mediaPlayerModel,_=j.errHandler,G=j.errors,r=j.debug.getLogger(o),I=j.requestModifier},initialize:function(){w=Kn(B).create({errHandler:_,dashMetrics:b,mediaPlayerModel:h,requestModifier:I,errors:G})},loadInitialization:function(j,q){return new Promise(function(fe){var ne=null,se=j?H.resolve(j.path):null,ce=j?j.range.split("-"):null,Y={range:{start:ce?parseFloat(ce[0]):null,end:ce?parseFloat(ce[1]):null},request:ne,url:se?se.url:void 0,init:!0,mediaType:q};r.info("Start loading initialization."),ne=C(Y),w.load({request:ne,success:function(){fe(j)},error:function(){fe(j)}}),r.debug("Perform init load: "+Y.url)})},loadSegments:function(j,q,fe){return new Promise(function(ne){var se=null,ce=j?H.resolve(j.path):null,Y=ce?ce.url:void 0;se=C({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:se,url:Y,init:!1,mediaType:q}),r.debug("Parsing ebml header"),w.load({request:se,success:function(ue){(function(X,re,m,x){if(X&&X.byteLength!==0){var L,N,R,z,K=Wa(B).create({data:X}),te=m?m.split("-"):null,Q=null,P={url:re,range:{start:te?parseFloat(te[0]):null,end:te?parseFloat(te[1]):null},request:Q};for(r.debug("Parse EBML header: "+P.url),K.skipOverElement(c.EBML),K.consumeTag(c.Segment),R=K.getMatroskaCodedNum(),R+=K.getPos(),z=K.getPos();K.moreData()&&!K.consumeTagAndSize(c.Segment.Info,!0);)if(!(K.skipOverElement(c.Segment.SeekHead,!0)||K.skipOverElement(c.Segment.Tracks,!0)||K.skipOverElement(c.Segment.Cues,!0)||K.skipOverElement(c.Void,!0)))throw new Error("no valid top level element found");for(;L===void 0;){var le=K.getMatroskaCodedNum(!0),ye=K.getMatroskaCodedNum();le===c.Segment.Info.Duration.tag?L=K[c.Segment.Info.Duration.parse](ye):K.setPos(K.getPos()+ye)}Q=C(P),w.load({request:Q,success:function(Pe){N=function(be,Ae,Ie,st){var ut,rt,nt,Ot,Te,ke,me,pe;for(nt=[],Te=0,ke=(rt=function(De){var xe,Ze,mt=[],dt=Wa(B).create({data:De});for(dt.consumeTagAndSize(c.Segment.Cues);dt.moreData()&&dt.consumeTagAndSize(c.Segment.Cues.CuePoint,!0);){for((xe={}).CueTime=dt.parseTag(c.Segment.Cues.CuePoint.CueTime),xe.CueTracks=[];dt.moreData()&&dt.consumeTag(c.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Pt=dt.getMatroskaCodedNum(),zt=dt.getPos();if((Ze={}).Track=dt.parseTag(c.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),Ze.Track===0)throw new Error("Cue track cannot be 0");Ze.ClusterPosition=dt.parseTag(c.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),xe.CueTracks.push(Ze),dt.setPos(zt+Pt)}if(xe.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");mt.push(xe)}if(mt.length===0)throw new Error("mandatory cuepoint not found");return mt}(be)).length;Te<ke;Te+=1)Ot=new Va.Z,ut=Te<rt.length-1?rt[Te+1].CueTime-rt[Te].CueTime:st-rt[Te].CueTime,Ot.duration=ut,Ot.startTime=rt[Te].CueTime,Ot.timescale=1e3,me=rt[Te].CueTracks[0].ClusterPosition+Ae,pe=Te<rt.length-1?rt[Te+1].CueTracks[0].ClusterPosition+Ae-1:Ie-1,Ot.mediaRange=me+"-"+pe,nt.push(Ot);return r.debug("Parsed cues: "+nt.length+" cues."),nt}(Pe,z,R,L),x(N)},error:function(){r.error("Download Error: Cues "+P.url),x(null)}}),r.debug("Perform cues load: "+P.url+" bytes="+P.range.start+"-"+P.range.end)}else x(null)})(ue,Y,fe,function(X){ne({segments:X,representation:j,error:X?void 0:new U.Z(G.SEGMENT_BASE_LOADER_ERROR_CODE,G.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ne({representation:j,error:new U.Z(G.SEGMENT_BASE_LOADER_ERROR_CODE,G.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){w&&(w.abort(),w=null)}},c={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},o}Xa.__dashjs_factory_name="WebmSegmentBaseLoader";var vs=g.Z.getSingletonFactory(Xa);function Qa(o){o=o||{};var r,c,_,I=this.context,b=o.eventBus,h=o.events,w=o.dashMetrics,G=o.mediaPlayerModel,H=o.errHandler,B=o.baseURLController,C=o.debug,j=o.boxParser,q=o.requestModifier,fe=o.errors;function ne(se){return(se?se.split("/")[1]:"").toLowerCase()==="webm"}return r={initialize:function(){c.initialize(),_.initialize()},getSegmentBaseInitSegment:function(se){return ne(se.representation.mimeType)?_.loadInitialization(se.representation,se.mediaType):c.loadInitialization(se.representation,se.mediaType)},getSegmentList:function(se){return ne(se.mimeType)?_.loadSegments(se.representation,se.mediaType,se.representation?se.representation.indexRange:null):c.loadSegments(se.representation,se.mediaType,se.representation?se.representation.indexRange:null)},reset:function(){c.reset(),_.reset()}},c=Es(I).getInstance(),_=vs(I).getInstance(),c.setConfig({baseURLController:B,dashMetrics:w,mediaPlayerModel:G,errHandler:H,eventBus:b,events:h,errors:fe,debug:C,boxParser:j,requestModifier:q}),_.setConfig({baseURLController:B,dashMetrics:w,mediaPlayerModel:G,errHandler:H,eventBus:b,events:h,errors:fe,debug:C,requestModifier:q}),r}Qa.__dashjs_factory_name="SegmentBaseController";var _s=g.Z.getSingletonFactory(Qa),Ja=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},Wi=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.viewpointsWithSchemeIdUri=null,this.accessibility=null,this.accessibilitiesWithSchemeIdUri=null,this.audioChannelConfiguration=null,this.audioChannelConfigurationsWithSchemeIdUri=null,this.roles=null,this.rolesWithSchemeIdUri=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={},this.supplementalPropertiesAsArray=[],this.segmentAlignment=!1,this.subSegmentAlignment=!1},$a=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},Ts=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null,this.serviceDescriptions=[],this.protocol=null};function Ss(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var bs=function(){function o(_){var I=this;(function(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this.valid=_[0]=="/",this.path=_.split("/").filter(function(b){return b.length!==0}).map(function(b){var h={name:b},w=b.indexOf("[");if(w!=-1){h.name=b.substring(0,w);var G=b.substring(w+1,b.length-1);I.valid=I.valid&&G.indexOf("[")==-1;var H=G.indexOf("=");H!=-1?(h.attribute={name:G.substring(1,H),value:G.substring(H+1)},["'",'"'].indexOf(h.attribute.value[0])!=-1&&(h.attribute.value=h.attribute.value.substring(1,h.attribute.value.length-1))):h.position=parseInt(G,10)-1}return h})}var r,c;return r=o,(c=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"findsTextReplace",value:function(){return this.path[this.path.length-1].name==="text()"}},{key:"getMpdTarget",value:function(_,I){for(var b=null,h=_,w=1,G="MPD";w<this.path.length&&h!==null;){b=h;var H=this.path[w];if(G=H.name,w!==this.path.length-1||!G.startsWith("@")&&G!=="text()"){var B=b[G+"_asArray"]||[];B.length===0&&b[G]&&B.push(b[G]),H.position?h=B[H.position]||null:H.attribute?function(){var C=H.attribute;h=B.filter(function(j){return j[C.name]==C.value})[0]||null}():h=B[0]||null}w++}return h===null?null:G.startsWith("@")?{name:G.substring(1),leaf:h,target:h}:G==="text()"?{name:"__text",leaf:h,target:h}:{name:G,leaf:h,target:I?b:h}}}])&&Ss(r.prototype,c),o}();function As(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var Is=function(){function o(_,I,b){(function(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")})(this,o),this.action=_,this.xpath=I,this.value=b,this.position=null}var r,c;return r=o,(c=[{key:"getMpdTarget",value:function(_){var I=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(_,I)}}])&&As(r.prototype,c),o}();function eo(){var o,r,c=this.context;return o={getIsPatch:function(_){return _&&_.hasOwnProperty(e.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(_){return _&&_.hasOwnProperty(e.Z.PUBLISH_TIME)?new Date(_[e.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(_){return _&&_.hasOwnProperty(e.Z.ORIGINAL_PUBLISH_TIME)?new Date(_[e.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(_){return _&&_[e.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(_){return _?(_.__children||[]).map(function(I){var b=Object.keys(I)[0];if(b!=="add"&&b!=="remove"&&b!=="replace")return r.warn("Ignoring node of invalid action: ".concat(b)),null;var h=I[b],w=h.sel;if(b==="add"&&h.type){if(!h.type.startsWith("@"))return r.warn("Ignoring add action for prefixed namespace declaration: ".concat(h.type,"=").concat(h.__text)),null;w="".concat(w,"/").concat(h.type)}var G=new bs(w);if(!G.isValid())return r.warn("Ignoring action with invalid selector: ".concat(b," - ").concat(w)),null;var H=null;G.findsAttribute()||G.findsTextReplace()?H=h.__text||"":b!=="remove"&&(H=h.__children.reduce(function(C,j){var q=Object.keys(j)[0];return q!=="#text"&&(C[q]=C[q]||[],C[q].push(j[q])),C},{}));var B=new Is(b,G,H);return b==="add"&&(B.position=h.pos),B}).filter(function(I){return!!I}):[]}},r=(0,E.Z)(c).getInstance().getLogger(o),o}eo.__dashjs_factory_name="PatchManifestModel";var Rs=g.Z.getSingletonFactory(eo);function to(){var o,r,c,_,I,b,h,w=this.context;function G(L,N,R){var z,K=r.getAdaptationsForType(_[0].mpd.manifest,L,N);if(!K||K.length===0)return null;if(K.length>1&&R){var te=C(R,N);if(I[R.id]&&I[R.id][N]){for(var Q=0,P=K.length;Q<P;Q++)if(H(I[R.id][N],te[Q]))return K[Q]}for(var le=0,ye=K.length;le<ye;le++)if(z=K[le],r.getRolesForAdaptation(z).filter(function(Pe){return Pe.value===e.Z.MAIN})[0])return K[le]}return K[0]}function H(L,N){if(!L||!N)return!1;var R=L.id===N.id,z=L.codec===N.codec,K=L.viewpoint===N.viewpoint,te=JSON.stringify(L.viewpointsWithSchemeIdUri)===JSON.stringify(N.viewpointsWithSchemeIdUri),Q=L.lang===N.lang,P=L.roles.toString()===N.roles.toString(),le=JSON.stringify(L.rolesWithSchemeIdUri)===JSON.stringify(N.rolesWithSchemeIdUri),ye=L.accessibility.toString()===N.accessibility.toString(),Pe=JSON.stringify(L.accessibilitiesWithSchemeIdUri)===JSON.stringify(N.accessibilitiesWithSchemeIdUri),be=L.audioChannelConfiguration.toString()===N.audioChannelConfiguration.toString(),Ae=JSON.stringify(L.audioChannelConfigurationsWithSchemeIdUri)===JSON.stringify(N.audioChannelConfigurationsWithSchemeIdUri);return R&&z&&K&&te&&Q&&P&&le&&ye&&Pe&&be&&Ae}function B(L,N,R,z,K,te){var Q,P,le,ye,Pe,be,Ae=[];if(!z||z.length===0)return[];var Ie=r.getAdaptationsForPeriod(N);for(ye=0,be=z.length;ye<be;ye++)if(Q=z[ye],P=Y(Ie[le=r.getIndexForAdaptation(Q,L,R.index)]),te){var st=P.accessibility.length;for(Pe=0;Pe<st;Pe++)if(P){var ut=P.accessibility[Pe];if(ut.indexOf("cea-608:")===0){var rt=ut.substring(8).split(";");if(rt[0].substring(0,2)==="CC")for(Pe=0;Pe<rt.length;Pe++)P||(P=Y.call(this,Ie[le])),ue(P,rt[Pe].substring(0,3),rt[Pe].substring(4)),Ae.push(P),P=null;else for(Pe=0;Pe<rt.length;Pe++)P||(P=Y.call(this,Ie[le])),ue(P,"CC"+(Pe+1),rt[Pe]),Ae.push(P),P=null}else ut.indexOf("cea-608")===0&&(ue(P,b.CC1,"eng"),Ae.push(P),P=null)}}else K===b.IMAGE?(P.type=b.IMAGE,Ae.push(P),P=null):P&&Ae.push(P);return Ae}function C(L,N,R){var z=_,K=R,te=[];if(K)re(),z=j(K);else{if(!(_.length>0))return te;K=_[0].mpd.manifest}var Q=ce(L,z),P=r.getAdaptationsForType(K,L?L.index:null,N);return te=B(K,Q,L,P,N),N===b.TEXT&&(P=r.getAdaptationsForType(K,L?L.index:null,b.VIDEO),te=te.concat(B(K,Q,L,P,N,!0))),te}function j(L){var N=q(L);return r.getRegularPeriods(N)}function q(L){var N=ne(L);return r.getMpd(N)}function fe(){_=[],I={}}function ne(L){return L||(_.length>0?_[0].mpd.manifest:null)}function se(L){try{var N=ce(L.streamInfo,_),R=r.getAdaptationsForPeriod(N);return L&&L.streamInfo&&L.streamInfo.id!==void 0&&R?R[L.index]:null}catch{return null}}function ce(L,N){for(var R=N.length,z=0;z<R;z++){var K=N[z];if(L&&L.id===K.id)return K}return null}function Y(L){if(!L)return null;var N,R,z,K,te,Q=new Wi,P=L.period.mpd.manifest.Period_asArray[L.period.index].AdaptationSet_asArray[L.index];if(Q.id=L.id,Q.index=L.index,Q.type=L.type,Q.streamInfo=X(L.period),Q.representationCount=r.getRepresentationCount(P),Q.labels=r.getLabelsForAdaptation(P),Q.lang=r.getLanguageForAdaptation(P),Q.segmentAlignment=r.getSegmentAlignment(P),Q.subSegmentAlignment=r.getSubSegmentAlignment(P),N=r.getViewpointForAdaptation(P),Q.viewpoint=N.length?N[0].value:void 0,Q.viewpointsWithSchemeIdUri=N,te=r.getAccessibilityForAdaptation(P),Q.accessibility=te.map(function(Ae){var Ie=Ae.value,st=Ie;return Ae.schemeIdUri&&Ae.schemeIdUri.search("cea-608")>=0&&h!==void 0&&(st=Ie?"cea-608:"+Ie:"cea-608",Q.embeddedCaptions=!0),st}),Q.accessibilitiesWithSchemeIdUri=te,R=r.getAudioChannelConfigurationForAdaptation(P),Q.audioChannelConfiguration=R.map(function(Ae){return Ae.value}),Q.audioChannelConfigurationsWithSchemeIdUri=R,Q.audioChannelConfiguration.length===0&&Array.isArray(P.Representation_asArray)&&P.Representation_asArray.length>0&&(z=r.getAudioChannelConfigurationForRepresentation(P.Representation_asArray[0]),Q.audioChannelConfiguration=z.map(function(Ae){return Ae.value}),Q.audioChannelConfigurationsWithSchemeIdUri=z),K=r.getRolesForAdaptation(P),Q.roles=K.map(function(Ae){return Ae.value}),Q.rolesWithSchemeIdUri=K,Q.codec=r.getCodec(P),Q.mimeType=r.getMimeType(P),Q.contentProtection=r.getContentProtectionData(P),Q.bitrateList=r.getBitrateListForAdaptation(P),Q.selectionPriority=r.getSelectionPriority(P),Q.contentProtection){var le=Q.contentProtection.map(function(Ae){return r.getKID(Ae)}).filter(function(Ae){return Ae!==null});if(le.length){var ye=le[0];Q.contentProtection.forEach(function(Ae){Ae.keyId=ye})}}if(Q.isText=r.getIsText(P),Q.supplementalProperties=r.getSupplementalPropertiesForAdaptation(P),(!Q.supplementalProperties||Object.keys(Q.supplementalProperties).length===0)&&Array.isArray(P.Representation_asArray)&&P.Representation_asArray.length>0){var Pe=P.Representation_asArray.map(function(Ae){return r.getSupplementalPropertiesForRepresentation(Ae)});Pe.every(function(Ae){return JSON.stringify(Ae)===JSON.stringify(Pe[0])})&&(Q.supplementalProperties=Pe[0])}if(Q.supplementalPropertiesAsArray=r.getSupplementalPropertiesAsArrayForAdaptation(P),(!Q.supplementalPropertiesAsArray||Q.supplementalPropertiesAsArray.length===0)&&Array.isArray(P.Representation_asArray)&&P.Representation_asArray.length>0){var be=P.Representation_asArray.map(function(Ae){return r.getSupplementalPropertiesAsArrayForRepresentation(Ae)});be.every(function(Ae){return JSON.stringify(Ae)===JSON.stringify(be[0])})&&(Q.supplementalPropertiesAsArray=be[0])}return Q.isFragmented=r.getIsFragmented(P),Q.isEmbedded=!1,Q}function ue(L,N,R){L.id=N,L.index=100+parseInt(N.substring(2,3)),L.type=b.TEXT,L.codec="cea-608-in-SEI",L.isEmbedded=!0,L.isFragmented=!1,L.lang=ui()(R),L.roles=["caption"],L.rolesWithSchemeIdUri=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function X(L){var N,R,z=new $a;return z.id=L.id,z.index=L.index,z.start=L.start,z.duration=L.duration,z.manifestInfo=(N=L.mpd,(R=new Ts).dvrWindowSize=N.timeShiftBufferDepth,R.loadedTime=N.manifest.loadedTime,R.availableFrom=N.availabilityStartTime,R.minBufferTime=N.manifest.minBufferTime,R.maxFragmentDuration=N.maxSegmentDuration,R.duration=r.getDuration(N.manifest),R.isDynamic=r.getIsDynamic(N.manifest),R.serviceDescriptions=r.getServiceDescriptions(N.manifest),R.protocol=N.manifest.protocol,R),z.isLast=L.mpd.manifest.Period_asArray.length===1||Math.abs(z.start+z.duration-z.manifestInfo.duration)<1,z}function re(){if(!b)throw new Error("setConfig function has to be called previously")}function m(L){return _.length>0?_[0].mpd.manifest.Period_asArray[L]:null}function x(L,N,R){var z,K,te,Q,P;if(L){for(z=L.AdaptationSet_asArray,Q=0;Q<z.length;Q+=1)for(te=z[Q].Representation_asArray,P=0;P<te.length;P+=1)if(N===(K=te[P]).id)return R?P:K}return null}return o={getBandwidthForRepresentation:function(L,N){var R;return(R=x(m(N),L))?R.bandwidth:null},getIndexForRepresentation:function(L,N){return function(R,z){var K=x(R,z,!0);return K!==null?K:-1}(m(N),L)},getMaxIndexForBufferType:function(L,N){return function(R,z){var K,te,Q,P;if(!R||!z)return-1;for(te=R.AdaptationSet_asArray,P=0;P<te.length;P+=1)if(Q=(K=te[P]).Representation_asArray,r.getIsTypeOf(K,z))return Q.length;return-1}(m(N),L)},convertRepresentationToRepresentationInfo:function(L){if(L){var N=new Ja,R=L.adaptation.period.mpd.manifest.Period_asArray[L.adaptation.period.index].AdaptationSet_asArray[L.adaptation.index],z=r.getRepresentationFor(L.index,R);return N.id=L.id,N.quality=L.index,N.bandwidth=r.getBandwidth(z),N.fragmentDuration=L.segmentDuration||(L.segments&&L.segments.length>0?L.segments[0].duration:NaN),N.MSETimeOffset=L.MSETimeOffset,N.mediaInfo=Y(L.adaptation),N}return null},getStreamsInfo:function(L,N){var R=[],z=_;if(L&&(re(),z=j(L)),z.length>0){(!N||N>z.length)&&(N=z.length);for(var K=0;K<N;K++)R.push(X(z[K]))}return R},getMediaInfoForType:function(L,N){if(_.length===0||!L)return null;var R=ce(L,_);if(!R)return null;var z=r.getAdaptationsForPeriod(R),K=G(L.index,N,L);return K?Y(z[r.getIndexForAdaptation(K,_[0].mpd.manifest,L.index)]):null},getAllMediaInfoForType:C,getAdaptationForType:G,getRealAdaptation:function(L,N){var R,z,K=ce(L,_);return R=N?N.id:null,_.length>0&&K&&(z=R?r.getAdaptationForId(R,_[0].mpd.manifest,K.index):r.getAdaptationForIndex(N?N.index:null,_[0].mpd.manifest,K.index)),z},getProducerReferenceTimes:function(L,N){var R,z,K=ce(L,_);return R=N?N.id:null,_.length>0&&K&&(z=R?r.getAdaptationForId(R,_[0].mpd.manifest,K.index):r.getAdaptationForIndex(N?N.index:null,_[0].mpd.manifest,K.index)),z?r.getProducerReferenceTimesForAdaptation(z):[]},getRealPeriodByIndex:function(L){return r.getRealPeriodForIndex(L,_[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(L){try{return r.getEssentialPropertiesForRepresentation(L)}catch{return[]}},getVoRepresentations:function(L){var N=se(L);return r.getRepresentationsForAdaptation(N)},getEventsFor:function(L,N,R){var z=[];if(_.length>0){var K=_[0].mpd.manifest;if(L instanceof $a){var te=ce(L,_);z=r.getEventsForPeriod(te)}else if(L instanceof Wi){var Q=ce(R,_);z=r.getEventStreamForAdaptationSet(K,se(L),Q)}else if(L instanceof Ja){var P=ce(R,_);z=r.getEventStreamForRepresentation(K,N,P)}}return z},getEvent:function(L,N,R,z){try{if(!L||!N||isNaN(R)||!z)return null;var K=L.scheme_id_uri,te=L.value;if(!N[K+"/"+te])return null;var Q,P=new Hn,le=L.timescale||1,ye=z.adaptation.period.start,Pe=N[K+"/"+te],be=isNaN(z.presentationTimeOffset)?isNaN(Pe.presentationTimeOffset)?0:Pe.presentationTimeOffset:z.presentationTimeOffset,Ae=L.presentation_time_delta/le;Q=L.version===0?ye+R-be+Ae:ye-be+Ae;var Ie=L.event_duration/le,st=L.id,ut=L.message_data;return P.eventStream=Pe,P.eventStream.value=te,P.eventStream.timescale=le,P.duration=Ie,P.id=st,P.calculatedPresentationTime=Q,P.messageData=ut,P.presentationTimeDelta=Ae,P}catch{return null}},getMpd:q,setConfig:function(L){L&&(L.constants&&(b=L.constants),L.cea608parser&&(h=L.cea608parser),L.errHandler&&r.setConfig({errHandler:L.errHandler}),L.BASE64&&r.setConfig({BASE64:L.BASE64}))},updatePeriods:function(L){if(!L)return null;re(),_=j(L)},getIsTextTrack:function(L){return r.getIsText(L)},getUTCTimingSources:function(){var L=ne();return r.getUTCTimingSources(L)},getSuggestedPresentationDelay:function(){var L=_.length>0?_[0].mpd:null;return r.getSuggestedPresentationDelay(L)},getAvailabilityStartTime:function(L){var N=q(L);return r.getAvailabilityStartTime(N)},getIsTypeOf:function(L,N){return r.getIsTypeOf(L,N)},getIsDynamic:function(L){var N=ne(L);return r.getIsDynamic(N)},getDuration:function(L){var N=ne(L);return r.getDuration(N)},getRegularPeriods:j,getContentSteering:function(L){return r.getContentSteering(L)},getLocation:function(L){return r.getLocation(L)},getPatchLocation:function(L){var N=r.getPatchLocation(L),R=r.getPublishTime(L);return N&&N.length!==0&&R?N.filter(function(z){return isNaN(z.ttl)||R.getTime()+z.ttl>new Date().getTime()}):[]},getManifestUpdatePeriod:function(L){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.getManifestUpdatePeriod(L,N)},getPublishTime:function(L){return r.getPublishTime(L)},getIsDVB:function(L){return r.hasProfile(L,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(L){return c.getIsPatch(L)},getBaseURLsFromElement:function(L){return r.getBaseURLsFromElement(L)},getRepresentationSortFunction:function(){return r.getRepresentationSortFunction()},getCodec:function(L,N,R){return r.getCodec(L,N,R)},getPeriodById:function(L){if(!L||_.length===0)return null;var N=_.filter(function(R){return R.id===L});return N&&N.length>0?N[0]:null},setCurrentMediaInfo:function(L,N,R){I[L]=I[L]||{},I[L][N]=I[L][N]||{},I[L][N]=R},isPatchValid:function(L,N){var R=r.getId(L),z=c.getMpdId(N),K=r.getPublishTime(L),te=c.getPublishTime(N),Q=c.getOriginalPublishTime(N);return!!(R&&z&&R==z&&K&&Q&&K.getTime()==Q.getTime()&&te&&K.getTime()<te.getTime())},applyPatchToManifest:function(L,N){c.getPatchOperations(N).forEach(function(R){var z=R.getMpdTarget(L);if(z!==null){var K=z.name,te=z.target,Q=z.leaf;if(R.xpath.findsAttribute()||K==="__text")switch(R.action){case"add":case"replace":te[K]=R.value;break;case"remove":delete te[K]}else{var P=(te[K+"_asArray"]||[]).indexOf(Q),le=R.position==="prepend"||R.position==="before";if((R.action==="remove"||R.action==="replace")&&(delete te[K],P!=-1)){var ye=te[K+"_asArray"];ye.splice(P,1),ye.length>1?te[K]=ye:ye.length==1?te[K]=ye[0]:delete te[K+"_asArray"]}R.action!=="add"&&R.action!=="replace"||Object.keys(R.value).forEach(function(Pe){var be=R.value[Pe],Ae=te[Pe+"_asArray"]||[];if(Ae.length===0&&te[Pe]&&Ae.push(te[Pe]),Ae.length===0)Ae=be;else{var Ie=Ae.length;Ie=Pe==K&&P!=-1?P+(le?0:1)+(R.action=="replace"?-1:0):le?0:Ae.length,Ae.splice.apply(Ae,[Ie,0].concat(be))}te[Pe+"_asArray"]=Ae,te[Pe]=Ae.length==1?Ae[0]:Ae})}}})},areMediaInfosEqual:H,reset:fe},r=$t(w).getInstance(),c=Rs(w).getInstance(),fe(),o}to.__dashjs_factory_name="DashAdapter";var ws=g.Z.getSingletonFactory(to);function Ns(o,r){for(var c=0;c<r.length;c++){var _=r[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(o,_.key,_)}}var Cs=function(){function o(){(function(_,I){if(!(_ instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o)}var r,c;return r=o,c=[{key:"round10",value:function(_,I){return function(b,h,w){return w===void 0||+w==0?Math[b](h):(w=+w,(h=+h)===null||isNaN(h)||typeof w!="number"||w%1!=0?NaN:(h=h.toString().split("e"),+((h=(h=Math[b](+(h[0]+"e"+(h[1]?+h[1]-w:-w)))).toString().split("e"))[0]+"e"+(h[1]?+h[1]+w:w))))}("round",_,I)}}],c&&Ns(r,c),o}(),Ds=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},Os=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.mt=null,this.to=null,this.lto=null},Ms=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.level=null},Ps=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.target=null,this.state=y.Z.BUFFER_EMPTY},Ls=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.time=null,this.range=null,this.manifestInfo=null},xs=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.time=null,this.droppedFrames=null};function Xi(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}var Fs=function o(){Xi(this,o),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},ks=function o(){Xi(this,o),this.id=null,this.index=null,this.start=null,this.duration=null},Zs=function o(){Xi(this,o),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null},Us=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Bs=function o(){(function(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.loadingRequests=[],this.executedRequests=[]};function no(o){var r,c,_=(o=o||{}).settings,I=this.context,b=(0,p.Z)(I).getInstance();function h(){b.trigger(u.Z.METRICS_CHANGED)}function w(q){b.trigger(u.Z.METRIC_CHANGED,{mediaType:q}),h()}function G(q,fe,ne){b.trigger(u.Z.METRIC_UPDATED,{mediaType:q,metric:fe,value:ne}),w(q)}function H(q,fe,ne){b.trigger(u.Z.METRIC_ADDED,{mediaType:q,metric:fe,value:ne}),w(q)}function B(q,fe){var ne=null;return q&&(c.hasOwnProperty(q)?ne=c[q]:fe||(ne=new Ds,c[q]=ne)),ne}function C(q,fe,ne){var se=B(q);se!==null&&(se[fe].push(ne),se[fe].length>_.get().streaming.metrics.maxListDepth&&se[fe].shift())}function j(q,fe,ne){C(q,fe,ne),H(q,fe,ne)}return r={clearCurrentMetricsForType:function(q){delete c[q],w(q)},clearAllCurrentMetrics:function(){c={},h()},getMetricsFor:B,addHttpRequest:function q(fe,ne,se,ce,Y,ue,X,re,m,x,L,N,R,z,K,te,Q){var P=new He.w;ue&&ue!==ce&&(q(fe,null,se,ce,Y,null,null,re,m,null,null,null,R,null,null,te,Q),P.actualurl=ue),P.tcpid=ne,P.type=se,P.url=ce,P.range=re,P.trequest=m,P.tresponse=x,P.responsecode=N,P.cmsd=Q,P._tfinish=L,P._stream=fe,P._mediaduration=R,P._quality=Y,P._responseHeaders=z,P._serviceLocation=X,P._fileLoaderType=te,K?K.forEach(function(le){(function(ye,Pe,be,Ae){var Ie=new He.O;Ie.s=Pe,Ie.d=be,Ie.b=Ae,ye.trace.push(Ie),ye.interval||(ye.interval=0),ye.interval+=be})(P,le.s,le.d,le.b)}):(delete P.interval,delete P.trace),j(fe,y.Z.HTTP_REQUEST,P)},addRepresentationSwitch:function(q,fe,ne,se,ce){var Y=new Os;Y.t=fe,Y.mt=ne,Y.to=se,ce?Y.lto=ce:delete Y.lto,j(q,y.Z.TRACK_SWITCH,Y)},addBufferLevel:function(q,fe,ne){var se=new Ms;se.t=fe,se.level=ne,j(q,y.Z.BUFFER_LEVEL,se)},addBufferState:function(q,fe,ne){var se=new Ps;se.target=ne,se.state=fe,j(q,y.Z.BUFFER_STATE,se)},addDVRInfo:function(q,fe,ne,se){var ce=new Ls;ce.time=fe,ce.range=se,ce.manifestInfo=ne,j(q,y.Z.DVR_INFO,ce)},addDroppedFrames:function(q,fe){var ne=new xs,se=B(q).DroppedFrames;fe&&(ne.time=fe.creationTime,ne.droppedFrames=fe.droppedVideoFrames,se.length>0&&se[se.length-1]==ne||j(q,y.Z.DROPPED_FRAMES,ne))},addSchedulingInfo:function(q,fe,ne,se,ce,Y,ue,X,re){var m=new Us;m.mediaType=q,m.t=fe,m.type=ne,m.startTime=se,m.availabilityStartTime=ce,m.duration=Y,m.quality=ue,m.range=X,m.state=re,j(q,y.Z.SCHEDULING_INFO,m)},addRequestsQueue:function(q,fe,ne){var se=new Bs;se.loadingRequests=fe,se.executedRequests=ne,B(q).RequestsQueue=se,H(q,y.Z.REQUESTS_QUEUE,se)},addManifestUpdate:function(q,fe,ne,se,ce,Y,ue,X,re,m){var x=new Fs;x.mediaType=q,x.type=fe,x.requestTime=ne,x.fetchTime=se,x.availabilityStartTime=ce,x.presentationStartTime=Y,x.clientTimeOffset=ue,x.currentTime=X,x.buffered=re,x.latency=m,C(t.Z.STREAM,y.Z.MANIFEST_UPDATE,x),H(q,y.Z.MANIFEST_UPDATE,x)},updateManifestUpdateInfo:function(q,fe){if(q){for(var ne in fe)q[ne]=fe[ne];G(q.mediaType,y.Z.MANIFEST_UPDATE,q)}},addManifestUpdateStreamInfo:function(q,fe,ne,se,ce){if(q){var Y=new ks;Y.id=fe,Y.index=ne,Y.start=se,Y.duration=ce,q.streamInfo.push(Y),G(q.mediaType,y.Z.MANIFEST_UPDATE_STREAM_INFO,q)}},addManifestUpdateRepresentationInfo:function(q,fe,ne,se,ce,Y,ue,X){if(q&&q.representationInfo){var re=new Zs;re.id=fe,re.index=ne,re.streamIndex=se,re.mediaType=ce,re.startNumber=ue,re.fragmentInfoType=X,re.presentationTimeOffset=Y,q.representationInfo.push(re),G(q.mediaType,y.Z.MANIFEST_UPDATE_TRACK_INFO,q)}},addPlayList:function(q){q.trace&&Array.isArray(q.trace)?q.trace.forEach(function(fe){fe.hasOwnProperty("subreplevel")&&!fe.subreplevel&&delete fe.subreplevel}):delete q.trace,j(t.Z.STREAM,y.Z.PLAY_LIST,q)},addDVBErrors:function(q){j(t.Z.STREAM,y.Z.DVB_ERRORS,q)}},c={},r}no.__dashjs_factory_name="MetricsModel";var Gs=g.Z.getSingletonFactory(no);function ro(o){o=o||{};var r,c,_,I,b=this.context,h=o.metricsModel;function w(B){var C=h.getMetricsFor(B,!0);if(!C)return null;var j,q=C.HttpList,fe=null;if(!q||q.length<=0)return null;for(j=q.length-1;j>=0;){if(q[j].responsecode){fe=q[j];break}j--}return fe}function G(B){var C=h.getMetricsFor(B,!0);return C&&C.HttpList?C.HttpList:[]}function H(B,C){if(!B)return null;var j=B[C];return j&&j.length!==0?j[j.length-1]:null}return r={getCurrentRepresentationSwitch:function(B){return H(h.getMetricsFor(B,!0),y.Z.TRACK_SWITCH)},getCurrentBufferState:function(B){return H(h.getMetricsFor(B,!0),y.Z.BUFFER_STATE)},getCurrentBufferLevel:function(B){var C=H(h.getMetricsFor(B,!0),y.Z.BUFFER_LEVEL);return C?Cs.round10(C.level/1e3,-3):0},getCurrentHttpRequest:w,getHttpRequests:G,getCurrentDroppedFrames:function(){return H(h.getMetricsFor(t.Z.VIDEO,!0),y.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(B){return H(h.getMetricsFor(B,!0),y.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(B){return H(B?h.getMetricsFor(B,!0):h.getMetricsFor(t.Z.VIDEO,!0)||h.getMetricsFor(t.Z.AUDIO,!0),y.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return H(h.getMetricsFor(t.Z.STREAM),y.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(B,C){if(!C)return null;var j={},q=w(B);q&&(j=sn.Z.parseHttpHeaders(q._responseHeaders));var fe=j[C.toLowerCase()];return fe===void 0?null:fe},getLatestMPDRequestHeaderValueByID:function(B){if(!B)return null;var C,j,q,fe={};for(q=(C=G(t.Z.STREAM)).length-1;q>=0;q--)if((j=C[q]).type===He.w.MPD_TYPE){fe=sn.Z.parseHttpHeaders(j._responseHeaders);break}var ne=fe[B.toLowerCase()];return ne===void 0?null:ne},addRepresentationSwitch:function(B,C,j,q,fe){h.addRepresentationSwitch(B,C,j,q,fe)},addDVRInfo:function(B,C,j,q){h.addDVRInfo(B,C,j,q)},updateManifestUpdateInfo:function(B){var C=this.getCurrentManifestUpdate();h.updateManifestUpdateInfo(C,B)},addManifestUpdateStreamInfo:function(B){if(B){var C=this.getCurrentManifestUpdate();h.addManifestUpdateStreamInfo(C,B.id,B.index,B.start,B.duration)}},addManifestUpdateRepresentationInfo:function(B,C){if(B){var j=this.getCurrentManifestUpdate();h.addManifestUpdateRepresentationInfo(j,B.id,B.index,B.streamIndex,C,B.presentationTimeOffset,B.startNumber,B.fragmentInfoType)}},addManifestUpdate:function(B){h.addManifestUpdate(t.Z.STREAM,B.type,B.requestStartDate,B.requestEndDate)},addHttpRequest:function(B,C,j,q,fe,ne){h.addHttpRequest(B.mediaType,null,B.type,B.url,B.quality,C,B.serviceLocation||null,B.range||null,B.requestStartDate,B.firstByteDate,B.requestEndDate,j,B.duration,q,fe,B.fileLoaderType,ne)},addSchedulingInfo:function(B,C){h.addSchedulingInfo(B.mediaType,new Date,B.type,B.startTime,B.availabilityStartTime,B.duration,B.quality,B.range,C)},addRequestsQueue:function(B,C,j){h.addRequestsQueue(B,C,j)},addBufferLevel:function(B,C,j){h.addBufferLevel(B,C,j)},addBufferState:function(B,C,j){h.addBufferState(B,C,j)},addDroppedFrames:function(B){h.addDroppedFrames(t.Z.VIDEO,B)},addPlayList:function(){I&&(h.addPlayList(I),I=null)},addDVBErrors:function(B){h.addDVBErrors(B)},createPlaylistMetrics:function(B,C){(I=new Se).start=new Date,I.mstart=B,I.starttype=C},createPlaylistTraceMetrics:function(B,C,j){c===!0&&(c=!1,(_=new Ne).representationid=B,_.start=new Date,_.mstart=C,_.playbackspeed=j!==null?j.toString():null)},updatePlayListTraceMetrics:function(B){if(_)for(var C in _)_[C]=B[C]},pushPlayListTraceMetrics:function(B,C){if(c===!1&&I&&_&&_.start){var j=_.start,q=B.getTime()-j.getTime();_.duration=q,_.stopreason=C,I.trace.push(_),c=!0}},clearAllCurrentMetrics:function(){h.clearAllCurrentMetrics()}},h=h||Gs(b).getInstance({settings:o.settings}),c=!0,_=null,I=null,r}ro.__dashjs_factory_name="DashMetrics";var qs=g.Z.getSingletonFactory(ro);function io(){var o,r,c,_,I=this.context,b=(0,p.Z)(I).getInstance(),h=(0,Ce.Z)(I).getInstance();function w(ce){_=ce}function G(ce,Y,ue,X){var re,m=Y.adaptation.period.mpd,x=m.availabilityStartTime;if(X)re=ue&&m.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(x.getTime()+1e3*(ce+m.timeShiftBufferDepth)):m.availabilityEndTime;else if(ue){var L=Y.availabilityTimeOffset;re=new Date(x.getTime()+1e3*(ce-L))}else re=x;return re}function H(ce,Y){return(ce.getTime()-Y.mpd.availabilityStartTime.getTime()+1e3*_)/1e3}function B(ce,Y){return ce+(Y.adaptation.period.start-Y.presentationTimeOffset)}function C(ce){var Y={start:NaN,end:NaN},ue=ce[0].getAdapter().getRegularPeriods()[0],X=H(new Date,ue);if(!ce||ce.length===0)return{range:Y,now:X};ce.forEach(function(m){var x=m.getAdapter(),L=x.getMediaInfoForType(m.getStreamInfo(),t.Z.VIDEO)||x.getMediaInfoForType(m.getStreamInfo(),t.Z.AUDIO),N=x.getVoRepresentations(L)[0],R={start:NaN,end:NaN};if(N)if(N.segmentInfoType===e.Z.SEGMENT_TIMELINE)R=function(K){var te,Q,P,le,ye=K.adaptation.period.mpd.manifest.Period_asArray[K.adaptation.period.index].AdaptationSet_asArray[K.adaptation.index],Pe=r.getRepresentationFor(K.index,ye),be=Pe.SegmentTemplate||Pe.SegmentList,Ae=be.SegmentTimeline,Ie=be.timescale,st=Ae.S_asArray,ut={start:0,end:0},rt=st[0].t,nt=!isNaN(rt),Ot=nt?rt:0,Te=0;for(nt&&(ut.start=B(Ot/Ie,K)),P=0,le=st.length;P<le;P++)Q=0,(te=st[P]).hasOwnProperty("r")&&(Q=te.r),Te+=te.d*(1+Q);return ut.end=B((Ot+Te)/Ie,K),ut}(N);else{var z=N.adaptation.period;R.start=z.start,R.end=Math.max(X,z.start+z.duration)}!isNaN(R.start)&&(isNaN(Y.start)||Y.start>R.start)&&(Y.start=R.start),!isNaN(R.end)&&(isNaN(Y.end)||Y.end<R.end)&&(Y.end=R.end)}),Y.end=Math.min(X,Y.end);var re=q(ce,Y.end,!0);return Y.end=isNaN(re)?Y.end:re,Y.start=ue&&ue.mpd&&ue.mpd.timeShiftBufferDepth&&!isNaN(ue.mpd.timeShiftBufferDepth)&&!isNaN(Y.end)?Math.max(Y.end-ue.mpd.timeShiftBufferDepth,Y.start):Y.start,Y.start=q(ce,Y.start),{range:Y,now:X}}function j(ce,Y){c=ce-Y.end}function q(ce,Y){var ue=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var X=0,re=!1,m=NaN;!re&&X<ce.length;){var x=ce[X].getStreamInfo();x.start<=Y&&(!isFinite(x.duration)||x.start+x.duration>=Y)?(m=Y,re=!0):!ue&&x.start>Y&&(isNaN(m)||x.start<m)?m=x.start:ue&&x.start+x.duration<Y&&(isNaN(m)||x.start+x.duration>m)&&(m=x.start+x.duration),X+=1}return m}catch{return Y}}function fe(ce){ce.offset===void 0||isNaN(ce.offset)||w(ce.offset/1e3)}function ne(){_=0,c=0}function se(){b.off(u.Z.UPDATE_TIME_SYNC_OFFSET,fe,this),ne()}return o={initialize:function(){ne(),b.on(u.Z.UPDATE_TIME_SYNC_OFFSET,fe,this)},getClientTimeOffset:function(){return _},setClientTimeOffset:w,getClientReferenceTime:function(){return Date.now()-1e3*c+1e3*_},calcAvailabilityStartTimeFromPresentationTime:function(ce,Y,ue){return G(ce,Y,ue)},calcAvailabilityEndTimeFromPresentationTime:function(ce,Y,ue){return G(ce,Y,ue,!0)},calcPresentationTimeFromWallTime:H,calcPresentationTimeFromMediaTime:B,calcPeriodRelativeTimeFromMpdRelativeTime:function(ce,Y){return Y-ce.adaptation.period.start},calcMediaTimeFromPresentationTime:function(ce,Y){return ce-Y.adaptation.period.start+Y.presentationTimeOffset},calcWallTimeForSegment:function(ce,Y){var ue,X,re;return Y&&(ue=ce.representation.adaptation.period.mpd.suggestedPresentationDelay,X=ce.presentationStartTime+ue,re=new Date(ce.availabilityStartTime.getTime()+1e3*X)),re},calcTimeShiftBufferWindow:function(ce,Y){if(!Y)return function(X){var re={start:NaN,end:NaN},m=0,x=NaN;return X.forEach(function(L){var N=L.getStreamInfo();m+=N.duration,(isNaN(x)||N.start<x)&&(x=N.start)}),re.start=x,re.end=x+m,re}(ce);if(h.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var ue=C(ce);return j(ue.now,ue.range),ue.range}return function(X){var re={start:NaN,end:NaN};if(!X||X.length===0)return re;var m=X[0].getAdapter().getRegularPeriods()[0],x=H(new Date,m),L=m.mpd.timeShiftBufferDepth,N=isNaN(L)?0:x-L;if(re.start=q(X,N),re.end=!isNaN(re.start)&&x<re.start?x:q(X,x,!0),!isNaN(L)&&re.end<x-L&&(re.end=NaN),h.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var R=C(X);if(R.range.end<re.start)return b.trigger(n.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.WARNING,event:Dr.EVENTS.INVALID_DVR_WINDOW}),j(R.now,R.range),R.range}return re}(ce)},reset:se},r=$t(I).getInstance(),se(),o}io.__dashjs_factory_name="TimelineConverter";var Ys=g.Z.getSingletonFactory(io),Qi=O(4593),vi=O(6934);function Ji(o){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ji(o)}function $i(o,r){return $i=Object.setPrototypeOf||function(c,_){return c.__proto__=_,c},$i(o,r)}function js(o,r){return!r||Ji(r)!=="object"&&typeof r!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):r}function _i(o){return _i=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_i(o)}var Hs=function(o){(function(b,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(h&&h.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),h&&$i(b,h)})(I,o);var r,c,_=(r=I,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,h=_i(r);if(c){var w=_i(this).constructor;b=Reflect.construct(h,arguments,w)}else b=h.apply(this,arguments);return js(this,b)});function I(){var b;return function(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}(this,I),(b=_.call(this)).captionData=null,b.label=null,b.defaultTrack=!1,b.kind=null,b.isFragmented=!1,b.isEmbedded=!1,b.isTTML=null,b}return I}(Wi),Vs=O(2295);function ao(){var o=0;function r(w){for(var G="",H=0;H<w.length;++H)G+=w[H].uchar;return G.length-G.replace(/^\s+/,"").length}function c(w){return"left: "+3.125*w.x+"%; top: "+6.66*w.y1+"%; width: "+(100-3.125*w.x)+"%; height: "+6.66*Math.max(w.y2-1-w.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function _(w){return w==="red"?"rgb(255, 0, 0)":w==="green"?"rgb(0, 255, 0)":w==="blue"?"rgb(0, 0, 255)":w==="cyan"?"rgb(0, 255, 255)":w==="magenta"?"rgb(255, 0, 255)":w==="yellow"?"rgb(255, 255, 0)":w==="white"?"rgb(255, 255, 255)":w==="black"?"rgb(0, 0, 0)":w}function I(w,G){var H=w.videoHeight/15;return G?"font-size: "+H+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(G.foreground?_(G.foreground):"rgb(255, 255, 255)")+"; font-style: "+(G.italics?"italic":"normal")+"; text-decoration: "+(G.underline?"underline":"none")+"; white-space: pre; background-color: "+(G.background?_(G.background):"transparent")+";":"font-size: "+H+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function b(w){return w.replace(/^\s+/g,"")}function h(w){return w.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(w,G,H,B){var C,j,q=null,fe=!1,ne=-1,se={start:G,end:H,spans:[]},ce="style_cea608_white_black",Y={},ue={},X=[];for(C=0;C<15;++C){var re=B.rows[C],m="",x=null;if(re.isEmpty()===!1){var L=r(re.chars);q===null&&(q={x:L,y1:C,y2:C+1,p:[]}),L!==ne&&fe&&(q.p.push(se),se={start:G,end:H,spans:[]},q.y2=C,q.name="region_"+q.x+"_"+q.y1+"_"+q.y2,Y.hasOwnProperty(q.name)===!1?(X.push(q),Y[q.name]=q):Y[q.name].p.contat(q.p),q={x:L,y1:C,y2:C+1,p:[]});for(var N=0;N<re.chars.length;++N){var R=re.chars[N],z=R.penState;if(x===null||!z.equals(x)){m.trim().length>0&&(se.spans.push({name:ce,line:m,row:C}),m="");var K="style_cea608_"+z.foreground+"_"+z.background;z.underline&&(K+="_underline"),z.italics&&(K+="_italics"),ue.hasOwnProperty(K)||(ue[K]=JSON.parse(JSON.stringify(z))),x=z,ce=K}m+=R.uchar}m.trim().length>0&&se.spans.push({name:ce,line:m,row:C}),fe=!0,ne=L}else fe=!1,ne=-1,q&&(q.p.push(se),se={start:G,end:H,spans:[]},q.y2=C,q.name="region_"+q.x+"_"+q.y1+"_"+q.y2,Y.hasOwnProperty(q.name)===!1?(X.push(q),Y[q.name]=q):Y[q.name].p.contat(q.p),q=null)}q&&(q.p.push(se),q.y2=C+1,q.name="region_"+q.x+"_"+q.y1+"_"+q.y2,Y.hasOwnProperty(q.name)===!1?(X.push(q),Y[q.name]=q):Y[q.name].p.contat(q.p),q=null);var te=[];for(C=0;C<X.length;++C){var Q=X[C],P="sub_cea608_"+o++,le=document.createElement("div");le.id=P;var ye=c(Q);le.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ye;var Pe=document.createElement("div");Pe.className="paragraph bodyStyle",Pe.style.cssText=I(w);var be=document.createElement("div");be.className="cueUniWrapper",be.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ae=0;Ae<Q.p.length;++Ae){var Ie=Q.p[Ae],st=0;for(j=0;j<Ie.spans.length;++j){var ut=Ie.spans[j];if(ut.line.length>0){if(j!==0&&st!=ut.row){var rt=document.createElement("br");rt.className="lineBreak",be.appendChild(rt)}var nt=!1;st===ut.row&&(nt=!0),st=ut.row;var Ot=ue[ut.name],Te=document.createElement("span");Te.className="spanPadding "+ut.name+" customSpanColor",Te.style.cssText=I(w,Ot),j!==0&&nt?j===Ie.spans.length-1?Te.textContent=h(ut.line):Te.textContent=ut.line:Ie.spans.length>1&&j<Ie.spans.length-1&&ut.row===Ie.spans[j+1].row?Te.textContent=b(ut.line):Te.textContent=ut.line.trim(),be.appendChild(Te)}}}Pe.appendChild(be),le.appendChild(Pe);var ke={bodyStyle:["%",90]};for(var me in ue)ue.hasOwnProperty(me)&&(ke[me]=["%",90]);te.push({type:"html",start:G,end:H,cueHTMLElement:le,cueID:P,cellResolution:[32,15],isFromCEA608:!0,fontSize:ke,lineHeight:{},linePadding:{}})}return te}}}ao.__dashjs_factory_name="EmbeddedTextHtmlRender";var Ks=g.Z.getSingletonFactory(ao);function oo(o){var r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y=o.errHandler,ue=o.manifestModel,X=o.mediaController,re=o.videoModel,m=o.textTracks,x=o.vttParser,L=o.vttCustomRenderingParser,N=o.ttmlParser,R=o.streamInfo,z=o.settings,K=this.context,te=(0,p.Z)(K).getInstance(),Q=!1;function P(){h=null,G=NaN,H=[],B=null,w=!1,b=[],I=null}function le(rt){var nt=new Hs;for(var Ot in rt)nt[Ot]=rt[Ot];nt.labels=rt.labels,nt.defaultTrack=function(Te){var ke=!1;return j.length>1&&Te.isEmbedded?ke=Te.id&&Te.id===t.Z.CC1:j.length===1?Te.id&&typeof Te.id=="string"&&Te.id.substring(0,2)==="CC"&&(ke=!0):j.length===0&&(ke=Te.index===b[0].index),ke}(rt),nt.isFragmented=rt.isFragmented,nt.isEmbedded=!!rt.isEmbedded,nt.isTTML=function(Te){return Te.codec&&Te.codec.search(t.Z.STPP)>=0||Te.mimeType&&Te.mimeType.search(t.Z.TTML)>=0}(rt),nt.kind=function(Te,ke){var me=Te.roles&&Te.roles.length>0?ke[Te.roles[0]]:ke.caption;return me=me===ke.caption||me===ke.subtitle?me:ke.caption}(rt,{subtitle:"subtitles",caption:"captions"}),m.addTextTrack(nt)}function ye(rt){var nt=rt.chunk;nt.mediaInfo.embeddedCaptions&&be(nt.bytes,nt)}function Pe(rt){C=rt}function be(rt,nt){var Ot=nt.mediaInfo,Te=Ot.type,ke=Ot.mimeType,me=Ot.codec||ke;me?Ot.codec.indexOf("application/mp4")!==-1?function(pe,De,xe){var Ze;if(De.segmentType==="InitializationSegment")w=!0,G=_.getMediaTimescaleFromMoov(pe);else{if(!w)return;(Ze=_.getSamplesInfo(pe).sampleList).length>0&&(B=Ze[0].cts-De.start*G),xe.search(t.Z.STPP)>=0?function(mt,dt,Pt){var zt,Yt;for(I=I!==null?I:st(Pt),zt=0;zt<dt.length;zt++){var jt=dt[zt],Vt=jt.cts,Wt=Ie(),Qt=Wt+Vt/G,en=Qt+jt.duration/G;r.buffered.add(Qt,en);var fn=new DataView(mt,jt.offset,jt.subSizes[0]),on=vi.Utils.dataViewToString(fn,t.Z.UTF8),cn=[],lt=jt.offset+jt.subSizes[0];for(Yt=1;Yt<jt.subSizes.length;Yt++){var Zt=new Uint8Array(mt,lt,jt.subSizes[Yt]),Gt=String.fromCharCode.apply(null,Zt);cn.push(Gt),lt+=jt.subSizes[Yt]}try{var kt=ue.getValue().ttmlTimeIsRelative?Vt/G:0,ze=I.parse(on,kt,Vt/G,(Vt+jt.duration)/G,cn);m.addCaptions(C,Wt,ze)}catch(ht){h.removeExecutedRequestsBeforeTime(),this.remove(),c.error("TTML parser error: "+ht.message)}}}(pe,Ze,xe):function(mt,dt){var Pt,zt,Yt,jt=[];for(Pt=0;Pt<dt.length;Pt++){var Vt=dt[Pt];Vt.cts-=B;var Wt=Ie()+Vt.cts/G,Qt=Wt+Vt.duration/G;r.buffered.add(Wt,Qt);var en=mt.slice(Vt.offset,Vt.offset+Vt.size),fn=vi.parseBuffer(en);for(zt=0;zt<fn.boxes.length;zt++){var on=fn.boxes[zt];if(c.debug("VTT box1: "+on.type),on.type!=="vtte"&&on.type==="vttc"){c.debug("VTT vttc boxes.length = "+on.boxes.length);var cn={styles:{}};for(Yt=0;Yt<on.boxes.length;Yt++){var lt=on.boxes[Yt];if(c.debug("VTT box2: "+lt.type),lt.type==="payl")cn.start=Vt.cts/G,cn.end=(Vt.cts+Vt.duration)/G,cn.data=lt.cue_text;else if(lt.type==="sttg"&&lt.settings&&lt.settings!=="")try{var Zt=lt.settings.split(" ");cn.styles=x.getCaptionStyles(Zt)}catch{}}cn&&cn.data&&(jt.push(cn),c.debug("VTT  ".concat(cn.start," - ").concat(cn.end," :  ").concat(cn.data)))}}}jt.length>0&&m.addCaptions(C,0,jt)}(pe,Ze)}}(rt,nt,me):Te===t.Z.VIDEO?function(pe,De){var xe,Ze;if(De.segmentType===He.w.INIT_SEGMENT_TYPE)q===0&&(q=_.getMediaTimescaleFromMoov(pe));else if(De.segmentType===He.w.MEDIA_SEGMENT_TYPE){if(q===0)return void c.warn("CEA-608: No timescale for embeddedTextTrack yet");var mt=(Ze=_.getSamplesInfo(pe)).lastSequenceNumber,dt=Math.trunc(De.start),Pt=Math.trunc(De.end);if(se[0]||se[1]||function(){for(var Wt,Qt=0;Qt<j.length;Qt++){if((Wt=m.getTrackIdxForId(j[Qt].id))===-1)return void c.warn("CEA-608: data before track is ready.");var en=Ae(Wt);se[Qt]=new(S()).Cea608Parser(Qt+1,{newCue:en},null)}}(),q){if(function(Wt,Qt,en,fn,on){return Wt!==null&&Qt!==null&&fn!==null&&on!==null&&(Qt===Wt?fn!==on:Qt!==Wt+en)}(fe,mt,Ze.numSequences,ne,dt))for(xe=0;xe<se.length;xe++)se[xe]&&se[xe].reset();for(var zt=function(Wt,Qt){if(Qt.length===0)return null;for(var en={splits:[],fields:[[],[]]},fn=new DataView(Wt),on=0;on<Qt.length;on++)for(var cn=Qt[on],lt=S().findCea608Nalus(fn,cn.offset,cn.size),Zt=null,Gt=0,kt=0;kt<lt.length;kt++)for(var ze=S().extractCea608DataFromRange(fn,lt[kt]),ht=0;ht<2;ht++)if(ze[ht].length>0){cn.cts!==Zt?Gt=0:Gt+=1;var je=Ie();en.fields[ht].push([cn.cts+je*q,ze[ht],Gt]),Zt=cn.cts}return en.fields.forEach(function(Re){Re.sort(function(ae,Fe){return ae[0]===Fe[0]?ae[2]-Fe[2]:ae[0]-Fe[0]})}),en}(pe,Ze.sampleList),Yt=0;Yt<se.length;Yt++){var jt=zt.fields[Yt],Vt=se[Yt];if(Vt)for(xe=0;xe<jt.length;xe++)Vt.addData(jt[xe][0]/q,jt[xe][1])}fe=mt,ne=Pt}}}(rt,nt):function(pe,De,xe){var Ze,mt,dt=new DataView(pe,0,pe.byteLength);mt=vi.Utils.dataViewToString(dt,t.Z.UTF8);try{Ze=st(xe).parse(mt,0),m.addCaptions(m.getCurrentTrackIdx(),0,Ze),r.buffered&&r.buffered.add(De.start,De.end)}catch(Pt){Y.error(new U.Z(oe.TIMED_TEXT_ERROR_ID_PARSE_CODE,oe.TIMED_TEXT_ERROR_MESSAGE_PARSE+Pt.message,mt))}}(rt,nt,me):c.error("No text type defined")}function Ae(rt){return function(nt,Ot,Te){var ke;(ke=re.getTTMLRenderingDiv()?ce.createHTMLCaptionsFromScreen(re.getElement(),nt,Ot,Te):[{start:nt,end:Ot,data:Te.getDisplayText(),styles:{}}])&&m.addCaptions(rt,0,ke)}}function Ie(){return isNaN(r.timestampOffset)?0:r.timestampOffset}function st(rt){var nt;return rt.search(t.Z.VTT)>=0?nt=z.get().streaming.text.webvtt.customRenderingEnabled&&L?L:x:(rt.search(t.Z.TTML)>=0||rt.search(t.Z.STPP)>=0)&&(nt=N),nt}function ut(rt){j.forEach(function(nt){var Ot=m.getTrackIdxForId(nt.id);Ot>=0&&m.deleteCuesFromTrackIdx(Ot,rt.from,rt.to)})}return r={initialize:function(){Q||(j=[],C=null,q=0,se=[],fe=null,ne=null,Q=!0,ce=Ks(K).getInstance(),te.on(u.Z.VIDEO_CHUNK_RECEIVED,ye,r),te.on(u.Z.BUFFER_CLEARED,ut,r))},addMediaInfos:function(rt,nt,Ot){if(b=b.concat(nt),rt===t.Z.TEXT&&nt[0].isFragmented&&!nt[0].isEmbedded){h=Ot,r.buffered=(0,Vs.Z)(K).create(),H=X.getTracksFor(t.Z.TEXT,R.id).filter(function(pe){return pe.isFragmented});for(var Te=X.getCurrentTrackFor(t.Z.TEXT,R.id),ke=0;ke<H.length;ke++)if(H[ke]===Te){Pe(ke);break}}for(var me=0;me<nt.length;me++)le(nt[me])},resetMediaInfos:function(){b=[]},getStreamId:function(){return R.id},append:be,abort:function(){},addEmbeddedTrack:function(rt){if(Q&&rt)if(rt.id===t.Z.CC1||rt.id===t.Z.CC3){for(var nt=0;nt<j.length;nt++)if(j[nt].id===rt.id)return;j.push(rt)}else c.warn("Embedded track "+rt.id+" not supported!")},resetEmbedded:function(){te.off(u.Z.VIDEO_CHUNK_RECEIVED,ye,r),te.off(u.Z.BUFFER_CLEARED,ut,r),m&&m.deleteAllTextTracks(),Q=!1,j=[],se=[null,null],fe=null,ne=null},getConfig:function(){return{fragmentModel:h,fragmentedTracks:H,videoModel:re}},setCurrentFragmentedTrackIdx:Pe,remove:function(rt,nt){rt===void 0&&rt===nt&&(rt=r.buffered.start(0),nt=r.buffered.end(r.buffered.length-1)),r.buffered.remove(rt,nt),m.deleteCuesFromTrackIdx(C,rt,nt)},reset:function(){P(),b=[],_=null}},c=(0,E.Z)(K).getInstance().getLogger(r),_=(0,Yr.Z)(K).getInstance(),P(),r}oo.__dashjs_factory_name="TextSourceBuffer";var zs=g.Z.getClassFactory(oo),ea=O(4403);function so(o,r){(r==null||r>o.length)&&(r=o.length);for(var c=0,_=new Array(r);c<r;c++)_[c]=o[c];return _}var Ws=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function uo(o){var r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue=this.context,X=(0,p.Z)(ue).getInstance(),re=o.videoModel,m=o.streamInfo,x=o.settings;function L(me,pe,De,xe,Ze,mt){var dt=0,Pt=0;me/pe>De/xe?dt=(Pt=pe)/xe*De:Pt=(dt=me)/De*xe;var zt,Yt,jt=0,Vt=0;return dt/Pt>Ze?(Vt=Pt,jt=Pt*Ze):(jt=dt,Vt=dt/Ze),zt=(me-jt)/2,Yt=(pe-Vt)/2,mt?{x:zt+.1*jt,y:Yt+.1*Vt,w:.8*jt,h:.8*Vt}:{x:zt,y:Yt,w:jt,h:Vt}}function N(me,pe){var De=re.getClientWidth(),xe=re.getClientHeight(),Ze=re.getVideoWidth(),mt=re.getVideoHeight(),dt=re.getVideoRelativeOffsetTop(),Pt=re.getVideoRelativeOffsetLeft();if(Ze!==0&&mt!==0){var zt=Ze/mt,Yt=!1;me.isFromCEA608&&(zt=1.1666666666666667,Yt=!0);var jt=L.call(this,De,xe,Ze,mt,zt,Yt),Vt=jt.w,Wt=jt.h,Qt=jt.x,en=jt.y;if(Vt!=H||Wt!=B||Qt!=w||en!=G||pe){if(w=Qt+Pt,G=en+dt,H=Vt,B=Wt,C){var fn=C.style;fn&&(fn.left=w+"px",fn.top=G+"px",fn.width=H+"px",fn.height=B+"px",fn.zIndex=fe&&document[fe]||ne?ce:null,X.trigger(n.Z.CAPTION_CONTAINER_RESIZE))}var on=me.activeCues;if(on)for(var cn=on.length,lt=0;lt<cn;++lt){var Zt=on[lt];Zt.scaleCue(Zt)}}}}function R(me){var pe,De,xe,Ze,mt,dt=H,Pt=B;if(me.cellResolution){var zt=[dt/me.cellResolution[0],Pt/me.cellResolution[1]];if(me.linePadding){for(pe in me.linePadding)if(me.linePadding.hasOwnProperty(pe)){De=(me.linePadding[pe]*zt[0]).toString();for(var Yt=document.getElementsByClassName("spanPadding"),jt=0;jt<Yt.length;jt++)Yt[jt].style.cssText=Yt[jt].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De),Yt[jt].style.cssText=Yt[jt].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De)}}if(me.fontSize){for(pe in me.fontSize)if(me.fontSize.hasOwnProperty(pe)){me.fontSize[pe][0]==="%"?xe=me.fontSize[pe][1]/100:me.fontSize[pe][0]==="c"&&(xe=me.fontSize[pe][1]),De=(xe*zt[1]).toString(),mt=pe!=="defaultFontSize"?document.getElementsByClassName(pe):document.getElementsByClassName("paragraph");for(var Vt=0;Vt<mt.length;Vt++)mt[Vt].style.cssText=mt[Vt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De)}if(me.lineHeight){for(pe in me.lineHeight)if(me.lineHeight.hasOwnProperty(pe)){me.lineHeight[pe][0]==="%"?Ze=me.lineHeight[pe][1]/100:me.fontSize[pe][0]==="c"&&(Ze=me.lineHeight[pe][1]),De=(Ze*zt[1]).toString(),mt=document.getElementsByClassName(pe);for(var Wt=0;Wt<mt.length;Wt++)mt[Wt].style.cssText=mt[Wt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+De)}}}}if(me.isd){var Qt=document.getElementById(me.cueID);Qt&&C.removeChild(Qt),K(me)}}function z(me,pe){var De=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,xe=/^#(.*)$/;if(De.test(pe)){var Ze=De.exec(pe),mt=parseInt(Ze[4],10)-1;return"data:image/png;base64,"+btoa(me.images[mt])}if(xe.test(pe)){var dt=xe.exec(pe)[1];return"data:image/png;base64,"+me.embeddedImages[dt]}return pe}function K(me){if(C){var pe=document.createElement("div");C.appendChild(pe),se=(0,ea.renderHTML)(me.isd,pe,function(De){return z(me,De)},C.clientHeight,C.clientWidth,!1,function(De){c.info("renderCaption :",De)},se,!0),pe.id=me.cueID,X.trigger(n.Z.CAPTION_RENDERED,{captionDiv:pe,currentTrackIdx:h})}}function te(me,pe){if(!x.get().streaming.text.extendSegmentedCues||!pe.cues||pe.cues.length===0)return!1;var De=pe.cues[pe.cues.length-1];return!(De.endTime<me.startTime||!function(xe,Ze,mt){for(var dt=0;dt<mt.length;dt++){var Pt=mt[dt];if(JSON.stringify(xe[Pt])!==JSON.stringify(Ze[Pt]))return!1}return!0}(De,me,Ws)||(De.endTime=Math.max(De.endTime,me.endTime),0))}function Q(me,pe){pe&&pe.forEach(function(De){De.kind&&De.kind==="image"&&(De.src=z(me,De.src)),Q(me,De.contents)})}function P(me,pe,De){var xe=Ae(me);if(xe&&Array.isArray(De)&&De.length!==0)for(var Ze=0;Ze<De.length;Ze++){var mt=void 0,dt=De[Ze];xe.cellResolution=dt.cellResolution,xe.isFromCEA608=dt.isFromCEA608,isNaN(dt.start)||isNaN(dt.end)||(mt=dt.type==="html"&&C?le(dt,pe,xe):dt.data?ye(dt,pe,xe):null);try{mt?ut(xe,mt)||(x.get().streaming.text.webvtt.customRenderingEnabled?(xe.manualCueList||(xe.manualCueList=[]),xe.manualCueList.push(mt)):te(mt,xe)||xe.addCue(mt)):c.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(Pt){throw nt(xe),xe.addCue(mt),Pt}}}function le(me,pe,De){var xe=this,Ze=new _(me.start+pe,me.end+pe,"");return Ze.cueHTMLElement=me.cueHTMLElement,Ze.isd=me.isd,Ze.images=me.images,Ze.embeddedImages=me.embeddedImages,Ze.cueID=me.cueID,Ze.scaleCue=R.bind(xe),Ze.cellResolution=me.cellResolution,Ze.lineHeight=me.lineHeight,Ze.linePadding=me.linePadding,Ze.fontSize=me.fontSize,C.style.left=w+"px",C.style.top=G+"px",C.style.width=H+"px",C.style.height=B+"px",Ze.isd&&Q(Ze,Ze.isd.contents),Ze.onenter=function(){De.mode===t.Z.TEXT_SHOWING&&(this.isd?(K(this),c.debug("Cue enter id:"+this.cueID)):(C.appendChild(this.cueHTMLElement),R.call(xe,this),X.trigger(n.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:h})))},Ze.onexit=function(){if(C)for(var mt=C.childNodes,dt=0;dt<mt.length;++dt)mt[dt].id===this.cueID&&(c.debug("Cue exit id:"+mt[dt].id),C.removeChild(mt[dt]),--dt)},Ze}function ye(me,pe,De){var xe=new _(me.start-pe,me.end-pe,me.data);if(xe.cueID="".concat(xe.startTime,"_").concat(xe.endTime),xe.isActive=!1,me.styles)try{me.styles.align!==void 0&&"align"in xe&&(xe.align=me.styles.align),me.styles.line!==void 0&&"line"in xe&&(xe.line=me.styles.line),me.styles.snapToLines!==void 0&&"snapToLines"in xe&&(xe.snapToLines=me.styles.snapToLines),me.styles.position!==void 0&&"position"in xe&&(xe.position=me.styles.position),me.styles.size!==void 0&&"size"in xe&&(xe.size=me.styles.size)}catch(Ze){c.error(Ze)}return xe.onenter=function(){De.mode===t.Z.TEXT_SHOWING&&X.trigger(n.Z.CAPTION_RENDERED,{currentTrackIdx:h})},xe}function Pe(me){if(j)for(var pe=j.childNodes,De=0;De<pe.length;++De)pe[De].id===me.cueID&&(j.removeChild(pe[De]),--De)}function be(){var me,pe=[],De=function(Ze,mt){var dt;if(typeof Symbol>"u"||Ze[Symbol.iterator]==null){if(Array.isArray(Ze)||(dt=function(Wt,Qt){if(Wt){if(typeof Wt=="string")return so(Wt,Qt);var en=Object.prototype.toString.call(Wt).slice(8,-1);return en==="Object"&&Wt.constructor&&(en=Wt.constructor.name),en==="Map"||en==="Set"?Array.from(Wt):en==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(en)?so(Wt,Qt):void 0}}(Ze))||mt&&Ze&&typeof Ze.length=="number"){dt&&(Ze=dt);var Pt=0,zt=function(){};return{s:zt,n:function(){return Pt>=Ze.length?{done:!0}:{done:!1,value:Ze[Pt++]}},e:function(Wt){throw Wt},f:zt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Yt,jt=!0,Vt=!1;return{s:function(){dt=Ze[Symbol.iterator]()},n:function(){var Wt=dt.next();return jt=Wt.done,Wt},e:function(Wt){Vt=!0,Yt=Wt},f:function(){try{jt||dt.return==null||dt.return()}finally{if(Vt)throw Yt}}}}(re.getTextTracks());try{for(De.s();!(me=De.n()).done;){var xe=me.value;xe.manualMode===t.Z.TEXT_SHOWING&&pe.push(xe)}}catch(Ze){De.e(Ze)}finally{De.f()}return pe}function Ae(me){return me>=0&&I[me]?re.getTextTrack(I[me].kind,I[me].id,I[me].lang,I[me].isTTML,I[me].isEmbedded):null}function Ie(me){var pe=this;if(me!==h){var De=Ae(h=me);st.call(this,De),q&&(clearInterval(q),q=null),De&&De.renderingType==="html"&&(N.call(this,De,!0),window.ResizeObserver?(Y=new window.ResizeObserver(function(){N.call(pe,De,!0)})).observe(re.getElement()):q=setInterval(N.bind(this,De),500))}}function st(me){ke.call(this),me&&me.renderingType==="html"?Ot.call(this):Te.call(this)}function ut(me,pe){if(!me.cues)return!1;for(var De=0;De<me.cues.length;De++)if(me.cues[De].startTime===pe.startTime&&me.cues[De].endTime===pe.endTime)return!0;return!1}function rt(me,pe,De){var xe=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return!!me&&(isNaN(pe)||(xe?me.startTime:me.endTime)>=pe)&&(isNaN(De)||(xe?me.endTime:me.startTime)<=De)}function nt(me,pe,De){var xe=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(me&&(me.cues||me.manualCueList)){var Ze=me.cues&&me.cues.length>0?"native":"custom",mt=Ze==="native"?me.cues:me.manualCueList;if(!mt||mt.length===0)return;for(var dt=mt.length-1,Pt=dt;Pt>=0;Pt--)rt(mt[Pt],pe,De,xe)&&(Ze==="native"?(mt[Pt].onexit&&mt[Pt].onexit(),me.removeCue(mt[Pt])):(Pe(mt[Pt]),delete me.manualCueList[Pt]))}}function Ot(){var me=document.getElementById("native-cue-style");if(!me){(me=document.createElement("style")).id="native-cue-style",document.head.appendChild(me);var pe=me.sheet,De=re.getElement();try{De&&(De.id?pe.insertRule("#"+De.id+"::cue {background: transparent}",0):De.classList.length!==0?pe.insertRule("."+De.className+"::cue {background: transparent}",0):pe.insertRule("video::cue {background: transparent}",0))}catch(xe){c.info(""+xe.message)}}}function Te(){var me=document.getElementById("native-cue-style");me&&document.head.removeChild(me)}function ke(){if(C)for(;C.firstChild;)C.removeChild(C.firstChild)}return r={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(_=window.VTTCue||window.TextTrackCue,I=[],b=[],h=-1,w=0,G=0,H=0,B=0,C=null,j=null,q=null,ne=!1,ce=2147483647,se=null,document.fullscreenElement!==void 0?fe="fullscreenElement":document.webkitIsFullScreen!==void 0?fe="webkitIsFullScreen":document.msFullscreenElement?fe="msFullscreenElement":document.mozFullScreen&&(fe="mozFullScreen"))},getStreamId:function(){return m.id},addTextTrack:function(me){I.push(me)},addCaptions:P,createTracks:function(){I.sort(function(Wt,Qt){return Wt.index-Qt.index}),C=re.getTTMLRenderingDiv(),j=re.getVttRenderingDiv();for(var me,pe,De,xe,Ze,mt,dt=-1,Pt=0;Pt<I.length;Pt++){var zt=(pe=(me=I[Pt]).kind,De=me.id!==void 0?me.id:me.lang,xe=me.lang,Ze=me.isTTML,mt=me.isEmbedded,re.addTextTrack(pe,De,xe,Ze,mt));b.push(zt),I[Pt].defaultTrack&&(zt.default=!0,dt=Pt);var Yt=Ae(Pt);Yt&&(Yt.mode=t.Z.TEXT_SHOWING,C&&(I[Pt].isTTML||I[Pt].isEmbedded)?Yt.renderingType="html":Yt.renderingType="default"),P(Pt,0,I[Pt].captionData),X.trigger(n.Z.TEXT_TRACK_ADDED)}if(Ie.call(this,dt),dt>=0){X.on(n.Z.PLAYBACK_METADATA_LOADED,function Wt(){var Qt=Ae(dt);Qt&&Qt.renderingType==="html"&&N.call(this,Qt,!0),X.off(n.Z.PLAYBACK_METADATA_LOADED,Wt,this)},this);for(var jt=0;jt<I.length;jt++){var Vt=Ae(jt);Vt&&(Vt.mode=jt===dt?t.Z.TEXT_SHOWING:t.Z.TEXT_HIDDEN,Vt.manualMode=jt===dt?t.Z.TEXT_SHOWING:t.Z.TEXT_HIDDEN)}}X.trigger(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:h,tracks:I,streamId:m.id})},getCurrentTrackIdx:function(){return h},setCurrentTrackIdx:Ie,getTrackIdxForId:function(me){for(var pe=-1,De=0;De<I.length;De++)if(I[De].id===me){pe=De;break}return pe},getCurrentTrackInfo:function(){return I[h]},setModeForTrackIdx:function(me,pe){var De=Ae(me);De&&De.mode!==pe&&(De.mode=pe),De&&De.manualMode!==pe&&(De.manualMode=pe)},deleteCuesFromTrackIdx:function(me,pe,De){var xe=Ae(me);xe&&nt(xe,pe,De)},deleteAllTextTracks:function(){for(var me=b?b.length:0,pe=0;pe<me;pe++){var De=Ae(pe);De&&nt.call(this,De,m.start,m.start+m.duration,!1)}b=[],I=[],q&&(clearInterval(q),q=null),Y&&re&&(Y.unobserve(re.getElement()),Y=null),h=-1,ke.call(this)},deleteTextTrack:function(me){re.removeChild(b[me]),b.splice(me,1)},manualCueProcessing:function(me){var pe=be();if(pe&&pe.length>0){var De=pe[0].manualCueList;De&&De.length>0&&De.forEach(function(xe){xe.startTime<=me&&xe.endTime>=me&&!xe.isActive?(xe.isActive=!0,WebVTT.processCues(window,[xe],j,xe.cueID)):xe.isActive&&(xe.startTime>me||xe.endTime<me)&&(xe.isActive=!1,Pe(xe))})}},disableManualTracks:function(){var me=be();if(me&&me.length>0){var pe=me[0].manualCueList;pe&&pe.length>0&&pe.forEach(function(De){if(De.isActive&&(De.isActive=!1,j))for(var xe=j.childNodes,Ze=0;Ze<xe.length;++Ze)xe[Ze].id===De.cueID&&(j.removeChild(xe[Ze]),--Ze)})}}},c=(0,E.Z)(ue).getInstance().getLogger(r),r}uo.__dashjs_factory_name="TextTracks";var Xs=g.Z.getClassFactory(uo);function lo(){var o,r,c,_,I,b,h=this.context;function w(C){var j=C.split(":"),q=j.length-1;return C=60*parseInt(j[q-1],10)+parseFloat(j[q]),q===2&&(C+=3600*parseInt(j[0],10)),C}function G(C){var j=C.split(_),q=j[1].split(b);return q.shift(),j[1]=q[0],q.shift(),{cuePoints:j,styles:H(q)}}function H(C){var j={};return C.forEach(function(q){if(q.split(/:/).length>1){var fe=q.split(/:/)[1],ne=!1;fe&&fe.search(/%/)!=-1&&(ne=!0,fe=parseInt(fe.replace(/%/,""),10)),(q.match(/align/)||q.match(/A/))&&(j.align=fe),(q.match(/line/)||q.match(/L/))&&(j.line=fe==="auto"?fe:parseInt(fe,10),ne&&(j.snapToLines=!1)),(q.match(/position/)||q.match(/P/))&&(j.position=fe),(q.match(/size/)||q.match(/S/))&&(j.size=fe)}}),j}function B(C,j){for(var q,fe=j,ne="",se="";C[fe]!==""&&fe<C.length;)fe++;if((q=fe-j)>1)for(var ce=0;ce<q;ce++){if((se=C[j+ce]).match(_)){ne="";break}ne+=se,ce!==q-1&&(ne+=`
`)}else(se=C[j]).match(_)||(ne=se);return ne}return o={parse:function(C){var j,q,fe=[];if(!C)return fe;j=(C=C.split(c)).length,q=-1;for(var ne=0;ne<j;ne++){var se=C[ne];if(se.length>0&&se!=="WEBVTT"&&se.match(_)){var ce=G(se),Y=ce.cuePoints,ue=ce.styles,X=B(C,ne+1),re=w(Y[0].replace(I,"")),m=w(Y[1].replace(I,""));!isNaN(re)&&!isNaN(m)&&re>=q&&m>re?X!==""?(q=re,fe.push({start:re,end:m,data:X,styles:ue})):r.error("Skipping cue due to empty/malformed cue text"):r.error("Skipping cue due to incorrect cue timing")}}return fe},getCaptionStyles:H},r=(0,E.Z)(h).getInstance().getLogger(o),c=/(?:\r\n|\r|\n)/gm,_=/-->/,I=/(^[\s]+|[\s]+$)/g,b=/\s\b/g,o}lo.__dashjs_factory_name="VTTParser";var Qs=g.Z.getSingletonFactory(lo);function co(){var o,r;return o={parse:function(c){var _=[];return r.oncue=function(I){I.start=I.startTime,I.end=I.endTime,I.data=I.text,I.styles={align:I.align,line:I.line,position:I.position,size:I.size},_.push(I)},r.parse(c),_}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(r=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),o}co.__dashjs_factory_name="VttCustomRenderingParser";var Js=g.Z.getSingletonFactory(co);function fo(){var o,r,c=this.context,_=(0,p.Z)(c).getInstance(),I=0;return o={parse:function(b,h,w,G,H){var B,C,j,q="",fe=[],ne={},se={},ce="",Y="",ue={onOpenTag:function(L,N,R){if(R[" imagetype"]&&!R[" imageType"]&&(_.trigger(n.Z.CONFORMANCE_VIOLATION,{level:Dr.LEVELS.ERROR,event:Dr.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),R[" imageType"]=R[" imagetype"]),N==="image"&&(L==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||L==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!R[" imageType"]||R[" imageType"].value!=="PNG")return void r.warn("smpte-tt imageType != PNG. Discarded");ce=R["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){ce&&(se[ce]=Y.trim()),Y="",ce=""},onText:function(L){ce&&(Y+=L)}};if(!b)throw q="no ttml data to parse",new Error(q);ne.data=b,_.trigger(u.Z.TTML_TO_PARSE,ne);var X=(0,ea.fromXML)(ne.data,function(L){q=L},ue);_.trigger(u.Z.TTML_PARSED,{ttmlString:ne.data,ttmlDoc:X});var re,m=X.getMediaTimeEvents();for(j=0;j<m.length;j++){var x=(0,ea.generateISD)(X,m[j],function(L){q=L});x.contents.some(function(L){return L.contents.length})&&(B=m[j]+h)<(C=m[j+1]+h)&&fe.push({start:B,end:C,type:"html",cueID:(re="cue_TTML_"+I,I++,re),isd:x,images:H,embeddedImages:se})}if(q!=="")throw r.error(q),new Error(q);return fe}},r=(0,E.Z)(c).getInstance().getLogger(o),o}fo.__dashjs_factory_name="TTMLParser";var $s=g.Z.getSingletonFactory(fo);function go(o){var r,c,_,I,b,h,w,G,H,B,C,j,q=this.context,fe=o.adapter,ne=o.errHandler,se=o.manifestModel,ce=o.mediaController,Y=o.videoModel,ue=o.settings;function X(z){var K=z.tracks,te=z.index,Q=z.streamId;if(ue.get().streaming.text.defaultEnabled===!1&&!x()||j)L(Q,-1);else{var P=ce.getCurrentTrackFor(t.Z.TEXT,Q);if(P){var le={lang:P.lang,role:P.roles[0],index:P.index,codec:P.codec,accessibility:P.accessibility[0]};K.some(function(ye,Pe){if(ce.matchSettings(le,ye))return L(Q,Pe),te=Pe,!0})}H=!1}c[Q].lastEnabledIndex=te,G.trigger(n.Z.TEXT_TRACKS_ADDED,{enabled:x(),index:te,tracks:K,streamId:Q}),C=!0}function re(z){try{var K=z.streamId;if(!I[K]||isNaN(z.time))return;I[K].manualCueProcessing(z.time)}catch{}}function m(z){try{var K=z.streamId;if(!I[K])return;I[K].disableManualTracks()}catch{}}function x(){var z=!0;return H&&!B&&(z=!1),z}function L(z,K){(H=K===-1)&&ce&&ce.saveTextSettingsDisabled();var te=N(z);if(te!==K&&I[z]){I[z].disableManualTracks(),I[z].setModeForTrackIdx(te,t.Z.TEXT_HIDDEN),I[z].setCurrentTrackIdx(K),I[z].setModeForTrackIdx(K,t.Z.TEXT_SHOWING);var Q=I[z].getCurrentTrackInfo();Q&&Q.isFragmented&&!Q.isEmbedded?function(P,le,ye){if(_[P])for(var Pe=_[P].getConfig().fragmentedTracks,be=0;be<Pe.length;be++){var Ae=Pe[be];if(le.lang===Ae.lang&&(Ae.id?le.id===Ae.id:le.index===Ae.index)){var Ie=ce.getCurrentTrackFor(t.Z.TEXT,P);(Ae.id?Ie.id!==Ae.id:Ie.index!==Ae.index)?(I[P].deleteCuesFromTrackIdx(ye),_[P].setCurrentFragmentedTrackIdx(be)):ye===-1&&G.trigger(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:P,mediaType:t.Z.TEXT})}}}(z,Q,te):Q&&!Q.isFragmented&&function(P,le){G.trigger(u.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:le},{streamId:P,mediaType:t.Z.TEXT})}(z,Q),ce.setTrack(Q)}}function N(z){return I[z].getCurrentTrackIdx()}function R(){_={},I={},c={},H=!0,C=!1,j=!1}return r={deactivateStream:function(z){if(z){var K=z.id;_[K]&&_[K].resetMediaInfos(),I[K]&&I[K].deleteAllTextTracks()}},initialize:function(){G.on(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,X,r),ue.get().streaming.text.webvtt.customRenderingEnabled&&(G.on(u.Z.PLAYBACK_TIME_UPDATED,re,r),G.on(u.Z.PLAYBACK_SEEKING,m,r))},initializeForStream:function(z){var K=z.id,te=Xs(q).create({videoModel:Y,settings:ue,streamInfo:z});te.initialize(),I[K]=te;var Q=zs(q).create({errHandler:ne,adapter:fe,manifestModel:se,mediaController:ce,videoModel:Y,textTracks:te,vttParser:b,vttCustomRenderingParser:h,ttmlParser:w,streamInfo:z,settings:ue});Q.initialize(),_[K]=Q,c[K]={},c[K].lastEnabledIndex=-1},createTracks:function(z){var K=z.id;I[K]&&I[K].createTracks()},getTextSourceBuffer:function(z){var K=z.id;if(_&&_[K])return _[K]},getAllTracksAreDisabled:function(){return H},addEmbeddedTrack:function(z,K){var te=z.id;_[te]&&_[te].addEmbeddedTrack(K)},enableText:function(z,K){return(0,W.PS)(K,"boolean"),x()!==K&&(K&&L(z,c[z].lastEnabledIndex),K||(c[z].lastEnabledIndex=N(z),C?L(z,-1):j=!0)),!0},isTextEnabled:x,setTextTrack:L,getCurrentTrackIdx:N,enableForcedTextStreaming:function(z){return(0,W.PS)(z,"boolean"),B=z,!0},addMediaInfosToBuffer:function(z,K,te){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,P=z.id;_[P]&&_[P].addMediaInfos(K,te,Q)},reset:function(){R(),G.off(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,X,r),ue.get().streaming.text.webvtt.customRenderingEnabled&&(G.off(u.Z.PLAYBACK_TIME_UPDATED,re,r),G.off(u.Z.PLAYBACK_SEEKING,m,r)),Object.keys(_).forEach(function(z){_[z].resetEmbedded(),_[z].reset()})}},B=!1,C=!1,j=!1,b=Qs(q).getInstance(),h=Js(q).getInstance(),w=$s(q).getInstance(),G=(0,p.Z)(q).getInstance(),R(),r}go.__dashjs_factory_name="TextController";var eu=g.Z.getClassFactory(go);function ta(){var o,r,c,_,I,b,h,w,G,H,B,C,j,q,fe,ne,se,ce,Y,ue,X,re,m,x,L,N,R,z,K,te,Q,P,le,ye,Pe,be,Ae,Ie,st,ut="You must first call initialize() and set a source before calling this method",rt="You must first call initialize() and set a valid source and view before calling this method",nt="You must first call attachView() to set the video element before calling this method",Ot="You must first call attachSource() with a valid source before calling this method",Te="MediaPlayer not initialized!",ke=this.context,me=(0,p.Z)(ke).getInstance(),pe=(0,Ce.Z)(ke).getInstance(),De=(0,E.Z)(ke).getInstance({settings:pe});function xe(){cn(null),fn(null),_=null,q&&(q.reset(),q=null),fe&&(fe.reset(),fe=null),ue&&ue.reset(),pe.reset(),se&&(se.reset(),se=null)}function Ze(){return!!c&&!!be.getElement()}function mt(){return(0,ys.e)()}function dt(){if(!h)throw rt;return z.isPaused()}function Pt(){if(!h)throw rt;return z.getIsDynamic()}function zt(ae){var Fe=L&&L.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,at=P.getCurrentDVRInfo(Fe);if(!at)return 0;var Rt=z.getOriginalLiveDelay(),xt=at.range.start+ae;return xt>at.range.end-Rt&&(xt=at.range.end-Rt),xt}function Yt(ae){if(!h)throw rt;var Fe=en().currentTime;if(ae!==void 0)Fe=L.getTimeRelativeToStreamId(Fe,ae);else if(z.getIsDynamic()){var at=L&&L.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,Rt=P.getCurrentDVRInfo(at);Fe=Rt===null||Fe===0?0:Math.max(0,Fe-Rt.range.start)}return Fe}function jt(){if(!h)throw rt;var ae=en().duration;if(z.getIsDynamic()){var Fe=L&&L.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,at=P.getCurrentDVRInfo(Fe);ae=at?at.range.end-at.range.start:0}return ae}function Vt(ae){(0,W.PS)(ae,"boolean"),w=ae}function Wt(){ue.restoreDefaultUTCTimingSources()}function Qt(){return P}function en(){if(!be.getElement())throw nt;return be.getElement()}function fn(ae){if(!I)throw Te;be.setElement(ae),ae&&(ze(),function(){if(!fe){var Fe=dashjs.MetricsReporting;if(typeof Fe=="function"){var at=Fe(ke).create();fe=at.createMetricsReporting({debug:De,eventBus:me,mediaElement:en(),adapter:ce,dashMetrics:P,mediaPlayerModel:Y,events:u.Z,constants:t.Z,metricsConstants:y.Z})}}}(),function(){if(!ne){var Fe=dashjs.MssHandler;typeof Fe=="function"&&(oe.extend(Fe.errors),ne=Fe(ke).create({eventBus:me,mediaPlayerModel:Y,dashMetrics:P,manifestModel:le,playbackController:z,streamController:L,protectionController:q,baseURLController:re,errHandler:X,events:u.Z,constants:t.Z,debug:De,initSegmentType:He.w.INIT_SEGMENT_TYPE,BASE64:Qi,ISOBoxer:vi,settings:pe}))}}(),L&&L.switchToVideoElement(G)),h&&Zt(),Re(G)}function on(ae){if(!b)throw ut;var Fe=L.getActiveStreamInfo();return Fe?j.getTracksFor(ae,Fe.id):[]}function cn(ae){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!I)throw Te;typeof ae=="string"&&Ae.initialize(ae),Fe==null&&(Fe=NaN),isNaN(Fe)||(Fe=Math.max(0,Fe)),G=Fe,c=ae,(b||h)&&Zt(),Ze()&&Re(G)}function lt(){if(!b)throw ut;var ae=L.getActiveStreamInfo();return ae?L.getStreamById(ae.id):null}function Zt(){h=!1,b=!1,ce.reset(),L.reset(),R.reset(),Q.reset(),z.reset(),K.reset(),te.reset(),H.reset(),j.reset(),st.reset(),q&&(pe.get().streaming.protection.keepProtectionMediaKeys?q.stop():(q.reset(),q=null,ze())),N.reset(),ye.reset(),Pe.reset()}function Gt(){var ae=kt();L||(L=aa(ke).getInstance()),N||(N=eu(ke).create({errHandler:X,manifestModel:le,adapter:ce,mediaController:j,videoModel:be,settings:pe})),x.setConfig({capabilities:m,customParametersModel:ue,adapter:ce,settings:pe,manifestModel:le,errHandler:X}),L.setConfig({capabilities:m,capabilitiesFilter:x,manifestLoader:ae,manifestModel:le,mediaPlayerModel:Y,customParametersModel:ue,protectionController:q,textController:N,adapter:ce,dashMetrics:P,errHandler:X,timelineConverter:C,videoModel:be,playbackController:z,serviceDescriptionController:K,contentSteeringController:te,abrController:H,mediaController:j,settings:pe,baseURLController:re,uriFragmentModel:Ae,segmentBaseController:st}),R.setConfig({settings:pe,playbackController:z,streamController:L,videoModel:be,timelineConverter:C,adapter:ce}),z.setConfig({streamController:L,serviceDescriptionController:K,dashMetrics:P,adapter:ce,videoModel:be,timelineConverter:C,settings:pe}),Q.setConfig({streamController:L,playbackController:z,mediaPlayerModel:Y,videoModel:be,settings:pe}),H.setConfig({streamController:L,domStorage:Ie,mediaPlayerModel:Y,customParametersModel:ue,cmsdModel:Pe,dashMetrics:P,adapter:ce,videoModel:be,settings:pe}),ye.setConfig({abrController:H,dashMetrics:P,playbackController:z}),Pe.setConfig({}),H.initialize(),L.initialize(w,_),N.initialize(),R.initialize(),Q.initialize(),ye.initialize(),Pe.initialize(),te.initialize(),st.initialize()}function kt(){return ts(ke).create({debug:De,errHandler:X,dashMetrics:P,mediaPlayerModel:Y,requestModifier:(0,he.Z)(ke).getInstance(),mssHandler:ne,settings:pe})}function ze(){if(q)return q;var ae=dashjs.Protection;if(typeof ae=="function"){var Fe=ae(ke).create();return u.Z.extend(ae.events),n.Z.extend(ae.events,{publicOnly:!0}),oe.extend(ae.errors),m||(m=(0,Da.Z)(ke).getInstance()),q=Fe.createProtectionSystem({debug:De,errHandler:X,videoModel:be,customParametersModel:ue,capabilities:m,eventBus:me,events:u.Z,BASE64:Qi,constants:t.Z,cmcdModel:ye,settings:pe})}return null}function ht(){if(!I)throw Te;if(se)return se;var ae=dashjs.OfflineController;if(typeof ae=="function"){u.Z.extend(ae.events),n.Z.extend(ae.events,{publicOnly:!0}),oe.extend(ae.errors);var Fe=kt(),at=si(ke).create();return at.setConfig({manifestModel:le,adapter:ce,manifestLoader:Fe,errHandler:X,contentSteeringController:te}),se=ae(ke).create({debug:De,manifestUpdater:at,baseURLController:re,manifestLoader:Fe,manifestModel:le,mediaPlayerModel:Y,abrController:H,playbackController:z,adapter:ce,errHandler:X,dashMetrics:P,timelineConverter:C,segmentBaseController:st,schemeLoaderFactory:B,eventBus:me,events:u.Z,errors:oe,constants:t.Z,settings:pe,dashConstants:e.Z,urlUtils:(0,Me.Z)(ke).getInstance()})}return null}function je(ae){var Fe=L&&L.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,at=P.getCurrentDVRInfo(Fe);return at?ae+(at.manifestInfo.availableFrom.getTime()/1e3+at.range.start):0}function Re(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;se&&se.resetRecords(),!b&&c&&(b=!0,r.info("Streaming Initialized"),Gt(),typeof c=="string"?L.load(c,ae):L.loadWithManifest(c,ae)),!h&&Ze()&&(h=!0,r.info("Playback Initialized"))}return o={initialize:function(ae,Fe,at){var Rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;m||(m=(0,Da.Z)(ke).getInstance()).setConfig({settings:pe}),X||(X=ns(ke).getInstance()),m.supportsMediaSource()?(I||(I=!0,C=Ys(ke).getInstance(),H||(H=ds(ke).getInstance()).setConfig({settings:pe}),B||(B=Zn(ke).getInstance()),z||(z=d(ke).getInstance()),j||(j=Ao(ke).getInstance()),L||(L=aa(ke).getInstance()),R||(R=vo(ke).getInstance()),Q||(Q=_o(ke).getInstance()),K||(K=So(ke).getInstance()),te||(te=vr(ke).getInstance()),x||(x=rs(ke).getInstance()),ce=ws(ke).getInstance(),le=os(ke).getInstance(),ye=Tt(ke).getInstance(),Pe=Ur(ke).getInstance(),P=qs(ke).getInstance({settings:pe}),Ie=ps(ke).getInstance({settings:pe}),ce.setConfig({constants:t.Z,cea608parser:S(),errHandler:X,BASE64:Qi}),re||(re=Do(ke).create()),re.setConfig({adapter:ce,contentSteeringController:te}),K.setConfig({adapter:ce}),st||(st=_s(ke).getInstance({dashMetrics:P,mediaPlayerModel:Y,errHandler:X,baseURLController:re,events:u.Z,eventBus:me,debug:De,boxParser:(0,Yr.Z)(ke).getInstance(),requestModifier:(0,he.Z)(ke).getInstance(),errors:oe})),j.setConfig({domStorage:Ie,settings:pe,customParametersModel:ue}),Y.setConfig({playbackController:z,serviceDescriptionController:K}),te.setConfig({adapter:ce,errHandler:X,dashMetrics:P,mediaPlayerModel:Y,manifestModel:le,serviceDescriptionController:K,eventBus:me,requestModifier:(0,he.Z)(ke).getInstance()}),Wt(),Vt(at===void 0||at),ht()),ae&&fn(ae),Fe&&cn(Fe,Rt),r.info("[dash.js "+mt()+"] MediaPlayer has been initialized")):X.error(new U.Z(oe.CAPABILITY_MEDIASOURCE_ERROR_CODE,oe.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(ae){ae&&(ae.capabilities&&(m=ae.capabilities),ae.capabilitiesFilter&&(x=ae.capabilitiesFilter),ae.streamController&&(L=ae.streamController),ae.textController&&(N=ae.textController),ae.gapController&&(R=ae.gapController),ae.playbackController&&(z=ae.playbackController),ae.serviceDescriptionController&&(K=ae.serviceDescriptionController),ae.contentSteeringController&&(te=ae.contentSteeringController),ae.catchupController&&(Q=ae.catchupController),ae.mediaPlayerModel&&(Y=ae.mediaPlayerModel),ae.customParametersModel&&(ue=ae.customParametersModel),ae.abrController&&(H=ae.abrController),ae.schemeLoaderFactory&&(B=ae.schemeLoaderFactory),ae.mediaController&&(j=ae.mediaController),ae.settings&&(pe=ae.settings))},on:function(ae,Fe,at,Rt){me.on(ae,Fe,at,Rt)},off:function(ae,Fe,at){me.off(ae,Fe,at)},extend:function(ae,Fe,at){g.Z.extend(ae,Fe,at,ke)},attachView:fn,attachSource:cn,isReady:Ze,preload:function(){if(!be.getElement()&&!b){if(!c)throw Ot;Re(G)}},play:function(){if(!h)throw rt;(!w||dt()&&h)&&z.play(!0)},isPaused:dt,pause:function(){if(!h)throw rt;z.pause()},isSeeking:function(){if(!h)throw rt;return z.isSeeking()},isDynamic:Pt,getLowLatencyModeEnabled:function(){if(!h)throw rt;return z.getLowLatencyModeEnabled()},seek:function(ae){if(!h)throw rt;if((0,W.PS)(ae,"number"),isNaN(ae))throw t.Z.BAD_ARGUMENT_ERROR;ae<0&&(ae=0);var Fe=z.getIsDynamic()?zt(ae):ae,at=en();!z.getIsDynamic()&&at.duration&&(Fe=Math.min(at.duration,Fe)),z.seek(Fe,!1,!1,!0)},seekToOriginalLive:function(){h&&Pt()&&z.seekToOriginalLive()},setPlaybackRate:function(ae){en().playbackRate=ae},getPlaybackRate:function(){return en().playbackRate},setMute:function(ae){(0,W.PS)(ae,"boolean"),en().muted=ae},isMuted:function(){return en().muted},setVolume:function(ae){if(typeof ae!="number"||isNaN(ae)||ae<0||ae>1)throw t.Z.BAD_ARGUMENT_ERROR;en().volume=ae},getVolume:function(){return en().volume},time:Yt,duration:jt,timeAsUTC:function(){if(!h)throw rt;return Yt()<0?NaN:je(Yt())},durationAsUTC:function(){if(!h)throw rt;return je(jt())},getActiveStream:lt,getDVRWindowSize:function(){var ae=L&&L.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,Fe=P.getCurrentDVRInfo(ae);return Fe?Fe.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:zt,getAvailableBaseUrls:function(){var ae=le.getValue();return ae?re.getBaseUrls(ae):[]},getAvailableLocations:function(){var ae=le.getValue();if(!ae)return[];var Fe=ce.getLocation(ae),at=te.getSynthesizedLocationElements(Fe);return Fe.concat(at)},getTargetLiveDelay:function(){if(!h)throw rt;return z.getOriginalLiveDelay()},convertToTimeCode:function(ae){ae=Math.max(ae,0);var Fe=Math.floor(ae/3600),at=Math.floor(ae%3600/60),Rt=Math.floor(ae%3600%60);return(Fe===0?"":Fe<10?"0"+Fe.toString()+":":Fe.toString()+":")+(at<10?"0"+at.toString():at.toString())+":"+(Rt<10?"0"+Rt.toString():Rt.toString())},formatUTC:function(ae,Fe,at){var Rt=arguments.length>3&&arguments[3]!==void 0&&arguments[3],xt=new Date(1e3*ae),an=xt.toLocaleDateString(Fe),Rn=xt.toLocaleTimeString(Fe,{hour12:at});return Rt?Rn+" "+an:Rn},getVersion:mt,getDebug:function(){return De},getBufferLength:function(ae){var Fe=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT];if(ae)return Fe.indexOf(ae)!==-1?Qt().getCurrentBufferLevel(ae)||NaN:(r.warn("getBufferLength requested for invalid type"),NaN);var at=Fe.map(function(Rt){return on(Rt).length>0?Qt().getCurrentBufferLevel(Rt):Number.MAX_VALUE}).reduce(function(Rt,xt){return Math.min(Rt,xt)});return at===Number.MAX_VALUE?NaN:at},getTTMLRenderingDiv:function(){return be?be.getTTMLRenderingDiv():null},getVideoElement:en,getSource:function(){if(!c)throw Ot;return c},updateSource:function(ae){c=ae,L.load(c)},getCurrentLiveLatency:function(){if(!I)throw Te;return h?z.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(ae){if(!b)throw ut;return H.getTopBitrateInfoFor(ae)},setAutoPlay:Vt,getAutoPlay:function(){return w},getDashMetrics:Qt,getQualityFor:function(ae){if(!b)throw ut;if(ae===t.Z.IMAGE){var Fe=lt();if(!Fe)return-1;var at=Fe.getThumbnailController();return at?at.getCurrentTrackIndex():-1}return H.getQualityFor(ae)},setQualityFor:function(ae,Fe){var at=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!b)throw ut;if(ae===t.Z.IMAGE){var Rt=lt();if(!Rt)return;var xt=Rt.getThumbnailController();xt&&xt.setTrackByIndex(Fe)}H.setPlaybackQuality(ae,L.getActiveStreamInfo(),Fe,{forceReplace:at})},updatePortalSize:function(){H.setElementSize(),H.setWindowResizeEventCalled(!0)},enableText:function(ae){var Fe=L.getActiveStreamInfo();return!(!Fe||!N)&&N.enableText(Fe.id,ae)},enableForcedTextStreaming:function(ae){return!(!L.getActiveStreamInfo()||!N)&&N.enableForcedTextStreaming(ae)},isTextEnabled:function(){var ae=L.getActiveStreamInfo();return!(!ae||!N)&&N.isTextEnabled(ae)},setTextTrack:function(ae){if(!h)throw rt;var Fe=L.getActiveStreamInfo();Fe&&N&&N.setTextTrack(Fe.id,ae)},getBitrateInfoListFor:function(ae){if(!b)throw ut;var Fe=lt();return Fe?Fe.getBitrateListFor(ae):[]},getStreamsFromManifest:function(ae){if(!b)throw ut;return ce.getStreamsInfo(ae)},getTracksFor:on,getTracksForTypeFromManifest:function(ae,Fe,at){if(!b)throw ut;return(at=at||ce.getStreamsInfo(Fe,1)[0])?ce.getAllMediaInfoForType(at,ae,Fe):[]},getCurrentTrackFor:function(ae){if(!b)throw ut;var Fe=L.getActiveStreamInfo();return j.getCurrentTrackFor(ae,Fe.id)},setInitialMediaSettingsFor:function(ae,Fe){if(!I)throw Te;j.setInitialSettings(ae,Fe)},getInitialMediaSettingsFor:function(ae){if(!I)throw Te;return j.getInitialSettings(ae)},setCurrentTrack:function(ae){var Fe=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!b)throw ut;j.setTrack(ae,Fe)},addABRCustomRule:function(ae,Fe,at){ue.addAbrCustomRule(ae,Fe,at)},removeABRCustomRule:function(ae){ue.removeAbrCustomRule(ae)},removeAllABRCustomRule:function(){ue.removeAllAbrCustomRule()},getABRCustomRules:function(){return ue.getAbrCustomRules()},getAverageThroughput:function(ae){var Fe=H.getThroughputHistory(),at=z.getIsDynamic();return Fe?Fe.getAverageThroughput(ae,at):0},retrieveManifest:function(ae,Fe){var at=kt(),Rt=this;me.on(u.Z.INTERNAL_MANIFEST_LOADED,function xt(an){an.error?Fe(null,an.error):Fe(an.manifest),me.off(u.Z.INTERNAL_MANIFEST_LOADED,xt,Rt),at.reset()},Rt),Ae.initialize(ae),at.load(ae)},addUTCTimingSource:function(ae,Fe){ue.addUTCTimingSource(ae,Fe)},removeUTCTimingSource:function(ae,Fe){ue.removeUTCTimingSource(ae,Fe)},clearDefaultUTCTimingSources:function(){ue.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Wt,setXHRWithCredentialsForType:function(ae,Fe){ue.setXHRWithCredentialsForType(ae,Fe)},getXHRWithCredentialsForType:function(ae){return ue.getXHRWithCredentialsForType(ae)},getProtectionController:function(){return ze()},attachProtectionController:function(ae){q=ae},setProtectionData:function(ae){_=ae,L&&L.setProtectionData(_)},registerLicenseRequestFilter:function(ae){ue.registerLicenseRequestFilter(ae)},registerLicenseResponseFilter:function(ae){ue.registerLicenseResponseFilter(ae)},unregisterLicenseRequestFilter:function(ae){ue.unregisterLicenseRequestFilter(ae)},unregisterLicenseResponseFilter:function(ae){ue.unregisterLicenseResponseFilter(ae)},registerCustomCapabilitiesFilter:function(ae){ue.registerCustomCapabilitiesFilter(ae)},unregisterCustomCapabilitiesFilter:function(ae){ue.unregisterCustomCapabilitiesFilter(ae)},setCustomInitialTrackSelectionFunction:function(ae){ue.setCustomInitialTrackSelectionFunction(ae)},resetCustomInitialTrackSelectionFunction:function(){ue.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function(ae){if(!be.getElement())throw nt;be.setTTMLRenderingDiv(ae)},attachVttRenderingDiv:function(ae){if(!be.getElement())throw nt;be.setVttRenderingDiv(ae)},getCurrentTextTrackIndex:function(){var ae=L.getActiveStreamInfo();if(ae&&N)return N.getCurrentTrackIdx(ae.id)},provideThumbnail:function(ae,Fe){if(typeof Fe=="function")if(ae<0)Fe(null);else{var at=z.getIsDynamic()?zt(ae):ae,Rt=L.getStreamForTime(at);if(Rt!==null){var xt=Rt.getThumbnailController();if(xt)return xt.provide(at,Fe);Fe(null)}else Fe(null)}},getDashAdapter:function(){return ce},getOfflineController:function(){return ht()},triggerSteeringRequest:function(){if(te)return te.loadSteeringData()},getCurrentSteeringResponseData:function(){if(te)return te.getCurrentSteeringResponseData()},getSettings:function(){return pe.get()},updateSettings:function(ae){pe.update(ae)},resetSettings:function(){pe.reset()},reset:xe,destroy:function(){xe(),g.Z.deleteSingletonInstances(ke)}},r=De.getLogger(o),I=!1,h=!1,b=!1,w=!0,G=NaN,q=null,se=null,_=null,ce=null,st=null,u.Z.extend(n.Z),Y=ss(ke).getInstance(),ue=(0,bt.Z)(ke).getInstance(),be=hs(ke).getInstance(),Ae=as(ke).getInstance(),o}ta.__dashjs_factory_name="MediaPlayer";var Ti=g.Z.getClassFactory(ta);Ti.events=n.Z,Ti.errors=oe,g.Z.updateClassFactory(ta.__dashjs_factory_name,Ti);var tu=Ti},8825:function(tt,we,O){function ie(p){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ie(p)}function S(p,u){return S=Object.setPrototypeOf||function(g,E){return g.__proto__=E,g},S(p,u)}function t(p,u){return!u||ie(u)!=="object"&&typeof u!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(p):u}function e(p){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},e(p)}var y=new(function(p){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),d&&S(l,d)})(n,p);var u,g,E=(u=n,g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=e(u);if(g){var D=e(this).constructor;l=Reflect.construct(d,arguments,D)}else l=d.apply(this,arguments);return t(this,l)});function n(){var l;return function(d,D){if(!(d instanceof D))throw new TypeError("Cannot call a class as a function")}(this,n),(l=E.call(this)).AST_IN_FUTURE="astInFuture",l.BASE_URLS_UPDATED="baseUrlsUpdated",l.BUFFER_EMPTY="bufferStalled",l.BUFFER_LOADED="bufferLoaded",l.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",l.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",l.DYNAMIC_TO_STATIC="dynamicToStatic",l.ERROR="error",l.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",l.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",l.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",l.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",l.LOG="log",l.MANIFEST_LOADING_STARTED="manifestLoadingStarted",l.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",l.MANIFEST_LOADED="manifestLoaded",l.METRICS_CHANGED="metricsChanged",l.METRIC_CHANGED="metricChanged",l.METRIC_ADDED="metricAdded",l.METRIC_UPDATED="metricUpdated",l.PERIOD_SWITCH_STARTED="periodSwitchStarted",l.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",l.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",l.QUALITY_CHANGE_RENDERED="qualityChangeRendered",l.TRACK_CHANGE_RENDERED="trackChangeRendered",l.STREAM_INITIALIZING="streamInitializing",l.STREAM_UPDATED="streamUpdated",l.STREAM_ACTIVATED="streamActivated",l.STREAM_DEACTIVATED="streamDeactivated",l.STREAM_INITIALIZED="streamInitialized",l.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",l.TEXT_TRACKS_ADDED="allTextTracksAdded",l.TEXT_TRACK_ADDED="textTrackAdded",l.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",l.TTML_PARSED="ttmlParsed",l.TTML_TO_PARSE="ttmlToParse",l.CAPTION_RENDERED="captionRendered",l.CAPTION_CONTAINER_RESIZE="captionContainerResize",l.CAN_PLAY="canPlay",l.CAN_PLAY_THROUGH="canPlayThrough",l.PLAYBACK_ENDED="playbackEnded",l.PLAYBACK_ERROR="playbackError",l.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",l.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",l.PLAYBACK_LOADED_DATA="playbackLoadedData",l.PLAYBACK_PAUSED="playbackPaused",l.PLAYBACK_PLAYING="playbackPlaying",l.PLAYBACK_PROGRESS="playbackProgress",l.PLAYBACK_RATE_CHANGED="playbackRateChanged",l.PLAYBACK_SEEKED="playbackSeeked",l.PLAYBACK_SEEKING="playbackSeeking",l.PLAYBACK_STALLED="playbackStalled",l.PLAYBACK_STARTED="playbackStarted",l.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",l.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",l.PLAYBACK_WAITING="playbackWaiting",l.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",l.EVENT_MODE_ON_START="eventModeOnStart",l.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",l.CONFORMANCE_VIOLATION="conformanceViolation",l.REPRESENTATION_SWITCH="representationSwitch",l.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",l.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",l.INBAND_PRFT="inbandPrft",l}return n}(O(8342).Z));we.Z=y},3393:function(tt,we){function O(S,t){for(var e=0;e<t.length;e++){var y=t[e];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}var ie=new(function(){function S(){(function(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")})(this,S),this.init()}var t,e;return t=S,(e=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&O(t.prototype,e),S}());we.Z=ie},3860:function(tt,we){function O(S,t){for(var e=0;e<t.length;e++){var y=t[e];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}var ie=new(function(){function S(){(function(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")})(this,S),this.init()}var t,e;return t=S,(e=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&O(t.prototype,e),S}());we.Z=ie},8080:function(tt,we,O){O.d(we,{default:function(){return v}});var ie=function T(){(function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")})(this,T),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};ie.SSL_CONNECTION_FAILED_PREFIX="SSL",ie.DNS_RESOLUTION_FAILED="C00",ie.HOST_UNREACHABLE="C01",ie.CONNECTION_REFUSED="C02",ie.CONNECTION_ERROR="C03",ie.CORRUPT_MEDIA_ISOBMFF="M00",ie.CORRUPT_MEDIA_OTHER="M01",ie.BASE_URL_CHANGED="F00",ie.BECAME_REPORTER="S00";var S=ie,t=O(1180);function e(T){var W,V,he=(T=T||{}).eventBus,Me=T.dashMetrics,Oe=T.metricsConstants,Se=T.events;function Ne(Mt){var Ut=new S;if(V){for(var ln in Mt)Mt.hasOwnProperty(ln)&&(Ut[ln]=Mt[ln]);Ut.mpdurl||(Ut.mpdurl=V.originalUrl||V.url),Ut.terror||(Ut.terror=new Date),Me.addDVBErrors(Ut)}}function Ke(Mt){Mt.error||(V=Mt.manifest)}function We(Mt){Ne({errorcode:S.BASE_URL_CHANGED,servicelocation:Mt.entry})}function At(){Ne({errorcode:S.BECAME_REPORTER})}function et(Mt){var Ut;Mt.metric===Oe.HTTP_REQUEST&&((Ut=Mt.value).responsecode===0||Ut.responsecode==null||Ut.responsecode>=400||Ut.responsecode<100||Ut.responsecode>=600)&&Ne({errorcode:Ut.responsecode||S.CONNECTION_ERROR,url:Ut.url,terror:Ut.tresponse,servicelocation:Ut._serviceLocation})}function Dt(Mt){var Ut;switch(Mt.error?Mt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Ut=S.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Ut=S.CORRUPT_MEDIA_OTHER;break;default:return}Ne({errorcode:Ut})}return W={initialize:function(){he.on(Se.MANIFEST_UPDATED,Ke,W),he.on(Se.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,We,W),he.on(Se.METRIC_ADDED,et,W),he.on(Se.METRIC_UPDATED,et,W),he.on(Se.PLAYBACK_ERROR,Dt,W),he.on(t.Z.BECAME_REPORTING_PLAYER,At,W)},reset:function(){he.off(Se.MANIFEST_UPDATED,Ke,W),he.off(Se.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,We,W),he.off(Se.METRIC_ADDED,et,W),he.off(Se.METRIC_UPDATED,et,W),he.off(Se.PLAYBACK_ERROR,Dt,W),he.off(t.Z.BECAME_REPORTING_PLAYER,At,W)}}}e.__dashjs_factory_name="DVBErrorsTranslator";var y=dashjs.FactoryMaker.getSingletonFactory(e),p=O(2295);function u(T){T=T||{};var W,V,he=!1,Me=this.context,Oe=T.mediaElement;return W={initialize:function(Se){Se&&Se.length&&(Se.forEach(function(Ne){var Ke=Ne.starttime,We=Ke+Ne.duration;V.add(Ke,We)}),he=!!Se[0]._useWallClockTime)},reset:function(){V.clear()},isEnabled:function(){var Se,Ne=V.length;if(!Ne)return!0;Se=he?new Date().getTime()/1e3:Oe.currentTime;for(var Ke=0;Ke<Ne;Ke+=1){var We=V.start(Ke),At=V.end(Ke);if(We<=Se&&Se<At)return!0}return!1}},V=(0,p.Z)(Me).create(),W}u.__dashjs_factory_name="RangeController";var g=dashjs.FactoryMaker.getClassFactory(u);function E(){return{serialise:function T(W){var V,he,Me=[],Oe=[];for(V in W)if(W.hasOwnProperty(V)&&V.indexOf("_")!==0){if((he=W[V])==null&&(he=""),Array.isArray(he)){if(!he.length)continue;Oe=[],he.forEach(function(Se){var Ne=Object.prototype.toString.call(Se).slice(8,-1)!=="Object";Oe.push(Ne?Se:T(Se))}),he=Oe.map(encodeURIComponent).join(",")}else typeof he=="string"?he=encodeURIComponent(he):he instanceof Date?he=he.toISOString():typeof he=="number"&&(he=Math.round(he));Me.push(V+"="+he)}return Me.join("&")}}}E.__dashjs_factory_name="MetricSerialiser";var n=dashjs.FactoryMaker.getSingletonFactory(E);function l(){var T,W,V,he=window.crypto||window.msCrypto,Me=Uint32Array,Oe=Math.pow(2,8*Me.BYTES_PER_ELEMENT)-1;function Se(){he&&(T||(T=new Me(10)),he.getRandomValues(T),W=0)}return V={random:function(Ne,Ke){var We;return Ne||(Ne=0),Ke||(Ke=1),he?(W===T.length&&Se(),We=T[W]/Oe,W+=1):We=Math.random(),We*(Ke-Ne)+Ne}},Se(),V}l.__dashjs_factory_name="RNG";var d=dashjs.FactoryMaker.getSingletonFactory(l),D=O(5717);function Z(T){var W;T=T||{};var V,he,Me,Oe,Se,Ne,Ke,We=this.context,At=[],et=T.metricsConstants;function Dt(){Oe=!1,Se=!1,Ne=null,Ke=null}return W={report:function(Mt,Ut){Array.isArray(Ut)||(Ut=[Ut]),Se&&Ke.isEnabled()&&Ut.forEach(function(ln){var mn=V.serialise(ln);Mt!==et.DVB_ERRORS&&(mn="metricname=".concat(Mt,"&").concat(mn)),function(_n,Bn,vn){var An=new XMLHttpRequest;An.withCredentials=he.getXHRWithCredentialsForType(et.HTTP_REQUEST_DVB_REPORTING_TYPE);var Gn=function(){var pn=At.indexOf(An);pn!==-1&&(At.splice(pn,1),!(An.status>=200&&An.status<300)&&vn&&vn())};At.push(An);try{An.open("GET",_n),An.onloadend=Gn,An.onerror=Gn,An.send()}catch{An.onerror()}}(mn="".concat(Ne,"?").concat(mn),0,function(){Se=!1})})},initialize:function(Mt,Ut){var ln;if(Ke=Ut,!(Ne=Mt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");Oe||((ln=Mt.dvb_probability)&&(ln===1e3||ln/1e3>=Me.random())&&(Se=!0),Oe=!0)},reset:function(){Dt()}},V=n(We).getInstance(),Me=d(We).getInstance(),he=(0,D.Z)(We).getInstance(),Dt(),W}Z.__dashjs_factory_name="DVBReporting";var k=dashjs.FactoryMaker.getClassFactory(Z);function F(T){T=T||{};var W,V={"urn:dvb:dash:reporting:2014":k},he=this.context,Me=T.debug?T.debug.getLogger(W):{},Oe=T.metricsConstants,Se=T.mediaPlayerModel||{};return{create:function(Ne,Ke){var We;try{(We=V[Ne.schemeIdUri](he).create({metricsConstants:Oe,mediaPlayerModel:Se})).initialize(Ne,Ke)}catch(At){We=null,Me.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Ne.schemeIdUri," (").concat(At.message,")"))}return We},register:function(Ne,Ke){V[Ne]=Ke},unregister:function(Ne){delete V[Ne]}}}F.__dashjs_factory_name="ReportingFactory";var ee=dashjs.FactoryMaker.getSingletonFactory(F);function M(T){var W=[],V=ee(this.context).getInstance(T);return{initialize:function(he,Me){he.some(function(Oe){var Se=V.create(Oe,Me);if(Se)return W.push(Se),!0})},reset:function(){W.forEach(function(he){return he.reset()}),W=[]},report:function(he,Me){W.forEach(function(Oe){return Oe.report(he,Me)})}}}M.__dashjs_factory_name="ReportingController";var A=dashjs.FactoryMaker.getClassFactory(M);function U(){return{reconstructFullMetricName:function(T,W,V){var he=T;return W&&(he+="("+W,V&&V.length&&(he+=","+V),he+=")"),he},validateN:function(T){if(!T)throw new Error("missing n");if(isNaN(T))throw new Error("n is NaN");if(T<0)throw new Error("n must be positive");return T}}}U.__dashjs_factory_name="HandlerHelpers";var J=dashjs.FactoryMaker.getSingletonFactory(U);function $(T){var W,V,he,Me,Oe;T=T||{};var Se=this.context,Ne=J(Se).getInstance(),Ke=[],We=T.metricsConstants;function At(){var et=function(){try{return Object.keys(Ke).map(function(Dt){return Ke[Dt]}).reduce(function(Dt,Mt){return Dt.level<Mt.level?Dt:Mt})}catch{return}}();et&&Oe!==et.t&&(Oe=et.t,W.report(he,et))}return{initialize:function(et,Dt,Mt){Dt&&(V=Ne.validateN(Mt),W=Dt,he=Ne.reconstructFullMetricName(et,Mt),Me=setInterval(At,V))},reset:function(){clearInterval(Me),Me=null,V=0,W=null,Oe=null},handleNewMetric:function(et,Dt,Mt){et===We.BUFFER_LEVEL&&(Ke[Mt]=Dt)}}}$.__dashjs_factory_name="BufferLevelHandler";var Ee=dashjs.FactoryMaker.getClassFactory($),Je=dashjs.FactoryMaker.getClassFactory(function(T){var W,V=(T=T||{}).eventBus,he=T.metricsConstants;function Me(){V.off(t.Z.METRICS_INITIALISATION_COMPLETE,Me,this),V.trigger(t.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(Oe,Se){Se&&(W=Se,V.on(t.Z.METRICS_INITIALISATION_COMPLETE,Me,this))},reset:function(){W=null},handleNewMetric:function(Oe,Se){Oe===he.DVB_ERRORS&&W&&W.report(Oe,Se)}}});function oe(T){var W,V,he,Me,Oe;T=T||{};var Se=[],Ne=J(this.context).getInstance(),Ke=T.metricsConstants;function We(){var At=Se;At.length&&W&&W.report(Me,At),Se=[]}return{initialize:function(At,et,Dt,Mt){et&&(V=Ne.validateN(Dt),W=et,Mt&&Mt.length&&(he=Mt),Me=Ne.reconstructFullMetricName(At,Dt,Mt),Oe=setInterval(We,V))},reset:function(){clearInterval(Oe),Oe=null,V=null,he=null,Se=[],W=null},handleNewMetric:function(At,et){At===Ke.HTTP_REQUEST&&(he&&he!==et.type||Se.push(et))}}}oe.__dashjs_factory_name="HttpListHandler";var Ce=dashjs.FactoryMaker.getClassFactory(oe);function He(){var T,W;return{initialize:function(V,he){T=V,W=he},reset:function(){W=null,T=void 0},handleNewMetric:function(V,he){V===T&&W&&W.report(T,he)}}}He.__dashjs_factory_name="GenericMetricHandler";var Le=dashjs.FactoryMaker.getClassFactory(He);function ve(T){var W,V=(T=T||{}).debug?T.debug.getLogger(W):{},he=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Me=this.context,Oe={BufferLevel:Ee,DVBErrors:Je,HttpList:Ce,PlayList:Le,RepSwitchList:Le,TcpList:Le};return{create:function(Se,Ne){var Ke,We=Se.match(he);if(We){try{(Ke=Oe[We[1]](Me).create({eventBus:T.eventBus,metricsConstants:T.metricsConstants})).initialize(We[1],Ne,We[3],We[5])}catch(At){Ke=null,V.error("MetricsHandlerFactory: Could not create handler for type ".concat(We[1]," with args ").concat(We[3],", ").concat(We[5]," (").concat(At.message,")"))}return Ke}},register:function(Se,Ne){Oe[Se]=Ne},unregister:function(Se){delete Oe[Se]}}}ve.__dashjs_factory_name="MetricsHandlerFactory";var Ue=dashjs.FactoryMaker.getSingletonFactory(ve);function Be(T){T=T||{};var W,V=[],he=this.context,Me=T.eventBus,Oe=T.events,Se=Ue(he).getInstance({debug:T.debug,eventBus:T.eventBus,metricsConstants:T.metricsConstants});function Ne(Ke){V.forEach(function(We){We.handleNewMetric(Ke.metric,Ke.value,Ke.mediaType)})}return W={initialize:function(Ke,We){Ke.split(",").forEach(function(At,et,Dt){var Mt;if(At.indexOf("(")!==-1&&At.indexOf(")")===-1){var Ut=Dt[et+1];Ut&&Ut.indexOf("(")===-1&&Ut.indexOf(")")!==-1&&(At+=","+Ut,delete Dt[et+1])}(Mt=Se.create(At,We))&&V.push(Mt)}),Me.on(Oe.METRIC_ADDED,Ne,W),Me.on(Oe.METRIC_UPDATED,Ne,W)},reset:function(){Me.off(Oe.METRIC_ADDED,Ne,W),Me.off(Oe.METRIC_UPDATED,Ne,W),V.forEach(function(Ke){return Ke.reset()}),V=[]}}}Be.__dashjs_factory_name="MetricsHandlersController";var ct=dashjs.FactoryMaker.getClassFactory(Be);function _e(T){var W,V,he;T=T||{};var Me=this.context;function Oe(){W&&W.reset(),V&&V.reset(),he&&he.reset()}return{initialize:function(Se){try{(he=g(Me).create({mediaElement:T.mediaElement})).initialize(Se.Range),(V=A(Me).create({debug:T.debug,metricsConstants:T.metricsConstants,mediaPlayerModel:T.mediaPlayerModel})).initialize(Se.Reporting,he),(W=ct(Me).create({debug:T.debug,eventBus:T.eventBus,metricsConstants:T.metricsConstants,events:T.events})).initialize(Se.metrics,V)}catch(Ne){throw Oe(),Ne}},reset:Oe}}_e.__dashjs_factory_name="MetricsController";var Ge=dashjs.FactoryMaker.getClassFactory(_e),vt=function T(){(function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")})(this,T),this.metrics="",this.Range=[],this.Reporting=[]},ft=function T(){(function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")})(this,T),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},qe=function T(){(function(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")})(this,T),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function $e(T){var W=(T=T||{}).adapter,V=T.constants;return{getMetrics:function(he){var Me=[];return he&&he.Metrics_asArray&&he.Metrics_asArray.forEach(function(Oe){var Se=new vt,Ne=W.getIsDynamic(he);Oe.hasOwnProperty("metrics")&&(Se.metrics=Oe.metrics,Oe.Range_asArray&&Oe.Range_asArray.forEach(function(Ke){var We=new ft;We.starttime=function(At,et,Dt){var Mt,Ut,ln=0;return et?ln=W.getAvailabilityStartTime(At)/1e3:(Mt=W.getRegularPeriods(At)).length&&(ln=Mt[0].start),Ut=ln,Dt&&Dt.hasOwnProperty(V.START_TIME)&&(Ut+=Dt.starttime),Ut}(he,Ne,Ke),Ke.hasOwnProperty("duration")?We.duration=Ke.duration:We.duration=W.getDuration(he),We._useWallClockTime=Ne,Se.Range.push(We)}),Oe.Reporting_asArray&&(Oe.Reporting_asArray.forEach(function(Ke){var We=new qe;Ke.hasOwnProperty(V.SCHEME_ID_URI)&&(We.schemeIdUri=Ke.schemeIdUri,Ke.hasOwnProperty("value")&&(We.value=Ke.value),Ke.hasOwnProperty(V.DVB_REPORTING_URL)&&(We.dvb_reportingUrl=Ke[V.DVB_REPORTING_URL]),Ke.hasOwnProperty(V.DVB_PROBABILITY)&&(We.dvb_probability=Ke[V.DVB_PROBABILITY]),Se.Reporting.push(We))}),Me.push(Se)))}),Me}}}$e.__dashjs_factory_name="ManifestParsing";var de=dashjs.FactoryMaker.getSingletonFactory($e);function ge(T){var W;T=T||{};var V={},he=this.context,Me=T.eventBus,Oe=T.events;function Se(Ke){if(!Ke.error){var We=Object.keys(V);de(he).getInstance({adapter:T.adapter,constants:T.constants}).getMetrics(Ke.manifest).forEach(function(At){var et=JSON.stringify(At);if(V.hasOwnProperty(et))We.splice(et,1);else try{var Dt=Ge(he).create(T);Dt.initialize(At),V[et]=Dt}catch{}}),We.forEach(function(At){V[At].reset(),delete V[At]}),Me.trigger(t.Z.METRICS_INITIALISATION_COMPLETE)}}function Ne(){Object.keys(V).forEach(function(Ke){V[Ke].reset()}),V={}}return W={reset:function(){Me.off(Oe.MANIFEST_UPDATED,Se,W),Me.off(Oe.STREAM_TEARDOWN_COMPLETE,Ne,W)}},Me.on(Oe.MANIFEST_UPDATED,Se,W),Me.on(Oe.STREAM_TEARDOWN_COMPLETE,Ne,W),W}ge.__dashjs_factory_name="MetricsCollectionController";var Ve=dashjs.FactoryMaker.getClassFactory(ge);function f(){var T=this.context;return{createMetricsReporting:function(W){return y(T).getInstance({eventBus:W.eventBus,dashMetrics:W.dashMetrics,metricsConstants:W.metricsConstants,events:W.events}).initialize(),Ve(T).create(W)},getReportingFactory:function(){return ee(T).getInstance()},getMetricsHandlerFactory:function(){return Ue(T).getInstance()}}}f.__dashjs_factory_name="MetricsReporting";var i=dashjs.FactoryMaker.getClassFactory(f);i.events=t.Z,dashjs.FactoryMaker.updateClassFactory(f.__dashjs_factory_name,i);var v=i},1180:function(tt,we,O){function ie(p){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ie(p)}function S(p,u){return S=Object.setPrototypeOf||function(g,E){return g.__proto__=E,g},S(p,u)}function t(p,u){return!u||ie(u)!=="object"&&typeof u!="function"?function(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(p):u}function e(p){return e=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},e(p)}var y=new(function(p){(function(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),d&&S(l,d)})(n,p);var u,g,E=(u=n,g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,d=e(u);if(g){var D=e(this).constructor;l=Reflect.construct(d,arguments,D)}else l=d.apply(this,arguments);return t(this,l)});function n(){var l;return function(d,D){if(!(d instanceof D))throw new TypeError("Cannot call a class as a function")}(this,n),(l=E.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",l.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",l.CMCD_DATA_GENERATED="cmcdDataGenerated",l}return n}(O(8342).Z));we.Z=y},5717:function(tt,we,O){var ie=O(2610),S=O(5448),t=O(1264),e=O(3106),y=O(1767),p=O(3393);function u(){var g,E,n,l,d,D,Z,k,F=this.context,ee=(0,t.Z)(F).getInstance();function M(){l=[],d=[],D=[],k=[],Z=null,E=[]}function A(Ee,Je){var oe=-1;Ee.some(function(Ce,He){if(Ce===Je)return oe=He,!0}),oe<0||Ee.splice(oe,1)}function U(Ee){var Je;for(Je=0;Je<k.length;Je++)if(k[Je].rulename===Ee)return Je;return-1}function J(Ee,Je){$(Ee,Je);var oe=new ie.Z;oe.schemeIdUri=Ee,oe.value=Je,E.push(oe)}function $(Ee,Je){(0,e.PS)(Ee,"string"),(0,e.PS)(Je,"string"),E.forEach(function(oe,Ce){oe.schemeIdUri===Ee&&oe.value===Je&&E.splice(Ce,1)})}return g={getCustomInitialTrackSelectionFunction:function(){return Z},setCustomInitialTrackSelectionFunction:function(Ee){Z=Ee},resetCustomInitialTrackSelectionFunction:function(){Z=null},getLicenseResponseFilters:function(){return d},getLicenseRequestFilters:function(){return l},getCustomCapabilitiesFilters:function(){return D},registerCustomCapabilitiesFilter:function(Ee){D.push(Ee)},registerLicenseResponseFilter:function(Ee){d.push(Ee)},registerLicenseRequestFilter:function(Ee){l.push(Ee)},unregisterCustomCapabilitiesFilter:function(Ee){A(D,Ee)},unregisterLicenseResponseFilter:function(Ee){A(d,Ee)},unregisterLicenseRequestFilter:function(Ee){A(l,Ee)},addAbrCustomRule:function(Ee,Je,oe){if(typeof Ee!="string"||Ee!==y.Z.ABANDON_FRAGMENT_RULES&&Ee!==y.Z.QUALITY_SWITCH_RULES||typeof Je!="string")throw p.Z.BAD_ARGUMENT_ERROR;var Ce=U(Je);Ce===-1?k.push({type:Ee,rulename:Je,rule:oe}):(k[Ce].type=Ee,k[Ce].rule=oe)},removeAllAbrCustomRule:function(){k=[]},removeAbrCustomRule:function(Ee){if(Ee){var Je=U(Ee);Je!==-1&&k.splice(Je,1)}else k=[]},getAbrCustomRules:function(){return k},addUTCTimingSource:J,removeUTCTimingSource:$,getUTCTimingSources:function(){return E},clearDefaultUTCTimingSources:function(){E=[]},restoreDefaultUTCTimingSources:function(){var Ee=ee.get().streaming.utcSynchronization.defaultTimingSource;J(Ee.scheme,Ee.value)},setXHRWithCredentialsForType:function Ee(Je,oe){Je?n[Je]=!!oe:Object.keys(n).forEach(function(Ce){Ee(Ce,oe)})},getXHRWithCredentialsForType:function(Ee){var Je=n[Ee];return Je===void 0?n.default:Je},setConfig:function(){},reset:function(){M()}},n={default:!1},M(),g}u.__dashjs_factory_name="CustomParametersModel",we.Z=S.Z.getSingletonFactory(u)},9032:function(tt,we,O){var ie=O(5448),S=O(7473);function t(y){var p=(y=y||{}).requestModifier;function u(g){var E=new Date,n=g.request,l=new XMLHttpRequest;if(l.open(g.method,g.url,!0),n.responseType&&(l.responseType=n.responseType),n.range&&l.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=E),p&&p.modifyRequestHeader&&(l=p.modifyRequestHeader(l,{url:g.url})),g.headers)for(var d in g.headers){var D=g.headers[d];D&&l.setRequestHeader(d,D)}l.withCredentials=g.withCredentials,l.onload=g.onload,l.onloadend=g.onend,l.onerror=g.onerror,l.onprogress=g.progress,l.onabort=g.onabort,l.ontimeout=g.ontimeout,l.timeout=g.timeout,l.send(),g.response=l}return{load:function(g){p&&p.modifyRequest?(0,S.k)(g,p).then(function(){return u(g)}):u(g)},abort:function(g){var E=g.response;E.onloadend=E.onerror=E.onprogress=void 0,E.abort()}}}t.__dashjs_factory_name="XHRLoader";var e=ie.Z.getClassFactory(t);we.Z=e},1737:function(tt,we,O){function ie(_t,pt){for(var yt=0;yt<pt.length;yt++){var Ye=pt[yt];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(_t,Ye.key,Ye)}}O.d(we,{default:function(){return Cr}});var S={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]},t=function(){function _t(){(function(Ye,ot){if(!(Ye instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,_t)}var pt,yt;return pt=_t,yt=[{key:"findCencContentProtection",value:function(Ye){for(var ot=null,Xe=0;Xe<Ye.length;++Xe){var it=Ye[Xe];it.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||it.value.toLowerCase()!=="cenc"&&it.value.toLowerCase()!=="cbcs"||(ot=it)}return ot}},{key:"getPSSHData",value:function(Ye){var ot=8,Xe=new DataView(Ye),it=Xe.getUint8(ot);return ot+=20,it>0&&(ot+=4+16*Xe.getUint32(ot)),ot+=4,Ye.slice(ot)}},{key:"getPSSHForKeySystem",value:function(Ye,ot){var Xe=_t.parsePSSHList(ot);return Ye&&Xe.hasOwnProperty(Ye.uuid.toLowerCase())?Xe[Ye.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(Ye,ot){return"pssh"in Ye?(Ye.pssh.__text=Ye.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),ot.decodeArray(Ye.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(Ye){if(Ye==null)return[];for(var ot=new DataView(Ye.buffer||Ye),Xe={},it=0;;){var It,wt,Bt=void 0,qt=it;if(it>=ot.buffer.byteLength)break;if(It=it+ot.getUint32(it),it+=4,ot.getUint32(it)===1886614376)if(it+=4,(wt=ot.getUint8(it))===0||wt===1){it++,it+=3,Bt="";var Ct=void 0,gt=void 0;for(Ct=0;Ct<4;Ct++)Bt+=(gt=ot.getUint8(it+Ct).toString(16)).length===1?"0"+gt:gt;for(it+=4,Bt+="-",Ct=0;Ct<2;Ct++)Bt+=(gt=ot.getUint8(it+Ct).toString(16)).length===1?"0"+gt:gt;for(it+=2,Bt+="-",Ct=0;Ct<2;Ct++)Bt+=(gt=ot.getUint8(it+Ct).toString(16)).length===1?"0"+gt:gt;for(it+=2,Bt+="-",Ct=0;Ct<2;Ct++)Bt+=(gt=ot.getUint8(it+Ct).toString(16)).length===1?"0"+gt:gt;for(it+=2,Bt+="-",Ct=0;Ct<6;Ct++)Bt+=(gt=ot.getUint8(it+Ct).toString(16)).length===1?"0"+gt:gt;it+=6,it+=4,Xe[Bt=Bt.toLowerCase()]=ot.buffer.slice(qt,It),it=It}else it=It;else it=It}return Xe}},{key:"getLicenseServerUrlFromMediaInfo",value:function(Ye,ot){try{if(!Ye||Ye.length===0)return null;for(var Xe=0,it=null;Xe<Ye.length&&!it;){var It=Ye[Xe];if(It&&It.contentProtection&&It.contentProtection.length>0){var wt=It.contentProtection.filter(function($t){return $t.schemeIdUri&&$t.schemeIdUri===ot});if(wt&&wt.length>0)for(var Bt=0;Bt<wt.length&&!it;){for(var qt=wt[Bt],Ct=0;Ct<S.attributes.length&&!it;){for(var gt=0,Ft=S.attributes[Ct];gt<S.prefixes.length&&!it;){var Lt=S.prefixes[gt];qt[Ft]&&qt[Ft].__prefix&&qt[Ft].__prefix===Lt&&qt[Ft].__text&&(it=qt[Ft].__text),gt+=1}Ct+=1}Bt+=1}}Xe+=1}return it}catch{return null}}}],yt&&ie(pt,yt),_t}(),e=function _t(pt,yt){(function(Ye,ot){if(!(Ye instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,_t),this.contentType=pt,this.robustness=yt},y=function _t(pt,yt,Ye,ot,Xe){(function(it,It){if(!(it instanceof It))throw new TypeError("Cannot call a class as a function")})(this,_t),this.initDataTypes=["cenc"],pt&&pt.length&&(this.audioCapabilities=pt),yt&&yt.length&&(this.videoCapabilities=yt),this.distinctiveIdentifier=Ye,this.persistentState=ot,this.sessionTypes=Xe};function p(_t){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},p(_t)}function u(_t,pt){return u=Object.setPrototypeOf||function(yt,Ye){return yt.__proto__=Ye,yt},u(_t,pt)}function g(_t,pt){return!pt||p(pt)!=="object"&&typeof pt!="function"?function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(_t):pt}function E(_t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(pt){return pt.__proto__||Object.getPrototypeOf(pt)},E(_t)}var n=new(function(_t){(function(Xe,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(it&&it.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),it&&u(Xe,it)})(ot,_t);var pt,yt,Ye=(pt=ot,yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Xe,it=E(pt);if(yt){var It=E(this).constructor;Xe=Reflect.construct(it,arguments,It)}else Xe=it.apply(this,arguments);return g(this,Xe)});function ot(){var Xe;return function(it,It){if(!(it instanceof It))throw new TypeError("Cannot call a class as a function")}(this,ot),(Xe=Ye.call(this)).MEDIA_KEYERR_CODE=100,Xe.MEDIA_KEYERR_UNKNOWN_CODE=101,Xe.MEDIA_KEYERR_CLIENT_CODE=102,Xe.MEDIA_KEYERR_SERVICE_CODE=103,Xe.MEDIA_KEYERR_OUTPUT_CODE=104,Xe.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,Xe.MEDIA_KEYERR_DOMAIN_CODE=106,Xe.MEDIA_KEY_MESSAGE_ERROR_CODE=107,Xe.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,Xe.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,Xe.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,Xe.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,Xe.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,Xe.KEY_SESSION_CREATED_ERROR_CODE=113,Xe.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,Xe.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",Xe.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",Xe.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",Xe.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",Xe.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",Xe.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",Xe.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",Xe.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",Xe.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",Xe.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",Xe.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",Xe.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",Xe.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",Xe.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",Xe}return ot}(O(2230).Z)),l=O(5459),d=function _t(pt,yt,Ye,ot,Xe,it,It,wt){(function(Bt,qt){if(!(Bt instanceof qt))throw new TypeError("Cannot call a class as a function")})(this,_t),this.url=pt,this.method=yt,this.responseType=Ye,this.headers=ot,this.withCredentials=Xe,this.messageType=it,this.sessionId=It,this.data=wt},D=function _t(pt,yt,Ye){(function(ot,Xe){if(!(ot instanceof Xe))throw new TypeError("Cannot call a class as a function")})(this,_t),this.url=pt,this.headers=yt,this.data=Ye},Z=O(7855),k=O(703),F=O(3393),ee=O(5448);function M(_t){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},M(_t)}function A(_t){var pt,yt,Ye,ot,Xe,it,It,wt,Bt,qt,Ct,gt=(_t=_t||{}).protectionKeyController,Ft=_t.protectionModel,Lt=_t.eventBus,$t=_t.events,sn=_t.debug,En=_t.BASE64,Xt=_t.constants,Et=[],Tt=_t.cmcdModel,Nt=_t.settings,Jt=_t.customParametersModel;function nn(){if(!(Lt&&Lt.hasOwnProperty("on")&&gt&&gt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function hn(bt,Kt){wt||Bt?wt&&yn():function(un,Pn){if(!Bt){Bt=!0;var On,Zn=[];un=un.sort(function(Ln,In){return(Xe&&Xe[Ln.ks.systemString]&&Xe[Ln.ks.systemString].priority>=0?Xe[Ln.ks.systemString].priority:un.length)-(Xe&&Xe[In.ks.systemString]&&Xe[In.ks.systemString].priority>=0?Xe[In.ks.systemString].priority:un.length)});for(var Tn=0;Tn<un.length;Tn++){var Kn=Ar(un[Tn]);Zn.push({ks:un[Tn].ks,configs:[Kn],protData:un[Tn].protData})}Ft.requestKeySystemAccess(Zn).then(function(Ln){var In=(On=Ln.data).mksa&&On.mksa.selectedSystemString?On.mksa.selectedSystemString:On.keySystem.systemString;return yt.info("DRM: KeySystem Access Granted for system string ("+In+")!  Selecting key system..."),Ft.selectKeySystem(On)}).then(function(Ln){if(wt=Ln,Bt=!1,Ft){Lt.trigger($t.KEY_SYSTEM_SELECTED,{data:On});var In=kn(wt);In&&In.serverCertificate&&In.serverCertificate.length>0&&Ft.setServerCertificate(En.decodeArray(In.serverCertificate).buffer),yn()}}).catch(function(Ln){wt=null,Bt=!1,Pn||Lt.trigger($t.KEY_SYSTEM_SELECTED,{data:null,error:new l.Z(n.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,n.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Ln.error)})})}}(bt,Kt)}function yn(){for(var bt,Kt=0;Kt<Ye.length;Kt++)for(bt=0;bt<Ye[Kt].length;bt++)if(wt===Ye[Kt][bt].ks){qn(Ye[Kt][bt]);break}Ye=[]}function qn(bt){if(gt.isClearKey(wt)&&bt.protData&&bt.protData.hasOwnProperty("clearkeys")&&Object.keys(bt.protData.clearkeys).length!==0){var Kt={kids:Object.keys(bt.protData.clearkeys)};bt.initData=new TextEncoder().encode(JSON.stringify(Kt))}bt.sessionId?Un(bt):bt.initData!==null&&wn(bt)}function Un(bt){nn(),Ft.loadKeySession(bt)}function wn(bt){var Kt=t.getPSSHForKeySystem(wt,bt?bt.initData:null);if(Kt){if(function(un){if(!un)return!1;try{for(var Pn=Ft.getSessions(),On=0;On<Pn.length;On++)if(Pn[On].getKeyId()===un)return!0;return!1}catch{return!1}}(bt.keyId)||Mn(Kt))return;try{bt.initData=Kt,Ft.createKeySession(bt)}catch(un){Lt.trigger($t.KEY_SESSION_CREATED,{data:null,error:new l.Z(n.KEY_SESSION_CREATED_ERROR_CODE,n.KEY_SESSION_CREATED_ERROR_MESSAGE+un.message)})}}else bt&&bt.initData?Ft.createKeySession(bt):Lt.trigger($t.KEY_SESSION_CREATED,{data:null,error:new l.Z(n.KEY_SESSION_CREATED_ERROR_CODE,n.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(wt?wt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function kn(bt){if(bt){var Kt=bt.systemString;if(Xe)return Kt in Xe?Xe[Kt]:null}return null}function Mn(bt){if(!bt)return!1;try{for(var Kt=Ft.getAllInitData(),un=0;un<Kt.length;un++)if(gt.initDataEquals(bt,Kt[un]))return yt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Vn(bt){nn(),bt?(Ft.setMediaElement(bt),Lt.on($t.NEED_KEY,Gr,pt)):bt===null&&(Ft.setMediaElement(bt),Lt.off($t.NEED_KEY,Gr,pt))}function Ar(bt){var Kt=bt.protData,un=[],Pn=[],On=Kt&&Kt.audioRobustness&&Kt.audioRobustness.length>0?Kt.audioRobustness:It,Zn=Kt&&Kt.videoRobustness&&Kt.videoRobustness.length>0?Kt.videoRobustness:It,Tn=bt.sessionType,Kn=Kt&&Kt.distinctiveIdentifier?Kt.distinctiveIdentifier:"optional",Ln=Kt&&Kt.persistentState?Kt.persistentState:Tn==="temporary"?"optional":"required";return ot.forEach(function(In){In.type===Xt.AUDIO?un.push(new e(In.codec,On)):In.type===Xt.VIDEO&&Pn.push(new e(In.codec,Zn))}),new y(un,Pn,Kn,Ln,[Tn])}function pr(bt){bt.error?Lt.trigger($t.KEY_STATUSES_CHANGED,{data:null,error:bt.error}):yt.debug("DRM: key status = "+bt.status)}function ir(bt){yt.debug("DRM: onKeyMessage");var Kt=bt.data;Lt.trigger($t.KEY_MESSAGE,{data:Kt});var un=Kt.messageType?Kt.messageType:"license-request",Pn=Kt.message,On=Kt.sessionToken,Zn=kn(wt),Tn=gt.getLicenseServerModelInstance(wt,Zn,un),Kn={sessionToken:On,messageType:un};if(Pn&&Pn.byteLength!==0){if(!Tn)return yt.debug("DRM: License server request not required for this message (type = "+bt.data.messageType+").  Session ID = "+On.getSessionId()),void Xn(Kn);if(gt.isClearKey(wt)){var Ln=gt.processClearKeyLicenseRequest(wt,Zn,Pn);if(Ln&&Ln.keyPairs&&Ln.keyPairs.length>0)return yt.debug("DRM: ClearKey license request handled by application!"),Xn(Kn),void Ft.updateKeySession(On,Ln)}(function(In,ar,zn){var cr=In.sessionToken,er=In.messageType?In.messageType:"license-request",yr={sessionToken:cr,messageType:er},fr=wt?wt.systemString:null,ei=function(Nn,Er,vr,_r,wi){var or=null,si=_r.message;if(Nn&&Nn.serverURL){var lr=Nn.serverURL;typeof lr=="string"&&lr!==""?or=lr:M(lr)==="object"&&lr.hasOwnProperty(Er)&&(or=lr[Er])}else if(Nn&&Nn.laURL&&Nn.laURL!=="")or=Nn.laURL;else if(!(or=t.getLicenseServerUrlFromMediaInfo(ot,wt.schemeIdURI))&&!gt.isClearKey(wt)){var Hr=t.getPSSHData(vr.initData);(or=wt.getLicenseServerURLFromInitData(Hr))||(or=_r.laURL)}return or=wi.getServerURLFromMessage(or,si,Er)}(zn,er,cr,In,ar);if(ei){var Ir={},qr=!1;zn&&Zr(Ir,zn.httpRequestHeaders);var ti=In.message;Zr(Ir,wt.getRequestHeadersFromMessage(ti)),Object.keys(Ir).forEach(function(Nn){Nn.toLowerCase()==="authorization"&&(qr=!0)}),zn&&typeof zn.withCredentials=="boolean"&&(qr=zn.withCredentials);var ni=function(Nn){if(Ft)if(Nn.status>=200&&Nn.status<=299){var Er=k.Z.parseHttpHeaders(Nn.getAllResponseHeaders?Nn.getAllResponseHeaders():null),vr=new D(Nn.responseURL,Er,Nn.response);Br(Jt.getLicenseResponseFilters(),vr).then(function(){var _r=ar.getLicenseMessage(vr.data,fr,er);_r!==null?(Xn(yr),Ft.updateKeySession(cr,_r)):Ur(Nn,yr,fr,er,ar)})}else Ur(Nn,yr,fr,er,ar)},ri=function(Nn){Xn(yr,new l.Z(n.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,n.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fr+' update, XHR aborted. status is "'+Nn.statusText+'" ('+Nn.status+"), readyState is "+Nn.readyState))},Ai=function(Nn){Xn(yr,new l.Z(n.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,n.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fr+' update, XHR error. status is "'+Nn.statusText+'" ('+Nn.status+"), readyState is "+Nn.readyState))},Yr=wt.getLicenseRequestFromMessage(ti),ii=ar.getHTTPMethod(er),jr=ar.getResponseType(fr,er),Ii=zn&&!isNaN(zn.httpTimeout)?zn.httpTimeout:8e3,ai=cr.getSessionId()||null,oi=new d(ei,ii,jr,Ir,qr,er,ai,Yr),Ri=isNaN(Nt.get().streaming.retryAttempts[Z.w.LICENSE])?3:Nt.get().streaming.retryAttempts[Z.w.LICENSE];Br(Jt.getLicenseRequestFilters(),oi).then(function(){Jr(oi,Ri,Ii,ni,ri,Ai)})}else Xn(yr,new l.Z(n.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,n.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(Kt,Tn,Zn)}else Xn(Kn,new l.Z(n.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,n.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Xn(bt,Kt){Lt.trigger($t.LICENSE_REQUEST_COMPLETE,{data:bt,error:Kt})}function Jr(bt,Kt,un,Pn,On,Zn){var Tn=new XMLHttpRequest;if(Nt.get().streaming.cmcd&&Nt.get().streaming.cmcd.enabled&&Nt.get().streaming.cmcd.mode===F.Z.CMCD_MODE_QUERY){var Kn=Tt.getQueryParameter({url:bt.url,type:Z.w.LICENSE});Kn&&(bt.url=k.Z.addAditionalQueryParameterToUrl(bt.url,[Kn]))}for(var Ln in Tn.open(bt.method,bt.url,!0),Tn.responseType=bt.responseType,Tn.withCredentials=bt.withCredentials,un>0&&(Tn.timeout=un),bt.headers)Tn.setRequestHeader(Ln,bt.headers[Ln]);if(Nt.get().streaming.cmcd&&Nt.get().streaming.cmcd.enabled&&Nt.get().streaming.cmcd.mode===F.Z.CMCD_MODE_HEADER){var In=Tt.getHeaderParameters({url:bt.url,type:Z.w.LICENSE});if(In)for(var ar in In){var zn=In[ar];zn&&Tn.setRequestHeader(ar,zn)}}var cr=function(){Kt--;var er=isNaN(Nt.get().streaming.retryIntervals[Z.w.LICENSE])?1e3:Nt.get().streaming.retryIntervals[Z.w.LICENSE];Ct=setTimeout(function(){Jr(bt,Kt,un,Pn,On,Zn)},er)};Tn.onload=function(){qt=null,this.status>=200&&this.status<=299||Kt<=0?Pn(this):(yt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Kt),cr())},Tn.ontimeout=Tn.onerror=function(){qt=null,Kt<=0?Zn(this):(yt.warn("License request network request failed . Retrying it... Pending retries: "+Kt),cr())},Tn.onabort=function(){On(this)},Lt.trigger($t.LICENSE_REQUEST_SENDING,{url:bt.url,headers:bt.headers,payload:bt.data,sessionId:bt.sessionId}),qt=Tn,Tn.send(bt.data)}function $r(){qt&&(qt.onloadend=qt.onerror=qt.onprogress=void 0,qt.abort(),qt=null),Ct&&(clearTimeout(Ct),Ct=null)}function Zr(bt,Kt){if(Kt)for(var un in Kt)bt[un]=Kt[un]}function Ur(bt,Kt,un,Pn,On){var Zn="NONE",Tn=null;bt.response&&(Zn=On.getErrorResponse(bt.response,un,Pn),Tn={serverResponse:bt.response||null,responseCode:bt.status||null,responseText:bt.statusText||null}),Xn(Kt,new l.Z(n.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,n.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+un+' update, XHR complete. status is "'+bt.statusText+'" ('+bt.status+"), readyState is "+bt.readyState+".  Response is "+Zn,Tn))}function Br(bt,Kt){return bt?bt.reduce(function(un,Pn){return un.then(function(){return Pn(Kt)})},Promise.resolve()):Promise.resolve()}function Gr(bt,Kt){if(!Nt.get().streaming.protection.ignoreEmeEncryptedEvent){if(yt.debug("DRM: onNeedKey"),bt.key.initDataType!=="cenc")return void yt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+bt.key.initDataType);if(ot.length===0&&(yt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Kt=Kt===void 0?1:Kt+1)<5))return void Et.push(setTimeout(function(){Gr(bt,Kt)},500));var un=bt.key.initData;if(ArrayBuffer.isView(un)&&(un=un.buffer),wt){var Pn=t.getPSSHForKeySystem(wt,un);if(Pn&&Mn(Pn))return}yt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(un)));var On=gt.getSupportedKeySystemsFromSegmentPssh(un,Xe,it);if(On.length===0)return void yt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(Zn){Ye.push(Zn),hn(Zn,!1)})(On)}}return pt={initializeForMedia:function(bt){if(!bt)throw new Error("mediaInfo can not be null or undefined");nn(),ot.push(bt)},clearMediaInfoArray:function(){ot=[]},handleKeySystemFromManifest:function(){if(ot&&ot.length!==0){var bt=[];ot.forEach(function(Kt){var un=gt.getSupportedKeySystemsFromContentProtection(Kt.contentProtection,Xe,it);un.length>0&&(bt.length===0&&(bt=un),Ye.push(un))}),bt&&bt.length>0&&hn(bt,!0)}},createKeySession:wn,loadKeySession:Un,removeKeySession:function(bt){nn(),Ft.removeKeySession(bt)},closeKeySession:function(bt){nn(),Ft.closeKeySession(bt)},setServerCertificate:function(bt){nn(),Ft.setServerCertificate(bt)},setMediaElement:Vn,setSessionType:function(bt){it=bt},setRobustnessLevel:function(bt){It=bt},setProtectionData:function(bt){Xe=bt,gt.setProtectionData(bt)},getSupportedKeySystemsFromContentProtection:function(bt){return nn(),gt.getSupportedKeySystemsFromContentProtection(bt,Xe,it)},getKeySystems:function(){return gt?gt.getKeySystems():[]},setKeySystems:function(bt){gt&&gt.setKeySystems(bt)},stop:function(){$r(),Ft&&Ft.stop()},reset:function(){Lt.off($t.INTERNAL_KEY_MESSAGE,ir,pt),Lt.off($t.INTERNAL_KEY_STATUS_CHANGED,pr,pt),nn(),$r(),Vn(null),wt=null,Bt=!1,Ft&&(Ft.reset(),Ft=null),Et.forEach(function(bt){return clearTimeout(bt)}),Et=[],ot=[],Ye=[]}},yt=sn.getLogger(pt),Ye=[],ot=[],it="temporary",It="",qt=null,Ct=null,Lt.on($t.INTERNAL_KEY_MESSAGE,ir,pt),Lt.on($t.INTERNAL_KEY_STATUS_CHANGED,pr,pt),pt}A.__dashjs_factory_name="ProtectionController";var U=ee.Z.getClassFactory(A),J=function _t(pt,yt){(function(Ye,ot){if(!(Ye instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,_t),this.keyID=pt,this.key=yt};function $(_t,pt){for(var yt=0;yt<pt.length;yt++){var Ye=pt[yt];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(_t,Ye.key,Ye)}}var Ee=function(){function _t(Ye,ot){if(function(Xe,it){if(!(Xe instanceof it))throw new TypeError("Cannot call a class as a function")}(this,_t),ot&&ot!=="persistent"&&ot!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Ye,this.type=ot}var pt,yt;return pt=_t,(yt=[{key:"toJWK",value:function(){var Ye,ot=this.keyPairs.length,Xe={keys:[]};for(Ye=0;Ye<ot;Ye++){var it={kty:"oct",alg:"A128KW",kid:this.keyPairs[Ye].keyID,k:this.keyPairs[Ye].key};Xe.keys.push(it)}this.type&&(Xe.type=this.type);var It=JSON.stringify(Xe),wt=It.length,Bt=new ArrayBuffer(wt),qt=new Uint8Array(Bt);for(Ye=0;Ye<wt;Ye++)qt[Ye]=It.charCodeAt(Ye);return Bt}}])&&$(pt.prototype,yt),_t}();function Je(_t,pt){for(var yt=0;yt<pt.length;yt++){var Ye=pt[yt];Ye.enumerable=Ye.enumerable||!1,Ye.configurable=!0,"value"in Ye&&(Ye.writable=!0),Object.defineProperty(_t,Ye.key,Ye)}}var oe=new(function(){function _t(){(function(Ye,ot){if(!(Ye instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,_t),this.init()}var pt,yt;return pt=_t,(yt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&Je(pt.prototype,yt),_t}()),Ce="e2719d58-a985-b3c9-781a-b030af78d30e",He=oe.CLEARKEY_KEYSTEM_STRING,Le="urn:uuid:"+Ce;function ve(_t){var pt=(_t=_t||{}).BASE64;return{uuid:Ce,schemeIdURI:Le,systemString:He,getInitData:function(yt,Ye){try{var ot=t.parseInitDataFromContentProtection(yt,pt);if(!ot&&Ye){var Xe={kids:[function(it){try{var It=it.replace(/-/g,"");return(It=btoa(It.match(/\w{2}/g).map(function(wt){return String.fromCharCode(parseInt(wt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Ye["cenc:default_KID"])]};ot=new TextEncoder().encode(JSON.stringify(Xe))}return ot}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(yt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(yt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(yt,Ye){var ot=null;if(yt){for(var Xe=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ye))),it=[],It=0;It<Xe.kids.length;It++){var wt=Xe.kids[It],Bt=yt.clearkeys&&yt.clearkeys.hasOwnProperty(wt)?yt.clearkeys[wt]:null;if(!Bt)throw new Error("DRM: ClearKey keyID ("+wt+") is not known!");it.push(new J(wt,Bt))}ot=new Ee(it)}return ot}}}ve.__dashjs_factory_name="KeySystemClearKey";var Ue=dashjs.FactoryMaker.getSingletonFactory(ve),Be="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ct=oe.CLEARKEY_KEYSTEM_STRING,_e="urn:uuid:"+Be;function Ge(_t){var pt,yt=_t.BASE64,Ye=_t.debug.getLogger(pt);return{uuid:Be,schemeIdURI:_e,systemString:ct,getInitData:function(ot){return t.parseInitDataFromContentProtection(ot,yt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(ot){return new Uint8Array(ot)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(ot,Xe){var it=null;if(ot){for(var It=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Xe))),wt=[],Bt=0;Bt<It.kids.length;Bt++){var qt=It.kids[Bt],Ct=ot.clearkeys&&ot.clearkeys.hasOwnProperty(qt)?ot.clearkeys[qt]:null;if(!Ct)throw new Error("DRM: ClearKey keyID ("+qt+") is not known!");wt.push(new J(qt,Ct))}it=new Ee(wt),Ye.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return it}}}Ge.__dashjs_factory_name="KeySystemW3CClearKey";var vt=dashjs.FactoryMaker.getSingletonFactory(Ge),ft="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",qe=oe.WIDEVINE_KEYSTEM_STRING,$e="urn:uuid:"+ft;function de(_t){var pt=(_t=_t||{}).BASE64;return{uuid:ft,schemeIdURI:$e,systemString:qe,getInitData:function(yt){return t.parseInitDataFromContentProtection(yt,pt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(yt){return new Uint8Array(yt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}de.__dashjs_factory_name="KeySystemWidevine";var ge=dashjs.FactoryMaker.getSingletonFactory(de),Ve="9a04f079-9840-4286-ab92-e65be0885f95",f=oe.PLAYREADY_KEYSTEM_STRING,i="urn:uuid:"+Ve;function v(_t){var pt="utf-16",yt=(_t=_t||{}).BASE64,Ye=_t.settings;function ot(){if(!yt||!yt.hasOwnProperty("decodeArray")||!yt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:Ve,schemeIdURI:i,systemString:f,getInitData:function(Xe){var it,It,wt,Bt,qt,Ct=new Uint8Array([112,115,115,104,0,0,0,0]),gt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Ft=0,Lt=null;if(ot(),!Xe)return null;if("pssh"in Xe)return t.parseInitDataFromContentProtection(Xe,yt);if("pro"in Xe)Lt=yt.decodeArray(Xe.pro.__text);else{if(!("prheader"in Xe))return null;Lt=yt.decodeArray(Xe.prheader.__text)}return it=Lt.length,It=4+Ct.length+gt.length+4+it,wt=new ArrayBuffer(It),Bt=new Uint8Array(wt),(qt=new DataView(wt)).setUint32(Ft,It),Ft+=4,Bt.set(Ct,Ft),Ft+=Ct.length,Bt.set(gt,Ft),Ft+=gt.length,qt.setUint32(Ft,it),Ft+=4,Bt.set(Lt,Ft),Ft+=it,Bt.buffer},getRequestHeadersFromMessage:function(Xe){var it,It,wt={},Bt=new DOMParser;if(Ye&&Ye.get().streaming.protection.detectPlayreadyMessageFormat&&pt==="utf-16"&&Xe&&Xe.byteLength%2==1)return wt["Content-Type"]="text/xml; charset=utf-8",wt;var qt=pt==="utf-16"?new Uint16Array(Xe):new Uint8Array(Xe);it=String.fromCharCode.apply(null,qt);for(var Ct=(It=Bt.parseFromString(it,"application/xml")).getElementsByTagName("name"),gt=It.getElementsByTagName("value"),Ft=0;Ft<Ct.length;Ft++)wt[Ct[Ft].childNodes[0].nodeValue]=gt[Ft].childNodes[0].nodeValue;return wt.hasOwnProperty("Content")&&(wt["Content-Type"]=wt.Content,delete wt.Content),wt.hasOwnProperty("Content-Type")||(wt["Content-Type"]="text/xml; charset=utf-8"),wt},getLicenseRequestFromMessage:function(Xe){var it=null,It=new DOMParser;if(Ye&&Ye.get().streaming.protection.detectPlayreadyMessageFormat&&pt==="utf-16"&&Xe&&Xe.byteLength%2==1)return Xe;var wt=pt==="utf-16"?new Uint16Array(Xe):new Uint8Array(Xe);ot();var Bt=String.fromCharCode.apply(null,wt),qt=It.parseFromString(Bt,"application/xml");if(!qt.getElementsByTagName("PlayReadyKeyMessage")[0])return Xe;var Ct=qt.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Ct&&(it=yt.decode(Ct)),it},getLicenseServerURLFromInitData:function(Xe){if(Xe)for(var it=new DataView(Xe),It=it.getUint16(4,!0),wt=6,Bt=new DOMParser,qt=0;qt<It;qt++){var Ct=it.getUint16(wt,!0);wt+=2;var gt=it.getUint16(wt,!0);if(wt+=2,Ct===1){var Ft=Xe.slice(wt,wt+gt),Lt=String.fromCharCode.apply(null,new Uint16Array(Ft)),$t=Bt.parseFromString(Lt,"application/xml");if($t.getElementsByTagName("LA_URL")[0]){var sn=$t.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(sn)return sn}if($t.getElementsByTagName("LUI_URL")[0]){var En=$t.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(En)return En}}else wt+=gt}return null},getCDMData:function(Xe){var it,It,wt,Bt;if(ot(),!Xe)return null;for(it=[],Bt=0;Bt<Xe.length;++Bt)it.push(Xe.charCodeAt(Bt)),it.push(0);for(it=String.fromCharCode.apply(null,it),it=yt.encode(it),It='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",it),wt=[],Bt=0;Bt<It.length;++Bt)wt.push(It.charCodeAt(Bt)),wt.push(0);return new Uint8Array(wt).buffer},setPlayReadyMessageFormat:function(Xe){if(Xe!=="utf-8"&&Xe!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');pt=Xe}}}v.__dashjs_factory_name="KeySystemPlayReady";var T=dashjs.FactoryMaker.getSingletonFactory(v);function W(_t){var pt=(_t=_t||{}).BASE64,yt={};return yt[oe.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Ye){return pt.decodeArray(Ye.license)},getErrorResponse:function(Ye){return Ye}},yt[oe.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Ye){return Ye},getErrorResponse:function(Ye){return String.fromCharCode.apply(null,new Uint8Array(Ye))}},{getServerURLFromMessage:function(Ye){return Ye},getHTTPMethod:function(){return"POST"},getResponseType:function(Ye){return yt[Ye].responseType},getLicenseMessage:function(Ye,ot){return function(){if(!pt||!pt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),yt[ot].getLicenseMessage(Ye)},getErrorResponse:function(Ye,ot){return yt[ot].getErrorResponse(Ye)}}}W.__dashjs_factory_name="DRMToday";var V=dashjs.FactoryMaker.getSingletonFactory(W);function he(){var _t="http://schemas.xmlsoap.org/soap/envelope/";function pt(ot){var Xe=String.fromCharCode.apply(null,new Uint8Array(ot));return decodeURIComponent(escape(Xe))}function yt(ot){if(window.DOMParser){var Xe=pt(ot),it=new window.DOMParser().parseFromString(Xe,"text/xml"),It=it?it.getElementsByTagNameNS(_t,"Envelope")[0]:null,wt=It?It.getElementsByTagNameNS(_t,"Body")[0]:null;if(wt&&wt.getElementsByTagNameNS(_t,"Fault")[0])return null}return ot}function Ye(ot){var Xe="",it="",It="",wt=-1,Bt=-1;if(window.DOMParser){var qt=pt(ot),Ct=new window.DOMParser().parseFromString(qt,"text/xml"),gt=Ct?Ct.getElementsByTagNameNS(_t,"Envelope")[0]:null,Ft=gt?gt.getElementsByTagNameNS(_t,"Body")[0]:null,Lt=Ft?Ft.getElementsByTagNameNS(_t,"Fault")[0]:null,$t=Lt?Lt.getElementsByTagName("detail")[0]:null,sn=$t?$t.getElementsByTagName("Exception")[0]:null,En=null;if(Lt===null)return qt;Xe=(En=Lt.getElementsByTagName("faultstring")[0].firstChild)?En.nodeValue:null,sn!==null&&(it=(En=sn.getElementsByTagName("StatusCode")[0])?En.firstChild.nodeValue:null,wt=(It=(En=sn.getElementsByTagName("Message")[0])?En.firstChild.nodeValue:null)?It.lastIndexOf("[")+1:-1,Bt=It?It.indexOf("]"):-1,It=It?It.substring(wt,Bt):"")}var Xt="code: ".concat(it,", name: ").concat(Xe);return It&&(Xt+=", message: ".concat(It)),Xt}return{getServerURLFromMessage:function(ot){return ot},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(ot){return yt.call(this,ot)},getErrorResponse:function(ot){return Ye.call(this,ot)}}}he.__dashjs_factory_name="PlayReady";var Me=ee.Z.getSingletonFactory(he);function Oe(){return{getServerURLFromMessage:function(_t){return _t},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(_t){return _t},getErrorResponse:function(_t){return String.fromCharCode.apply(null,new Uint8Array(_t))}}}Oe.__dashjs_factory_name="Widevine";var Se=dashjs.FactoryMaker.getSingletonFactory(Oe);function Ne(){return{getServerURLFromMessage:function(_t){return _t},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(_t){if(!_t.hasOwnProperty("keys"))return null;for(var pt=[],yt=0;yt<_t.keys.length;yt++){var Ye=_t.keys[yt],ot=Ye.kid.replace(/=/g,""),Xe=Ye.k.replace(/=/g,"");pt.push(new J(ot,Xe))}return new Ee(pt)},getErrorResponse:function(_t){return String.fromCharCode.apply(null,new Uint8Array(_t))}}}Ne.__dashjs_factory_name="ClearKey";var Ke=dashjs.FactoryMaker.getSingletonFactory(Ne);function We(){var _t,pt,yt,Ye,ot,Xe,it,It,wt=this.context;function Bt(gt,Ft){return Ft&&gt in Ft?Ft[gt]:null}function qt(gt,Ft){return gt&&gt.sessionId?gt.sessionId:Ft&&Ft.sessionId?Ft.sessionId:null}function Ct(gt,Ft){return gt&&gt.sessionType?gt.sessionType:Ft}return _t={initialize:function(){var gt;Ye=[],gt=T(wt).getInstance({BASE64:ot,settings:Xe}),Ye.push(gt),gt=ge(wt).getInstance({BASE64:ot}),Ye.push(gt),gt=Ue(wt).getInstance({BASE64:ot}),Ye.push(gt),it=gt,gt=vt(wt).getInstance({BASE64:ot,debug:pt}),Ye.push(gt),It=gt},setProtectionData:function(gt){for(var Ft,Lt,$t=0;$t<Ye.length;$t++){var sn=Ye[$t];sn.hasOwnProperty("init")&&sn.init((Ft=sn.systemString,Lt=void 0,Lt=null,gt&&(Lt=Ft in gt?gt[Ft]:null),Lt))}},isClearKey:function(gt){return gt===it||gt===It},initDataEquals:function(gt,Ft){if(gt.byteLength===Ft.byteLength){for(var Lt=new Uint8Array(gt),$t=new Uint8Array(Ft),sn=0;sn<Lt.length;sn++)if(Lt[sn]!==$t[sn])return!1;return!0}return!1},getKeySystems:function(){return Ye},setKeySystems:function(gt){Ye=gt},getKeySystemBySystemString:function(gt){for(var Ft=0;Ft<Ye.length;Ft++)if(Ye[Ft].systemString===gt)return Ye[Ft];return null},getSupportedKeySystemsFromContentProtection:function(gt,Ft,Lt){var $t,sn,En,Xt,Et=[];if(gt){var Tt=t.findCencContentProtection(gt);for(En=0;En<Ye.length;++En){var Nt=Bt((sn=Ye[En]).systemString,Ft);for(Xt=0;Xt<gt.length;++Xt)if(($t=gt[Xt]).schemeIdUri.toLowerCase()===sn.schemeIdURI){var Jt=sn.getInitData($t,Tt);Et.push({ks:Ye[En],keyId:$t.keyId,initData:Jt,protData:Nt,cdmData:sn.getCDMData(Nt?Nt.cdmData:null),sessionId:qt(Nt,$t),sessionType:Ct(Nt,Lt)})}}}return Et},getSupportedKeySystemsFromSegmentPssh:function(gt,Ft,Lt){for(var $t,sn=[],En=t.parsePSSHList(gt),Xt=0;Xt<Ye.length;++Xt){var Et=Bt(($t=Ye[Xt]).systemString,Ft);$t.uuid in En&&sn.push({ks:$t,initData:En[$t.uuid],protData:Et,cdmData:$t.getCDMData(Et?Et.cdmData:null),sessionId:qt(Et),sessionType:Ct(Et,Lt)})}return sn},getLicenseServerModelInstance:function(gt,Ft,Lt){if(Lt==="license-release"||Lt==="individualization-request")return null;var $t=null;return Ft&&Ft.hasOwnProperty("drmtoday")?$t=V(wt).getInstance({BASE64:ot}):gt.systemString===oe.WIDEVINE_KEYSTEM_STRING?$t=Se(wt).getInstance():gt.systemString===oe.PLAYREADY_KEYSTEM_STRING?$t=Me(wt).getInstance():gt.systemString===oe.CLEARKEY_KEYSTEM_STRING&&($t=Ke(wt).getInstance()),$t},processClearKeyLicenseRequest:function(gt,Ft,Lt){try{return gt.getClearKeysFromProtectionData(Ft,Lt)}catch{return yt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(gt){gt&&(gt.debug&&(pt=gt.debug,yt=pt.getLogger(_t)),gt.BASE64&&(ot=gt.BASE64),gt.settings&&(Xe=gt.settings))}},_t}We.__dashjs_factory_name="ProtectionKeyController";var At=dashjs.FactoryMaker.getSingletonFactory(We);function et(_t){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},et(_t)}function Dt(_t,pt){return Dt=Object.setPrototypeOf||function(yt,Ye){return yt.__proto__=Ye,yt},Dt(_t,pt)}function Mt(_t,pt){return!pt||et(pt)!=="object"&&typeof pt!="function"?function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(_t):pt}function Ut(_t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(pt){return pt.__proto__||Object.getPrototypeOf(pt)},Ut(_t)}var ln=new(function(_t){(function(Xe,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(it&&it.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),it&&Dt(Xe,it)})(ot,_t);var pt,yt,Ye=(pt=ot,yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Xe,it=Ut(pt);if(yt){var It=Ut(this).constructor;Xe=Reflect.construct(it,arguments,It)}else Xe=it.apply(this,arguments);return Mt(this,Xe)});function ot(){var Xe;return function(it,It){if(!(it instanceof It))throw new TypeError("Cannot call a class as a function")}(this,ot),(Xe=Ye.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",Xe.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",Xe.KEY_ADDED="public_keyAdded",Xe.KEY_ERROR="public_keyError",Xe.KEY_MESSAGE="public_keyMessage",Xe.KEY_SESSION_CLOSED="public_keySessionClosed",Xe.KEY_SESSION_CREATED="public_keySessionCreated",Xe.KEY_SESSION_REMOVED="public_keySessionRemoved",Xe.KEY_STATUSES_CHANGED="public_keyStatusesChanged",Xe.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",Xe.KEY_SYSTEM_SELECTED="public_keySystemSelected",Xe.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",Xe.LICENSE_REQUEST_SENDING="public_licenseRequestSending",Xe.NEED_KEY="needkey",Xe.PROTECTION_CREATED="public_protectioncreated",Xe.PROTECTION_DESTROYED="public_protectiondestroyed",Xe.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",Xe.TEARDOWN_COMPLETE="protectionTeardownComplete",Xe.VIDEO_ELEMENT_SELECTED="videoElementSelected",Xe.KEY_SESSION_UPDATED="public_keySessionUpdated",Xe}return ot}(O(8342).Z)),mn=function _t(pt,yt){(function(Ye,ot){if(!(Ye instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,_t),this.initData=pt,this.initDataType=yt},_n=function _t(pt,yt,Ye,ot){(function(Xe,it){if(!(Xe instanceof it))throw new TypeError("Cannot call a class as a function")})(this,_t),this.sessionToken=pt,this.message=yt,this.defaultURL=Ye,this.messageType=ot||"license-request"},Bn=function _t(pt,yt){(function(Ye,ot){if(!(Ye instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,_t),this.keySystem=pt,this.ksConfiguration=yt},vn={};function An(_t){_t=_t||{};var pt,yt,Ye,ot,Xe,it,It,wt,Bt=this.context,qt=_t.eventBus,Ct=_t.events,gt=_t.debug;function Ft(Et,Tt,Nt,Jt){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var nn="Insecure origins are not allowed";return qt.trigger(Ct.KEY_SYSTEM_ACCESS_COMPLETE,{error:nn}),void Jt({error:nn})}var hn=Et[Tt].protData&&Et[Tt].protData.systemStringPriority?Et[Tt].protData.systemStringPriority:null,yn=Et[Tt].configs,qn=Et[Tt].ks,Un=qn.systemString;(function(wn,kn){return new Promise(function(Mn,Vn){Lt(wn,kn,0,Mn,Vn)})})(hn||(vn[Un]?vn[Un]:[Un]),yn).then(function(wn){var kn=typeof wn.getConfiguration=="function"?wn.getConfiguration():null,Mn=new Bn(qn,kn);Mn.mksa=wn,qt.trigger(Ct.KEY_SYSTEM_ACCESS_COMPLETE,{data:Mn}),Nt({data:Mn})}).catch(function(wn){if(Tt+1<Et.length)Ft(Et,Tt+1,Nt,Jt);else{var kn="Key system access denied! ";qt.trigger(Ct.KEY_SYSTEM_ACCESS_COMPLETE,{error:kn+wn.message}),Jt({error:kn+wn.message})}})}function Lt(Et,Tt,Nt,Jt,nn){var hn=Et[Nt];yt.debug("Requesting key system access for system string ".concat(hn)),navigator.requestMediaKeySystemAccess(hn,Tt).then(function(yn){yn.selectedSystemString=hn,Jt(yn)}).catch(function(yn){Nt+1<Et.length?Lt(Et,Tt,Nt+1,Jt,nn):nn(yn)})}function $t(Et){if(!Et||!Et.session)return Promise.resolve;var Tt=Et.session;return Tt.removeEventListener("keystatuseschange",Et),Tt.removeEventListener("message",Et),Tt.close()}function sn(Et){for(var Tt=0;Tt<it.length;Tt++)if(it[Tt]===Et){it.splice(Tt,1);break}}function En(Et){var Tt,Nt;return Et&&Et.length>0&&(Et[0]&&(typeof Et[0]=="string"?Tt=Et[0]:Nt=Et[0]),Et[1]&&(typeof Et[1]=="string"?Tt=Et[1]:Nt=Et[1])),{status:Tt,keyId:Nt}}function Xt(Et,Tt){var Nt={session:Et,keyId:Tt.keyId,initData:Tt.initData,sessionId:Tt.sessionId,sessionType:Tt.sessionType,handleEvent:function(Jt){switch(Jt.type){case"keystatuseschange":qt.trigger(Ct.KEY_STATUSES_CHANGED,{data:this}),Jt.target.keyStatuses.forEach(function(){var hn=En(arguments);hn.status==="expired"?qt.trigger(Ct.INTERNAL_KEY_STATUS_CHANGED,{error:new l.Z(n.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,n.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):qt.trigger(Ct.INTERNAL_KEY_STATUS_CHANGED,hn)});break;case"message":var nn=ArrayBuffer.isView(Jt.message)?Jt.message.buffer:Jt.message;qt.trigger(Ct.INTERNAL_KEY_MESSAGE,{data:new _n(this,nn,void 0,Jt.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return Et.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return Et.expiration},getKeyStatuses:function(){return Et.keyStatuses},getUsable:function(){var Jt=!1;return Et.keyStatuses.forEach(function(){var nn=En(arguments);nn.status==="usable"&&(Jt=!0)}),Jt}};return Et.addEventListener("keystatuseschange",Nt),Et.addEventListener("message",Nt),Et.closed.then(function(){sn(Nt),yt.debug("DRM: Session closed.  SessionID = "+Nt.getSessionId()),qt.trigger(Ct.KEY_SESSION_CLOSED,{data:Nt.getSessionId()})}),it.push(Nt),Nt}return pt={getAllInitData:function(){for(var Et=[],Tt=0;Tt<it.length;Tt++)it[Tt].initData&&Et.push(it[Tt].initData);return Et},getSessions:function(){return it},requestKeySystemAccess:function(Et){return new Promise(function(Tt,Nt){Ft(Et,0,Tt,Nt)})},selectKeySystem:function(Et){return new Promise(function(Tt,Nt){Et.mksa.createMediaKeys().then(function(Jt){return Ye=Et.keySystem,Xe=Jt,ot?ot.setMediaKeys(Xe):Promise.resolve()}).then(function(){Tt(Ye)}).catch(function(){Nt({error:"Error selecting keys system ("+Et.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(Et){ot!==Et&&(ot&&(ot.removeEventListener("encrypted",It),ot.setMediaKeys&&ot.setMediaKeys(null)),(ot=Et)&&(ot.addEventListener("encrypted",It),ot.setMediaKeys&&Xe&&ot.setMediaKeys(Xe)))},setServerCertificate:function(Et){if(!Ye||!Xe)throw new Error("Can not set server certificate until you have selected a key system");Xe.setServerCertificate(Et).then(function(){yt.info("DRM: License server certificate successfully updated."),qt.trigger(Ct.SERVER_CERTIFICATE_UPDATED)}).catch(function(Tt){qt.trigger(Ct.SERVER_CERTIFICATE_UPDATED,{error:new l.Z(n.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,n.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Tt.name)})})},createKeySession:function(Et){if(!Ye||!Xe)throw new Error("Can not create sessions until you have selected a key system");var Tt=Xe.createSession(Et.sessionType),Nt=Xt(Tt,Et),Jt=Ye.systemString===oe.CLEARKEY_KEYSTEM_STRING&&(Et.initData||Et.protData&&Et.protData.clearkeys)?oe.INITIALIZATION_DATA_TYPE_KEYIDS:oe.INITIALIZATION_DATA_TYPE_CENC;Tt.generateRequest(Jt,Et.initData).then(function(){yt.debug("DRM: Session created.  SessionID = "+Nt.getSessionId()),qt.trigger(Ct.KEY_SESSION_CREATED,{data:Nt})}).catch(function(nn){sn(Nt),qt.trigger(Ct.KEY_SESSION_CREATED,{data:null,error:new l.Z(n.KEY_SESSION_CREATED_ERROR_CODE,n.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+nn.name)})})},updateKeySession:function(Et,Tt){var Nt=Et.session;wt.isClearKey(Ye)&&(Tt=Tt.toJWK()),Nt.update(Tt).then(function(){qt.trigger(Ct.KEY_SESSION_UPDATED)}).catch(function(Jt){qt.trigger(Ct.KEY_ERROR,{error:new l.Z(n.MEDIA_KEYERR_CODE,"Error sending update() message! "+Jt.name,Et)})})},loadKeySession:function(Et){if(!Ye||!Xe)throw new Error("Can not load sessions until you have selected a key system");for(var Tt=Et.sessionId,Nt=0;Nt<it.length;Nt++)if(Tt===it[Nt].sessionId)return void yt.warn("DRM: Ignoring session ID because we have already seen it!");var Jt=Xe.createSession(Et.sessionType),nn=Xt(Jt,Et);Jt.load(Tt).then(function(hn){hn?(yt.debug("DRM: Session loaded.  SessionID = "+nn.getSessionId()),qt.trigger(Ct.KEY_SESSION_CREATED,{data:nn})):(sn(nn),qt.trigger(Ct.KEY_SESSION_CREATED,{data:null,error:new l.Z(n.KEY_SESSION_CREATED_ERROR_CODE,n.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Tt+")")}))}).catch(function(hn){sn(nn),qt.trigger(Ct.KEY_SESSION_CREATED,{data:null,error:new l.Z(n.KEY_SESSION_CREATED_ERROR_CODE,n.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Tt+")! "+hn.name)})})},removeKeySession:function(Et){Et.session.remove().then(function(){yt.debug("DRM: Session removed.  SessionID = "+Et.getSessionId()),qt.trigger(Ct.KEY_SESSION_REMOVED,{data:Et.getSessionId()})},function(Tt){qt.trigger(Ct.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+Et.getSessionId()+"). "+Tt.name})})},closeKeySession:function(Et){$t(Et).catch(function(Tt){sn(Et),qt.trigger(Ct.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Et.getSessionId()+") "+Tt.name})})},stop:function(){for(var Et,Tt=0;Tt<it.length;Tt++)(Et=it[Tt]).getUsable()||($t(Et),sn(Et))},reset:function(){var Et,Tt=it.length;Tt!==0?function(){for(var Nt=function(nn){sn(nn),it.length===0&&(ot?(ot.removeEventListener("encrypted",It),ot.setMediaKeys(null).then(function(){qt.trigger(Ct.TEARDOWN_COMPLETE)})):qt.trigger(Ct.TEARDOWN_COMPLETE))},Jt=0;Jt<Tt;Jt++)(function(nn){$t(Et),Nt(nn)})(Et=it[Jt])}():qt.trigger(Ct.TEARDOWN_COMPLETE)}},yt=gt.getLogger(pt),Ye=null,ot=null,Xe=null,it=[],wt=At(Bt).getInstance(),It={handleEvent:function(Et){if(Et.type==="encrypted"&&Et.initData){var Tt=ArrayBuffer.isView(Et.initData)?Et.initData.buffer:Et.initData;qt.trigger(Ct.NEED_KEY,{key:new mn(Tt,Et.initDataType)})}}},pt}vn[oe.PLAYREADY_KEYSTEM_STRING]=[oe.PLAYREADY_KEYSTEM_STRING,oe.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],vn[oe.WIDEVINE_KEYSTEM_STRING]=[oe.WIDEVINE_KEYSTEM_STRING],vn[oe.CLEARKEY_KEYSTEM_STRING]=[oe.CLEARKEY_KEYSTEM_STRING],An.__dashjs_factory_name="ProtectionModel_21Jan2015";var Gn=dashjs.FactoryMaker.getClassFactory(An);function pn(_t){_t=_t||{};var pt,yt,Ye,ot,Xe,it,It,wt,Bt,qt=this.context,Ct=_t.eventBus,gt=_t.events,Ft=_t.debug,Lt=_t.api;function $t(){try{for(var Xt=0;Xt<It.length;Xt++)sn(It[Xt]);Ye&&Ye.removeEventListener(Lt.needkey,wt),Ct.trigger(gt.TEARDOWN_COMPLETE)}catch(Et){Ct.trigger(gt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Et.message})}}function sn(Xt){var Et=Xt.session;Et.removeEventListener(Lt.error,Xt),Et.removeEventListener(Lt.message,Xt),Et.removeEventListener(Lt.ready,Xt),Et.removeEventListener(Lt.close,Xt);for(var Tt=0;Tt<It.length;Tt++)if(It[Tt]===Xt){It.splice(Tt,1);break}Et[Lt.release]()}function En(){var Xt=null,Et=function(){Ye.removeEventListener("loadedmetadata",Xt),Ye[Lt.setMediaKeys](Xe),Ct.trigger(gt.VIDEO_ELEMENT_SELECTED)};Ye.readyState>=1?Et():(Xt=Et.bind(this),Ye.addEventListener("loadedmetadata",Xt))}return pt={getAllInitData:function(){for(var Xt=[],Et=0;Et<It.length;Et++)Xt.push(It[Et].initData);return Xt},getSessions:function(){return It},requestKeySystemAccess:function(Xt){return new Promise(function(Et,Tt){for(var Nt=!1,Jt=0;Jt<Xt.length;Jt++)for(var nn=Xt[Jt].ks.systemString,hn=Xt[Jt].configs,yn=null,qn=null,Un=0;Un<hn.length;Un++){var wn=hn[Un].audioCapabilities,kn=hn[Un].videoCapabilities;if(wn&&wn.length!==0){yn=[];for(var Mn=0;Mn<wn.length;Mn++)window[Lt.MediaKeys].isTypeSupported(nn,wn[Mn].contentType)&&yn.push(wn[Mn])}if(kn&&kn.length!==0){qn=[];for(var Vn=0;Vn<kn.length;Vn++)window[Lt.MediaKeys].isTypeSupported(nn,kn[Vn].contentType)&&qn.push(kn[Vn])}if(!(!yn&&!qn||yn&&yn.length===0||qn&&qn.length===0)){Nt=!0;var Ar=new y(yn,qn),pr=Bt.getKeySystemBySystemString(nn),ir=new Bn(pr,Ar);Ct.trigger(gt.KEY_SYSTEM_ACCESS_COMPLETE,{data:ir}),Et({data:ir});break}}if(!Nt){var Xn="Key system access denied! -- No valid audio/video content configurations detected!";Ct.trigger(gt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Xn}),Tt({error:Xn})}})},selectKeySystem:function(Xt){return new Promise(function(Et,Tt){try{Xe=Xt.mediaKeys=new window[Lt.MediaKeys](Xt.keySystem.systemString),ot=Xt.keySystem,it=Xt,Ye&&En(),Et(ot)}catch{Tt({error:"Error selecting keys system ("+ot.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Xt){Ye!==Xt&&(Ye&&Ye.removeEventListener(Lt.needkey,wt),(Ye=Xt)&&(Ye.addEventListener(Lt.needkey,wt),Xe&&En()))},createKeySession:function(Xt){if(!ot||!Xe||!it)throw new Error("Can not create sessions until you have selected a key system");var Et=null;if(it.ksConfiguration.videoCapabilities&&it.ksConfiguration.videoCapabilities.length>0&&(Et=it.ksConfiguration.videoCapabilities[0]),Et===null&&it.ksConfiguration.audioCapabilities&&it.ksConfiguration.audioCapabilities.length>0&&(Et=it.ksConfiguration.audioCapabilities[0]),Et===null)throw new Error("Can not create sessions for unknown content types.");var Tt=Et.contentType,Nt=Xe.createSession(Tt,new Uint8Array(Xt.initData),Xt.cdmData?new Uint8Array(Xt.cdmData):null),Jt=function(nn,hn){return{session:nn,keyId:hn.keyId,initData:hn.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(yn){switch(yn.type){case Lt.error:Ct.trigger(gt.KEY_ERROR,{error:new l.Z(n.MEDIA_KEYERR_CODE,"KeyError",this)});break;case Lt.message:var qn=ArrayBuffer.isView(yn.message)?yn.message.buffer:yn.message;Ct.trigger(gt.INTERNAL_KEY_MESSAGE,{data:new _n(this,qn,yn.destinationURL)});break;case Lt.ready:yt.debug("DRM: Key added."),Ct.trigger(gt.KEY_ADDED);break;case Lt.close:yt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Ct.trigger(gt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Nt,Xt);Nt.addEventListener(Lt.error,Jt),Nt.addEventListener(Lt.message,Jt),Nt.addEventListener(Lt.ready,Jt),Nt.addEventListener(Lt.close,Jt),It.push(Jt),yt.debug("DRM: Session created.  SessionID = "+Jt.getSessionId()),Ct.trigger(gt.KEY_SESSION_CREATED,{data:Jt})},updateKeySession:function(Xt,Et){var Tt=Xt.session;Bt.isClearKey(ot)?Tt.update(new Uint8Array(Et.toJWK())):Tt.update(new Uint8Array(Et)),Ct.trigger(gt.KEY_SESSION_UPDATED)},closeKeySession:sn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:$t,reset:$t},yt=Ft.getLogger(pt),Ye=null,ot=null,Xe=null,it=null,It=[],Bt=At(qt).getInstance(),wt={handleEvent:function(Xt){if(Xt.type===Lt.needkey&&Xt.initData){var Et=ArrayBuffer.isView(Xt.initData)?Xt.initData.buffer:Xt.initData;Ct.trigger(gt.NEED_KEY,{key:new mn(Et,"cenc")})}}},pt}pn.__dashjs_factory_name="ProtectionModel_3Feb2014";var Jn=dashjs.FactoryMaker.getClassFactory(pn);function Fn(_t){_t=_t||{};var pt,yt,Ye,ot,Xe,it,It,wt,Bt,qt=this.context,Ct=_t.eventBus,gt=_t.events,Ft=_t.debug,Lt=_t.api,$t=_t.errHandler;function sn(){Ye&&Et();for(var Tt=0;Tt<It.length;Tt++)En(It[Tt]);Ct.trigger(gt.TEARDOWN_COMPLETE)}function En(Tt){try{Ye[Lt.cancelKeyRequest](ot.systemString,Tt.sessionId)}catch(Nt){Ct.trigger(gt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Tt.sessionId+") "+Nt.message})}}function Xt(Tt,Nt){if(Nt&&Tt){for(var Jt=Tt.length,nn=0;nn<Jt;nn++)if(Tt[nn].sessionId==Nt)return Tt[nn];return null}return null}function Et(){Ye.removeEventListener(Lt.keyerror,Bt),Ye.removeEventListener(Lt.needkey,Bt),Ye.removeEventListener(Lt.keymessage,Bt),Ye.removeEventListener(Lt.keyadded,Bt)}return pt={getAllInitData:function(){for(var Tt=[],Nt=0;Nt<it.length;Nt++)Tt.push(it[Nt].initData);for(var Jt=0;Jt<It.length;Jt++)Tt.push(It[Jt].initData);return Tt},getSessions:function(){return It.concat(it)},requestKeySystemAccess:function(Tt){return new Promise(function(Nt,Jt){var nn=Ye;nn||(nn=document.createElement("video"));for(var hn=!1,yn=0;yn<Tt.length;yn++)for(var qn=Tt[yn].ks.systemString,Un=Tt[yn].configs,wn=null,kn=0;kn<Un.length;kn++){var Mn=Un[kn].videoCapabilities;if(Mn&&Mn.length!==0){wn=[];for(var Vn=0;Vn<Mn.length;Vn++)nn.canPlayType(Mn[Vn].contentType,qn)!==""&&wn.push(Mn[Vn])}if(wn&&(!wn||wn.length!==0)){hn=!0;var Ar=new y(null,wn),pr=Xe.getKeySystemBySystemString(qn),ir=new Bn(pr,Ar);Ct.trigger(gt.KEY_SYSTEM_ACCESS_COMPLETE,{data:ir}),Nt({data:ir});break}}if(!hn){var Xn="Key system access denied! -- No valid audio/video content configurations detected!";Ct.trigger(gt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Xn}),Jt({error:Xn})}})},selectKeySystem:function(Tt){return ot=Tt.keySystem,Promise.resolve(ot)},setMediaElement:function(Tt){if(Ye!==Tt){if(Ye){Et();for(var Nt=0;Nt<It.length;Nt++)En(It[Nt]);It=[]}(Ye=Tt)&&(Ye.addEventListener(Lt.keyerror,Bt),Ye.addEventListener(Lt.needkey,Bt),Ye.addEventListener(Lt.keymessage,Bt),Ye.addEventListener(Lt.keyadded,Bt),Ct.trigger(gt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(Tt){if(!ot)throw new Error("Can not create sessions until you have selected a key system");if(wt||It.length===0){var Nt={sessionId:null,keyId:Tt.keyId,initData:Tt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return it.push(Nt),Ye[Lt.generateKeyRequest](ot.systemString,new Uint8Array(Tt.initData)),Nt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(Tt,Nt){var Jt=Tt.sessionId;if(Xe.isClearKey(ot))for(var nn=0;nn<Nt.keyPairs.length;nn++)Ye[Lt.addKey](ot.systemString,Nt.keyPairs[nn].key,Nt.keyPairs[nn].keyID,Jt);else Ye[Lt.addKey](ot.systemString,new Uint8Array(Nt),new Uint8Array(Tt.initData),Jt);Ct.trigger(gt.KEY_SESSION_UPDATED)},closeKeySession:En,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:sn,reset:sn},yt=Ft.getLogger(pt),Ye=null,ot=null,it=[],It=[],Xe=At(qt).getInstance(),Bt={handleEvent:function(Tt){var Nt=null;switch(Tt.type){case Lt.needkey:var Jt=ArrayBuffer.isView(Tt.initData)?Tt.initData.buffer:Tt.initData;Ct.trigger(gt.NEED_KEY,{key:new mn(Jt,"cenc")});break;case Lt.keyerror:if((Nt=Xt(It,Tt.sessionId))||(Nt=Xt(it,Tt.sessionId)),Nt){var nn=n.MEDIA_KEYERR_CODE,hn="";switch(Tt.errorCode.code){case 1:nn=n.MEDIA_KEYERR_UNKNOWN_CODE,hn+="MEDIA_KEYERR_UNKNOWN - "+n.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:nn=n.MEDIA_KEYERR_CLIENT_CODE,hn+="MEDIA_KEYERR_CLIENT - "+n.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:nn=n.MEDIA_KEYERR_SERVICE_CODE,hn+="MEDIA_KEYERR_SERVICE - "+n.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:nn=n.MEDIA_KEYERR_OUTPUT_CODE,hn+="MEDIA_KEYERR_OUTPUT - "+n.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:nn=n.MEDIA_KEYERR_HARDWARECHANGE_CODE,hn+="MEDIA_KEYERR_HARDWARECHANGE - "+n.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:nn=n.MEDIA_KEYERR_DOMAIN_CODE,hn+="MEDIA_KEYERR_DOMAIN - "+n.MEDIA_KEYERR_DOMAIN_MESSAGE}hn+="  System Code = "+Tt.systemCode,Ct.trigger(gt.KEY_ERROR,{error:new l.Z(nn,hn,Nt)})}else yt.error("No session token found for key error");break;case Lt.keyadded:(Nt=Xt(It,Tt.sessionId))||(Nt=Xt(it,Tt.sessionId)),Nt?(yt.debug("DRM: Key added."),Ct.trigger(gt.KEY_ADDED,{data:Nt})):yt.debug("No session token found for key added");break;case Lt.keymessage:if((wt=Tt.sessionId!==null&&Tt.sessionId!==void 0)?!(Nt=Xt(It,Tt.sessionId))&&it.length>0&&(Nt=it.shift(),It.push(Nt),Nt.sessionId=Tt.sessionId,Ct.trigger(gt.KEY_SESSION_CREATED,{data:Nt})):it.length>0&&(Nt=it.shift(),It.push(Nt),it.length!==0&&$t.error(new l.Z(n.MEDIA_KEY_MESSAGE_ERROR_CODE,n.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Nt){var yn=ArrayBuffer.isView(Tt.message)?Tt.message.buffer:Tt.message;Nt.keyMessage=yn,Ct.trigger(gt.INTERNAL_KEY_MESSAGE,{data:new _n(Nt,yn,Tt.defaultURL)})}else yt.warn("No session token found for key message")}}},pt}Fn.__dashjs_factory_name="ProtectionModel_01b";var jn=dashjs.FactoryMaker.getClassFactory(Fn),$n=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Hn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function nr(){var _t,pt=this.context;function yt(Ye,ot){for(var Xe=0;Xe<ot.length;Xe++){var it=ot[Xe];if(typeof Ye[it[Object.keys(it)[0]]]=="function")return it}return null}return _t={createProtectionSystem:function(Ye){var ot=null,Xe=At(pt).getInstance();Xe.setConfig({debug:Ye.debug,BASE64:Ye.BASE64,settings:Ye.settings}),Xe.initialize();var it=function(It){var wt=It.debug,Bt=wt.getLogger(_t),qt=It.eventBus,Ct=It.errHandler,gt=It.videoModel?It.videoModel.getElement():null;return gt&&gt.onencrypted===void 0||gt&&gt.mediaKeys===void 0?yt(gt,Hn)?(Bt.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Jn(pt).create({debug:wt,eventBus:qt,events:It.events,api:yt(gt,Hn)})):yt(gt,$n)?(Bt.info("EME detected on this user agent! (ProtectionModel_01b)"),jn(pt).create({debug:wt,eventBus:qt,errHandler:Ct,events:It.events,api:yt(gt,$n)})):(Bt.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Bt.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Gn(pt).create({debug:wt,eventBus:qt,events:It.events}))}(Ye);return!ot&&it&&(ot=U(pt).create({protectionModel:it,protectionKeyController:Xe,eventBus:Ye.eventBus,debug:Ye.debug,events:Ye.events,BASE64:Ye.BASE64,constants:Ye.constants,cmcdModel:Ye.cmcdModel,customParametersModel:Ye.customParametersModel,settings:Ye.settings}),Ye.capabilities.setEncryptedMediaSupported(!0)),ot}}}nr.__dashjs_factory_name="Protection";var rr=dashjs.FactoryMaker.getClassFactory(nr);rr.events=ln,rr.errors=n,dashjs.FactoryMaker.updateClassFactory(nr.__dashjs_factory_name,rr);var Cr=rr},2068:function(tt,we,O){var ie=O(5448),S={DEFAULT:.5,STRONG:1,WEAK:0};function t(y,p,u){var g,E;return g=y===void 0?-1:y,E=function(n){var l=S.DEFAULT;return n!==S.DEFAULT&&n!==S.STRONG&&n!==S.WEAK||(l=n),l}(u),{quality:g,reason:p===void 0?null:p,priority:E}}t.__dashjs_factory_name="SwitchRequest";var e=ie.Z.getClassFactory(t);e.NO_CHANGE=-1,e.PRIORITY=S,ie.Z.updateClassFactory(t.__dashjs_factory_name,e),we.Z=e},1767:function(tt,we,O){var ie=O(5628),S=O(6535),t=O(7423),e=O(895),y=O(6070),p=O(3112),u=O(1914),g=O(5435),E=O(5448),n=O(2068),l=O(3393),d="qualitySwitchRules",D="abandonFragmentRules";function Z(F){F=F||{};var ee,M,A=this.context,U=F.mediaPlayerModel,J=F.customParametersModel,$=F.dashMetrics,Ee=F.settings;function Je(Ce){return Ce.filter(function(He){return He.quality>n.Z.NO_CHANGE})}function oe(Ce){var He,Le,ve,Ue,Be,ct={},_e=null;if(Ce.length!==0){for(ct[n.Z.PRIORITY.STRONG]={quality:n.Z.NO_CHANGE,reason:null},ct[n.Z.PRIORITY.WEAK]={quality:n.Z.NO_CHANGE,reason:null},ct[n.Z.PRIORITY.DEFAULT]={quality:n.Z.NO_CHANGE,reason:null},He=0,Le=Ce.length;He<Le;He+=1)(ve=Ce[He]).quality!==n.Z.NO_CHANGE&&(ct[ve.priority].quality===n.Z.NO_CHANGE||ct[ve.priority].quality>ve.quality)&&(ct[ve.priority].quality=ve.quality,ct[ve.priority].reason=ve.reason||null);return ct[n.Z.PRIORITY.WEAK].quality!==n.Z.NO_CHANGE&&(_e=ct[n.Z.PRIORITY.WEAK]),ct[n.Z.PRIORITY.DEFAULT].quality!==n.Z.NO_CHANGE&&(_e=ct[n.Z.PRIORITY.DEFAULT]),ct[n.Z.PRIORITY.STRONG].quality!==n.Z.NO_CHANGE&&(_e=ct[n.Z.PRIORITY.STRONG]),_e&&(Ue=_e.quality,Be=_e.reason),(0,n.Z)(A).create(Ue,Be)}}return{initialize:function(){ee=[],M=[],Ee.get().streaming.abr.useDefaultABRRules&&(Ee.get().streaming.abr.ABRStrategy===l.Z.ABR_STRATEGY_L2A?ee.push((0,u.Z)(A).create({dashMetrics:$,settings:Ee})):Ee.get().streaming.abr.ABRStrategy===l.Z.ABR_STRATEGY_LoLP?ee.push((0,g.Z)(A).create({dashMetrics:$})):(ee.push((0,p.Z)(A).create({dashMetrics:$,mediaPlayerModel:U,settings:Ee})),ee.push((0,ie.Z)(A).create({dashMetrics:$})),Ee.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&ee.push((0,S.Z)(A).create({dashMetrics:$,settings:Ee})),Ee.get().streaming.abr.additionalAbrRules.switchHistoryRule&&ee.push((0,y.Z)(A).create()),Ee.get().streaming.abr.additionalAbrRules.droppedFramesRule&&ee.push((0,e.Z)(A).create()),Ee.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&M.push((0,t.Z)(A).create({dashMetrics:$,mediaPlayerModel:U,settings:Ee})))),J.getAbrCustomRules().forEach(function(Ce){Ce.type===d&&ee.push(Ce.rule(A).create()),Ce.type===D&&M.push(Ce.rule(A).create())})},reset:function(){[ee,M].forEach(function(Ce){Ce&&Ce.length&&Ce.forEach(function(He){return He.reset&&He.reset()})}),ee=[],M=[]},getMaxQuality:function(Ce){return oe(Je(ee.map(function(He){return He.getMaxIndex(Ce)})))||(0,n.Z)(A).create()},getMinSwitchRequest:oe,shouldAbandonFragment:function(Ce,He){return oe(Je(M.map(function(Le){return Le.shouldAbandon(Ce,He)})))||(0,n.Z)(A).create()},getQualitySwitchRules:function(){return ee}}}Z.__dashjs_factory_name="ABRRulesCollection";var k=E.Z.getClassFactory(Z);k.QUALITY_SWITCH_RULES=d,k.ABANDON_FRAGMENT_RULES=D,E.Z.updateSingletonFactory(Z.__dashjs_factory_name,k),we.Z=k},7423:function(tt,we,O){var ie=O(2068),S=O(5448),t=O(6398);function e(y){y=y||{};var p,u,g,E,n,l=this.context,d=y.mediaPlayerModel,D=y.dashMetrics,Z=y.settings;function k(){g={},E={},n=[]}return p={shouldAbandon:function(F){var ee=(0,ie.Z)(l).create(ie.Z.NO_CHANGE,{name:e.__dashjs_factory_name});if(!(F&&F.hasOwnProperty("getMediaInfo")&&F.hasOwnProperty("getMediaType")&&F.hasOwnProperty("getCurrentRequest")&&F.hasOwnProperty("getRepresentationInfo")&&F.hasOwnProperty("getAbrController")))return ee;var M,A,U=F.getMediaInfo(),J=F.getMediaType(),$=F.getStreamInfo(),Ee=$?$.id:null,Je=F.getCurrentRequest();if(!isNaN(Je.index)){M=J,A=Je.index,g[M]=g[M]||{},g[M][A]=g[M][A]||{};var oe=d.getStableBufferTime();if(D.getCurrentBufferLevel(J)>oe)return ee;var Ce=g[J][Je.index];if(Ce===null||Je.firstByteDate===null||E.hasOwnProperty(Ce.id))return ee;if(Ce.firstByteTime===void 0&&(n[J]=[],Ce.firstByteTime=Je.firstByteDate.getTime(),Ce.segmentDuration=Je.duration,Ce.bytesTotal=Je.bytesTotal,Ce.id=Je.index),Ce.bytesLoaded=Je.bytesLoaded,Ce.elapsedTime=new Date().getTime()-Ce.firstByteTime,Ce.bytesLoaded>0&&Ce.elapsedTime>0&&function(Ge,vt){n[Ge]=n[Ge]||[],n[Ge].push(vt)}(J,Math.round(8*Ce.bytesLoaded/Ce.elapsedTime)),n[J].length>=5&&Ce.elapsedTime>500&&Ce.bytesLoaded<Ce.bytesTotal){var He=n[J].reduce(function(Ge,vt){return Ge+vt},0);if(Ce.measuredBandwidthInKbps=Math.round(He/n[J].length),Ce.estimatedTimeOfDownload=+(8*Ce.bytesTotal/Ce.measuredBandwidthInKbps/1e3).toFixed(2),Ce.estimatedTimeOfDownload<1.8*Ce.segmentDuration||F.getRepresentationInfo().quality===0)return ee;if(!E.hasOwnProperty(Ce.id)){var Le=F.getAbrController(),ve=Ce.bytesTotal-Ce.bytesLoaded,Ue=Le.getBitrateList(U),Be=Le.getQualityForBitrate(U,Ce.measuredBandwidthInKbps*Z.get().streaming.abr.bandwidthSafetyFactor,Ee),ct=Le.getMinAllowedIndexFor(J,Ee),_e=ct!==void 0?Math.max(ct,Be):Be;ve>Ce.bytesTotal*Ue[_e].bitrate/Ue[Le.getQualityFor(J,Ee)].bitrate&&(ee.quality=_e,ee.reason.throughput=Ce.measuredBandwidthInKbps,ee.reason.fragmentID=Ce.id,ee.reason.rule=this.getClassName(),E[Ce.id]=Ce,u.debug("["+J+"] frag id",Ce.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",Ce.measuredBandwidthInKbps),delete g[J][Ce.id])}}else Ce.bytesLoaded===Ce.bytesTotal&&delete g[J][Ce.id]}return ee},reset:k},u=(0,t.Z)(l).getInstance().getLogger(p),k(),p}e.__dashjs_factory_name="AbandonRequestsRule",we.Z=S.Z.getClassFactory(e)},3112:function(tt,we,O){var ie=O(3860),S=O(2068),t=O(5448),e=O(7855),y=O(5595),p=O(8512),u=O(6398),g=O(8825),E=O(3393),n=10;function l(d){d=d||{};var D,Z,k,F=this.context,ee=d.dashMetrics,M=d.mediaPlayerModel,A=(0,y.Z)(F).getInstance();function U(_e,Ge,vt){var ft=vt.reduce(function(de,ge,Ve){return ge>vt[de]?Ve:de},0);if(ft===0)return null;var qe=Math.max(_e,n+2*Ge.length),$e=(vt[ft]-1)/(qe/n-1);return{gp:$e,Vp:n/$e}}function J(_e){_e.placeholderBuffer=0,_e.mostAdvancedSegmentStart=NaN,_e.lastSegmentWasReplacement=!1,_e.lastSegmentStart=NaN,_e.lastSegmentDurationS=NaN,_e.lastSegmentRequestTimeMs=NaN,_e.lastSegmentFinishTimeMs=NaN}function $(_e,Ge){var vt=M.getStableBufferTime();if(_e.stableBufferTime!==vt){var ft=U(vt,_e.bitrates,_e.utilities);if(ft.Vp!==_e.Vp||ft.gp!==_e.gp){var qe=ee.getCurrentBufferLevel(Ge),$e=qe+_e.placeholderBuffer;$e-=n,$e*=ft.Vp/_e.Vp,$e+=n,_e.stableBufferTime=vt,_e.Vp=ft.Vp,_e.gp=ft.gp,_e.placeholderBuffer=Math.max(0,$e-qe)}}}function Ee(_e,Ge){return _e.Vp*(_e.utilities[Ge]+_e.gp)}function Je(_e,Ge){for(var vt=_e.bitrates[Ge],ft=_e.utilities[Ge],qe=0,$e=Ge-1;$e>=0;--$e)if(_e.utilities[$e]<_e.utilities[Ge]){var de=_e.bitrates[$e],ge=_e.utilities[$e],Ve=_e.Vp*(_e.gp+(vt*ge-de*ft)/(vt-de));qe=Math.max(qe,Ve)}return qe}function oe(_e){var Ge=_e.mediaType===E.Z.AUDIO?[E.Z.AUDIO]:k;for(var vt in Ge)k.hasOwnProperty(vt)&&k[vt].state===2&&(k[vt].placeholderBuffer=0)}function Ce(){for(var _e in k)if(k.hasOwnProperty(_e)){var Ge=k[_e];Ge.state!==0&&(Ge.state=1,J(Ge))}}function He(_e){if(_e&&_e.chunk&&_e.chunk.mediaInfo){var Ge=k[_e.chunk.mediaInfo.type];if(Ge&&Ge.state!==0){var vt=_e.chunk.start;isNaN(Ge.mostAdvancedSegmentStart)||vt>Ge.mostAdvancedSegmentStart?(Ge.mostAdvancedSegmentStart=vt,Ge.lastSegmentWasReplacement=!1):Ge.lastSegmentWasReplacement=!0,Ge.lastSegmentStart=vt,Ge.lastSegmentDurationS=_e.chunk.duration,Ge.lastQuality=_e.chunk.quality,ve(Ge,_e.chunk.mediaInfo.type)}}}function Le(_e){if(_e&&_e.metric===ie.Z.HTTP_REQUEST&&_e.value&&_e.value.type===e.w.MEDIA_SEGMENT_TYPE&&_e.value.trace&&_e.value.trace.length){var Ge=k[_e.mediaType];Ge&&Ge.state!==0&&(Ge.lastSegmentRequestTimeMs=_e.value.trequest.getTime(),Ge.lastSegmentFinishTimeMs=_e.value._tfinish.getTime(),ve(Ge,_e.mediaType))}}function ve(_e,Ge){if(!isNaN(_e.lastSegmentStart)&&!isNaN(_e.lastSegmentRequestTimeMs)&&!isNaN(_e.placeholderBuffer)){if(_e.placeholderBuffer*=.99,!isNaN(_e.lastSegmentFinishTimeMs)){var vt=ee.getCurrentBufferLevel(Ge)+.001*(_e.lastSegmentFinishTimeMs-_e.lastSegmentRequestTimeMs),ft=Ee(_e,_e.lastQuality),qe=Math.max(0,ft-vt);_e.placeholderBuffer=Math.min(qe,_e.placeholderBuffer)}_e.lastSegmentWasReplacement&&!isNaN(_e.lastSegmentDurationS)&&(_e.placeholderBuffer+=_e.lastSegmentDurationS),_e.lastSegmentStart=NaN,_e.lastSegmentRequestTimeMs=NaN}}function Ue(_e){if(_e){var Ge=k[_e.mediaType];Ge&&Ge.state!==0&&(Ge.abrQuality=_e.newQuality)}}function Be(_e){if(_e){var Ge=k[_e.mediaType];if(Ge&&Ge.state!==0){var vt,ft=ee.getCurrentBufferLevel(_e.mediaType);vt=Ge.abrQuality>0?Je(Ge,Ge.abrQuality):n;var qe=Math.max(0,vt-ft);Ge.placeholderBuffer=Math.min(Ge.placeholderBuffer,qe)}}}function ct(){k={}}return D={getMaxIndex:function(_e){var Ge=(0,S.Z)(F).create();if(!(_e&&_e.hasOwnProperty("getMediaInfo")&&_e.hasOwnProperty("getMediaType")&&_e.hasOwnProperty("getScheduleController")&&_e.hasOwnProperty("getStreamInfo")&&_e.hasOwnProperty("getAbrController")&&_e.hasOwnProperty("useBufferOccupancyABR")))return Ge;var vt=_e.getMediaInfo(),ft=_e.getMediaType(),qe=_e.getScheduleController(),$e=_e.getStreamInfo(),de=_e.getAbrController(),ge=de.getThroughputHistory(),Ve=$e?$e.id:null,f=$e&&$e.manifestInfo&&$e.manifestInfo.isDynamic,i=_e.useBufferOccupancyABR();if(Ge.reason=Ge.reason||{},!i)return Ge;qe.setTimeToLoadDelay(0);var v=function(Ne){var Ke=Ne.getMediaType(),We=k[Ke];return We?We.state!==0&&$(We,Ke):(We=function(At){var et={},Dt=At.getMediaInfo().bitrateList.map(function(mn){return mn.bandwidth}),Mt=function(mn){return mn.map(function(_n){return Math.log(_n)})}(Dt);Mt=Mt.map(function(mn){return mn-Mt[0]+1});var Ut=M.getStableBufferTime(),ln=U(Ut,Dt,Mt);return ln?(et.state=1,et.bitrates=Dt,et.utilities=Mt,et.stableBufferTime=Ut,et.Vp=ln.Vp,et.gp=ln.gp,et.lastQuality=0,J(et)):et.state=0,et}(Ne),k[Ke]=We),We}(_e);if(v.state===0)return Ge;var T,W=ee.getCurrentBufferLevel(ft),V=ge.getAverageThroughput(ft,f),he=ge.getSafeAverageThroughput(ft,f),Me=ge.getAverageLatency(ft);if(Ge.reason.state=v.state,Ge.reason.throughput=V,Ge.reason.latency=Me,isNaN(V))return Ge;switch(v.state){case 1:T=de.getQualityForBitrate(vt,he,Ve,Me),Ge.quality=T,Ge.reason.throughput=he,v.placeholderBuffer=Math.max(0,Je(v,T)-W),v.lastQuality=T,!isNaN(v.lastSegmentDurationS)&&W>=v.lastSegmentDurationS&&(v.state=2);break;case 2:(function(Ne,Ke){var We=Date.now();if(isNaN(Ne.lastSegmentFinishTimeMs)){if(!isNaN(Ne.lastCallTimeMs)){var At=.001*(We-Ne.lastCallTimeMs);Ne.placeholderBuffer+=Math.max(0,At)}}else{var et=.001*(We-Ne.lastSegmentFinishTimeMs);Ne.placeholderBuffer+=Math.max(0,et)}Ne.lastCallTimeMs=We,Ne.lastSegmentStart=NaN,Ne.lastSegmentRequestTimeMs=NaN,Ne.lastSegmentFinishTimeMs=NaN,$(Ne,Ke)})(v,ft),T=function(Ne,Ke){for(var We=Ne.bitrates.length,At=NaN,et=NaN,Dt=0;Dt<We;++Dt){var Mt=(Ne.Vp*(Ne.utilities[Dt]+Ne.gp)-Ke)/Ne.bitrates[Dt];(isNaN(et)||Mt>=et)&&(et=Mt,At=Dt)}return At}(v,W+v.placeholderBuffer);var Oe=de.getQualityForBitrate(vt,he,Ve,Me);T>v.lastQuality&&T>Oe&&(T=Math.max(Oe,v.lastQuality));var Se=Math.max(0,W+v.placeholderBuffer-Ee(v,T));Se<=v.placeholderBuffer?(v.placeholderBuffer-=Se,Se=0):(Se-=v.placeholderBuffer,v.placeholderBuffer=0,T<de.getMaxAllowedIndexFor(ft,Ve)?qe.setTimeToLoadDelay(1e3*Se):Se=0),Ge.quality=T,Ge.reason.throughput=V,Ge.reason.latency=Me,Ge.reason.bufferLevel=W,Ge.reason.placeholderBuffer=v.placeholderBuffer,Ge.reason.delay=Se,v.lastQuality=T;break;default:Z.debug("BOLA ABR rule invoked in bad state."),Ge.quality=de.getQualityForBitrate(vt,he,Ve,Me),Ge.reason.state=v.state,Ge.reason.throughput=he,Ge.reason.latency=Me,v.state=1,J(v)}return Ge},reset:function(){ct(),A.off(g.Z.BUFFER_EMPTY,oe,D),A.off(g.Z.PLAYBACK_SEEKING,Ce,D),A.off(g.Z.METRIC_ADDED,Le,D),A.off(g.Z.QUALITY_CHANGE_REQUESTED,Ue,D),A.off(g.Z.FRAGMENT_LOADING_ABANDONED,Be,D),A.off(p.Z.MEDIA_FRAGMENT_LOADED,He,D)}},Z=(0,u.Z)(F).getInstance().getLogger(D),ct(),A.on(g.Z.BUFFER_EMPTY,oe,D),A.on(g.Z.PLAYBACK_SEEKING,Ce,D),A.on(g.Z.METRIC_ADDED,Le,D),A.on(g.Z.QUALITY_CHANGE_REQUESTED,Ue,D),A.on(g.Z.FRAGMENT_LOADING_ABANDONED,Be,D),A.on(p.Z.MEDIA_FRAGMENT_LOADED,He,D),D}l.__dashjs_factory_name="BolaRule",we.Z=t.Z.getClassFactory(l)},895:function(tt,we,O){var ie=O(5448),S=O(2068),t=O(6398);function e(){var y,p,u=this.context;return y={getMaxIndex:function(g){var E=(0,S.Z)(u).create();if(!g||!g.hasOwnProperty("getDroppedFramesHistory"))return E;var n=g.getDroppedFramesHistory(),l=g.getStreamInfo().id;if(n){var d=n.getFrameHistory(l);if(!d||d.length===0)return E;for(var D=0,Z=0,k=S.Z.NO_CHANGE,F=1;F<d.length;F++)if(d[F]&&(D=d[F].droppedVideoFrames,(Z=d[F].totalVideoFrames)>375&&D/Z>.15)){k=F-1,p.debug("index: "+k+" Dropped Frames: "+D+" Total Frames: "+Z);break}return(0,S.Z)(u).create(k,{droppedFrames:D})}return E}},p=(0,t.Z)(u).getInstance().getLogger(y),y}e.__dashjs_factory_name="DroppedFramesRule",we.Z=ie.Z.getClassFactory(e)},6535:function(tt,we,O){var ie=O(5595),S=O(8512),t=O(5448),e=O(6398),y=O(2068),p=O(3393),u=O(3860),g=O(8825);function E(n){n=n||{};var l,d,D,Z=this.context,k=(0,ie.Z)(Z).getInstance(),F=n.dashMetrics;function ee(){(D={})[p.Z.VIDEO]={ignoreCount:2},D[p.Z.AUDIO]={ignoreCount:2}}function M(){ee()}function A(U){isNaN(U.startTime)||U.mediaType!==p.Z.AUDIO&&U.mediaType!==p.Z.VIDEO||D[U.mediaType].ignoreCount>0&&D[U.mediaType].ignoreCount--}return l={getMaxIndex:function(U){var J=(0,y.Z)(Z).create();if(!U||!U.hasOwnProperty("getMediaType"))return J;(function(){if(!F||!F.hasOwnProperty("getCurrentBufferLevel")||!F.hasOwnProperty("getCurrentBufferState"))throw new Error(p.Z.MISSING_CONFIG_ERROR)})();var $=U.getMediaType(),Ee=F.getCurrentBufferState($),Je=U.getRepresentationInfo().fragmentDuration,oe=U.getStreamInfo(),Ce=oe?oe.id:null,He=U.getScheduleController(),Le=oe&&oe.manifestInfo&&oe.manifestInfo.isDynamic;if(function(ft,qe){return!ft&&D[qe].ignoreCount>0}(He.getPlaybackController().getLowLatencyModeEnabled(),$)||!Je)return J;if(Ee&&Ee.state===u.Z.BUFFER_EMPTY)d.debug("["+$+"] Switch to index 0; buffer is empty."),J.quality=0,J.reason="InsufficientBufferRule: Buffer is empty";else{var ve=U.getMediaInfo(),Ue=U.getAbrController(),Be=Ue.getThroughputHistory(),ct=F.getCurrentBufferLevel($),_e=Be.getAverageThroughput($,Le),Ge=Be.getAverageLatency($),vt=_e*(ct/Je)*.5;J.quality=Ue.getQualityForBitrate(ve,vt,Ce,Ge),J.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return J},reset:function(){ee(),k.off(g.Z.PLAYBACK_SEEKING,M,l),k.off(S.Z.BYTES_APPENDED_END_FRAGMENT,A,l)}},d=(0,e.Z)(Z).getInstance().getLogger(l),ee(),k.on(g.Z.PLAYBACK_SEEKING,M,l),k.on(S.Z.BYTES_APPENDED_END_FRAGMENT,A,l),l}E.__dashjs_factory_name="InsufficientBufferRule",we.Z=t.Z.getClassFactory(E)},1914:function(tt,we,O){var ie=O(3860),S=O(2068),t=O(5448),e=O(7855),y=O(5595),p=O(8512),u=O(6398),g=O(3393);function E(n){n=n||{};var l,d,D,Z,k=this.context,F=n.dashMetrics,ee=(0,y.Z)(k).getInstance();function M(Ce){Ce.placeholderBuffer=0,Ce.mostAdvancedSegmentStart=NaN,Ce.lastSegmentWasReplacement=!1,Ce.lastSegmentStart=NaN,Ce.lastSegmentDurationS=NaN,Ce.lastSegmentRequestTimeMs=NaN,Ce.lastSegmentFinishTimeMs=NaN,Ce.lastSegmentUrl=""}function A(){for(var Ce in d)if(d.hasOwnProperty(Ce)){var He=d[Ce];He.state!==0&&(He.state=1,M(He))}}function U(Ce){if(Ce&&Ce.chunk&&Ce.chunk.mediaInfo){var He=d[Ce.chunk.mediaInfo.type],Le=D[Ce.chunk.mediaInfo.type];if(He&&He.state!==0){var ve=Ce.chunk.start;isNaN(He.mostAdvancedSegmentStart)||ve>He.mostAdvancedSegmentStart?(He.mostAdvancedSegmentStart=ve,He.lastSegmentWasReplacement=!1):He.lastSegmentWasReplacement=!0,He.lastSegmentStart=ve,He.lastSegmentDurationS=Ce.chunk.duration,He.lastQuality=Ce.chunk.quality,$(He,Le)}}}function J(Ce){if(Ce&&Ce.metric===ie.Z.HTTP_REQUEST&&Ce.value&&Ce.value.type===e.w.MEDIA_SEGMENT_TYPE&&Ce.value.trace&&Ce.value.trace.length){var He=d[Ce.mediaType],Le=D[Ce.mediaType];He&&He.state!==0&&(He.lastSegmentRequestTimeMs=Ce.value.trequest.getTime(),He.lastSegmentFinishTimeMs=Ce.value._tfinish.getTime(),$(He,Le))}}function $(Ce,He){isNaN(Ce.lastSegmentStart)||isNaN(Ce.lastSegmentRequestTimeMs)||(He.segment_request_start_s=.001*Ce.lastSegmentRequestTimeMs,He.segment_download_finish_s=.001*Ce.lastSegmentFinishTimeMs,Ce.lastSegmentStart=NaN,Ce.lastSegmentRequestTimeMs=NaN)}function Ee(Ce){if(Ce&&Ce.mediaType){var He=d[Ce.mediaType];He&&He.state!==0&&(He.abrQuality=Ce.newQuality)}}function Je(Ce,He){if(Ce.length!==He.length)return-1;for(var Le=0,ve=0;ve<Ce.length;ve++)Le+=Ce[ve]*He[ve];return Le}function oe(){d={},D={}}return l={getMaxIndex:function(Ce){var He,Le=(0,S.Z)(k).create(),ve=Math.pow(4,.99),Ue=Math.max(Math.pow(4,1),ve*Math.sqrt(4)),Be=Ce.getMediaInfo(),ct=Ce.getMediaType(),_e=Be.bitrateList.map(function(ln){return ln.bandwidth}),Ge=_e.length,vt=Ce.getScheduleController(),ft=Ce.getStreamInfo(),qe=Ce.getAbrController(),$e=qe.getThroughputHistory(),de=ft&&ft.manifestInfo&&ft.manifestInfo.isDynamic,ge=Ce.useL2AABR(),Ve=F.getCurrentBufferLevel(ct,!0),f=$e.getSafeAverageThroughput(ct,de),i=$e.getAverageThroughput(ct,de),v=$e.getAverageLatency(ct),T=Ce.getVideoModel().getPlaybackRate();if(!(Ce&&Ce.hasOwnProperty("getMediaInfo")&&Ce.hasOwnProperty("getMediaType")&&Ce.hasOwnProperty("getScheduleController")&&Ce.hasOwnProperty("getStreamInfo")&&Ce.hasOwnProperty("getAbrController")&&Ce.hasOwnProperty("useL2AABR"))||(Le.reason=Le.reason||{},!ge||ct===g.Z.AUDIO))return Le;vt.setTimeToLoadDelay(0);var W=function(ln){var mn=ln.getMediaType(),_n=d[mn];return _n||(_n=function(Bn){var vn={},An=Bn.getMediaInfo(),Gn=An.bitrateList.map(function(pn){return pn.bandwidth/1e3});return vn.state=1,vn.bitrates=Gn,vn.lastQuality=0,function(pn){pn&&pn.type&&(D[pn.type]={},D[pn.type].w=[],D[pn.type].prev_w=[],D[pn.type].Q=0,D[pn.type].segment_request_start_s=0,D[pn.type].segment_download_finish_s=0,D[pn.type].B_target=1.5)}(An),M(vn),vn}(ln),d[mn]=_n),_n}(Ce);if(W.state===0)return Le;var V=D[ct];if(!V||(Le.reason.state=W.state,Le.reason.throughput=i,Le.reason.latency=v,isNaN(i)))return Le;switch(W.state){case 1:if(He=qe.getQualityForBitrate(Be,f,ft.id,v),Le.quality=He,Le.reason.throughput=f,W.lastQuality=He,!isNaN(W.lastSegmentDurationS)&&Ve>=V.B_target){W.state=2,V.Q=ve;for(var he=0;he<Ge;++he)he===W.lastQuality?V.prev_w[he]=1:V.prev_w[he]=0}break;case 2:var Me=[],Oe=F.getCurrentHttpRequest(ct).trace.reduce(function(ln,mn){return ln+mn.d},0),Se=F.getCurrentHttpRequest(ct).trace.reduce(function(ln,mn){return ln+mn.b[0]},0),Ne=Math.round(8*Se/Oe),Ke=F.getCurrentHttpRequest(ct);if(Ne<1&&(Ne=1),Ke.url===W.lastSegmentUrl||Ke.type===e.w.INIT_SEGMENT_TYPE)He=W.lastQuality;else{for(var We=W.lastSegmentDurationS,At=1,et=0;et<Ge;++et)_e[et]=_e[et]/1e3,T*_e[et]>Ne&&(At=-1),V.w[et]=V.prev_w[et]+At*(We/(2*Ue))*((V.Q+ve)*(T*_e[et]/Ne));V.w=function(ln){for(var mn=ln.length,_n=!1,Bn=[],vn=0;vn<mn;++vn)Bn[vn]=ln[vn];for(var An=ln.sort(function($n,Hn){return Hn-$n}),Gn=0,pn=0,Jn=[],Fn=0;Fn<mn-1;++Fn)if((pn=((Gn+=An[Fn])-1)/(Fn+1))>=An[Fn+1]){_n=!0;break}_n||(pn=(Gn+An[mn-1]-1)/mn);for(var jn=0;jn<mn;++jn)Jn[jn]=Math.max(Bn[jn]-pn,0);return Jn}(V.w);for(var Dt=0;Dt<Ge;++Dt)Me[Dt]=V.w[Dt]-V.prev_w[Dt],V.prev_w[Dt]=V.w[Dt];V.Q=Math.max(0,V.Q-We+We*T*((Je(_e,V.prev_w)+Je(_e,Me))/Ne));for(var Mt=[],Ut=0;Ut<Ge;++Ut)Mt[Ut]=Math.abs(_e[Ut]-Je(V.w,_e));(He=Mt.indexOf(Math.min.apply(Math,Mt)))>W.lastQuality&&_e[W.lastQuality+1]<=Ne&&(He=W.lastQuality+1),_e[He]>=Ne&&(V.Q=2*Math.max(ve,V.Q)),W.lastSegmentUrl=Ke.url}Le.quality=He,Le.reason.throughput=i,Le.reason.latency=v,Le.reason.bufferLevel=Ve,W.lastQuality=Le.quality;break;default:Z.debug("L2A ABR rule invoked in bad state."),Le.quality=qe.getQualityForBitrate(Be,f,ft.id,v),Le.reason.state=W.state,Le.reason.throughput=f,Le.reason.latency=v,W.state=1,M(W)}return Le},reset:function(){oe(),ee.off(p.Z.PLAYBACK_SEEKING,A,l),ee.off(p.Z.MEDIA_FRAGMENT_LOADED,U,l),ee.off(p.Z.METRIC_ADDED,J,l),ee.off(p.Z.QUALITY_CHANGE_REQUESTED,Ee,l)}},Z=(0,u.Z)(k).getInstance().getLogger(l),oe(),ee.on(p.Z.PLAYBACK_SEEKING,A,l),ee.on(p.Z.MEDIA_FRAGMENT_LOADED,U,l),ee.on(p.Z.METRIC_ADDED,J,l),ee.on(p.Z.QUALITY_CHANGE_REQUESTED,Ee,l),l}E.__dashjs_factory_name="L2ARule",we.Z=t.Z.getClassFactory(E)},6070:function(tt,we,O){var ie=O(5448),S=O(6398),t=O(2068);function e(){var y,p,u=this.context;return y={getMaxIndex:function(g){for(var E=g?g.getSwitchHistory():null,n=E?E.getSwitchRequests():[],l=0,d=0,D=0,Z=(0,t.Z)(u).create(),k=0;k<n.length;k++)if(n[k]!==void 0&&(l+=n[k].drops,d+=n[k].noDrops,D+=n[k].dropSize,l+d>=6&&l/d>.075)){Z.quality=k>0&&n[k].drops>0?k-1:k,Z.reason={index:Z.quality,drops:l,noDrops:d,dropSize:D},p.debug("Switch history rule index: "+Z.quality+" samples: "+(l+d)+" drops: "+l);break}return Z}},p=(0,S.Z)(u).getInstance().getLogger(y),y}e.__dashjs_factory_name="SwitchHistoryRule",we.Z=ie.Z.getClassFactory(e)},5628:function(tt,we,O){var ie=O(5448),S=O(2068),t=O(3393),e=O(3860);function y(p){p=p||{};var u=this.context,g=p.dashMetrics;return{getMaxIndex:function(E){var n=(0,S.Z)(u).create();if(!(E&&E.hasOwnProperty("getMediaInfo")&&E.hasOwnProperty("getMediaType")&&E.hasOwnProperty("useBufferOccupancyABR")&&E.hasOwnProperty("getAbrController")&&E.hasOwnProperty("getScheduleController")))return n;(function(){if(!g||!g.hasOwnProperty("getCurrentBufferState"))throw new Error(t.Z.MISSING_CONFIG_ERROR)})();var l=E.getMediaInfo(),d=E.getMediaType(),D=g.getCurrentBufferState(d),Z=E.getScheduleController(),k=E.getAbrController(),F=E.getStreamInfo(),ee=F?F.id:null,M=F&&F.manifestInfo?F.manifestInfo.isDynamic:null,A=k.getThroughputHistory(),U=A.getSafeAverageThroughput(d,M),J=A.getAverageLatency(d),$=E.useBufferOccupancyABR();return isNaN(U)||!D||$||k.getAbandonmentStateFor(ee,d)!==e.Z.ABANDON_LOAD&&(D.state===e.Z.BUFFER_LOADED||M)&&(n.quality=k.getQualityForBitrate(l,U,ee,J),Z.setTimeToLoadDelay(0),n.reason={throughput:U,latency:J}),n},reset:function(){}}}y.__dashjs_factory_name="ThroughputRule",we.Z=ie.Z.getClassFactory(y)},4722:function(tt,we,O){var ie=O(5448),S=O(6398);function t(){var e,y,p,u,g,E,n,l,d,D=this.context;function Z(){p=null,u=1,g=100,E=0,n=null,l=null,d="dynamic_weight_selection"}function k(){var U=0;if(p)for(var J=0;J<p.length;J++){var $=p[J];$.state.throughput>U&&(U=$.state.throughput)}return U}function F(U,J,$){var Ee=U.map(function(Je,oe){return $[oe]*Math.pow(Je-J[oe],2)}).reduce(function(Je,oe){return Je+oe});return(Ee<0?-1:1)*Math.sqrt(Math.abs(Ee))}function ee(U,J){return F([U.state.throughput,U.state.latency,U.state.rebuffer,U.state.switch],[J.state.throughput,J.state.latency,J.state.rebuffer,J.state.switch],[1,1,1,1])}function M(U,J,$){for(var Ee=0;Ee<J.length;Ee++){var Je=J[Ee],oe=ee(Je,U);A(Je,$,Math.exp(-1*Math.pow(oe,2)/(2*Math.pow(.1,2))))}}function A(U,J,$){var Ee=U.state,Je=[.01,.01,.01,.01];Ee.throughput=Ee.throughput+(J[0]-Ee.throughput)*Je[0]*$,Ee.latency=Ee.latency+(J[1]-Ee.latency)*Je[1]*$,Ee.rebuffer=Ee.rebuffer+(J[2]-Ee.rebuffer)*Je[2]*$,Ee.switch=Ee.switch+(J[3]-Ee.switch)*Je[3]*$}return e={getNextQuality:function(U,J,$,Ee,Je,oe,Ce){var He=$,Le=Ee,ve=J,Ue=function(V){if(!p){p=[];var he=V.bitrateList,Me=[];E=he[0].bandwidth,he.forEach(function(Ke){Me.push(Ke.bandwidth),Ke.bandwidth<E&&(E=Ke.bandwidth)}),Ne=Me.map(function(Ke){return Math.pow(Ke,2)}).reduce(function(Ke,We){return Ke+We}),u=Math.sqrt(Ne);for(var Oe=0;Oe<he.length;Oe++){var Se={qualityIndex:Oe,bitrate:he[Oe].bandwidth,state:{throughput:he[Oe].bandwidth/u,latency:0,rebuffer:0,switch:0}};p.push(Se)}l=function(Ke){var We=[],At=function(Cr){for(var _t=[],pt=0;pt<Cr;pt++){var yt=[Math.random()*k(),Math.random(),Math.random(),Math.random()];_t.push(yt)}return _t}(Math.pow(Ke.length,2));We.push(At[0]);for(var et=[1,1,1,1],Dt=1;Dt<Ke.length;Dt++){for(var Mt=null,Ut=null,ln=0;ln<At.length;ln++){for(var mn=At[ln],_n=null,Bn=0;Bn<We.length;Bn++){var vn=F(mn,We[Bn],et);(_n===null||vn<_n)&&(_n=vn)}(Ut===null||_n>Ut)&&(Mt=mn,Ut=_n)}We.push(Mt)}for(var An=null,Gn=null,pn=0;pn<We.length;pn++){for(var Jn=0,Fn=0;Fn<We.length;Fn++)pn!==Fn&&(Jn+=F(We[pn],We[Fn],et));(An===null||Jn>An)&&(An=Jn,Gn=pn)}var jn=[];for(jn.push(We[Gn]),We.splice(Gn,1);We.length>0;){for(var $n=null,Hn=null,nr=0;nr<We.length;nr++){var rr=F(jn[0],We[nr],et);($n===null||rr<$n)&&($n=rr,Hn=nr)}jn.push(We[Hn]),We.splice(Hn,1)}return jn}(p)}var Ne;return p}(U),Be=J/u;Be>1&&(Be=k()),$/=g,y.debug("getNextQuality called throughput:".concat(Be," latency:").concat($," bufferSize:").concat(Ee," currentQualityIndex:").concat(oe," playbackRate:").concat(Je));var ct=Ue[oe],_e=ct.bitrate*Ce.getSegmentDuration()/ve,Ge=Math.max(0,_e-Le);if(Le-_e<Ce.getMinBuffer())return y.debug("Buffer is low for bitrate= ".concat(ct.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(Le," rebuffer=").concat(Ge)),function(V,he){var Me=0,Oe=V;if(p)for(var Se=0;Se<p.length;Se++){var Ne=p[Se];Ne.bitrate<V.bitrate&&Ne.bitrate>Me&&he>Ne.bitrate&&(Me=Ne.bitrate,Oe=Ne)}return Oe}(ct,ve).qualityIndex;switch(d){case"manual_weight_selection":n=[.4,.4,.4,.4];break;case"random_weight_selection":(function(V){n=function(he,Me){for(var Oe=[],Se=Math.sqrt(2/he),Ne=0;Ne<4;Ne++)Oe.push(Math.random()*Se);return n=Oe}(V.length)})(Ue);break;default:(function(V,he,Me,Oe,Se,Ne,Ke){n||(n=l[l.length-1]);var We=V.findWeightVector(he,Me,Oe,Se,Ne,Ke);We!==null&&We!==-1&&(n=We)})(Ce,Ue,He,Le,Ge,ve,Je)}for(var vt=null,ft=null,qe=null,$e=0;$e<Ue.length;$e++){var de=Ue[$e],ge=de.state,Ve=[ge.throughput,ge.latency,ge.rebuffer,ge.switch],f=n.slice(),i=Ce.getNextBufferWithBitrate(de.bitrate,Le,ve),v=i<Ce.getMinBuffer();v&&y.debug("Buffer is low for bitrate=".concat(de.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(Le," nextBuffer=").concat(i)),(de.bitrate>J-1e4||v)&&de.bitrate!==E&&(f[0]=100);var T=F(Ve,[Be,0,0,0],f);(vt===null||T<vt)&&(vt=T,ft=de.qualityIndex,qe=de)}var W=Math.abs(ct.bitrate-qe.bitrate)/u;return M(ct,Ue,[Be,$,Ge,W]),M(qe,Ue,[Be,0,0,W]),ft},reset:function(){Z()}},y=(0,S.Z)(D).getInstance().getLogger(e),Z(),e}t.__dashjs_factory_name="LearningAbrController",we.Z=ie.Z.getClassFactory(t)},5317:function(tt,we,O){var ie=O(5448),S=O(2298);function t(){var e,y,p,u,g;function E(){y=null,p=null,u=null,g=null}function n(d,D,Z,k){var F=new S.Z;return F.type=d,F.weights.bitrateReward=D||1,F.weights.bitrateSwitchPenalty=1,F.weights.rebufferPenalty=Z||1e3,F.weights.latencyPenalty=[],F.weights.latencyPenalty.push({threshold:1.1,penalty:.05*k}),F.weights.latencyPenalty.push({threshold:1e8,penalty:.1*Z}),F.weights.playbackSpeedPenalty=k||200,F}function l(d,D,Z,k,F){F.bitrateWSum+=F.weights.bitrateReward*d,F.lastBitrate&&(F.bitrateSwitchWSum+=F.weights.bitrateSwitchPenalty*Math.abs(d-F.lastBitrate)),F.lastBitrate=d,F.rebufferWSum+=F.weights.rebufferPenalty*D;for(var ee=0;ee<F.weights.latencyPenalty.length;ee++){var M=F.weights.latencyPenalty[ee];if(Z<=M.threshold){F.latencyWSum+=M.penalty*Z;break}}F.playbackSpeedWSum+=F.weights.playbackSpeedPenalty*Math.abs(1-k),F.totalQoe=F.bitrateWSum-F.bitrateSwitchWSum-F.rebufferWSum-F.latencyWSum-F.playbackSpeedWSum}return e={setupPerSegmentQoe:function(d,D,Z){y=n("segment",d,D,Z),p=d,u=D,g=Z},logSegmentMetrics:function(d,D,Z,k){y&&l(d,D,Z,k,y)},getPerSegmentQoe:function(){return y},calculateSingleUseQoe:function(d,D,Z,k){var F=null;return p&&u&&g&&(F=n("segment",p,u,g)),F?(l(d,D,Z,k,F),F.totalQoe):0},reset:function(){E()}},E(),e}t.__dashjs_factory_name="LoLpQoeEvaluator",we.Z=ie.Z.getClassFactory(t)},5435:function(tt,we,O){var ie=O(6398),S=O(5448),t=O(4722),e=O(5317),y=O(2068),p=O(3860),u=O(6523),g=O(3393);function E(n){var l,d,D,Z,k=(n=n||{}).dashMetrics,F=this.context;return d={getMaxIndex:function(ee){try{var M=(0,y.Z)(F).create(),A=ee.getMediaInfo().type,U=ee.getAbrController(),J=ee.getStreamInfo(),$=U.getQualityFor(A,J.id),Ee=ee.getMediaInfo(),Je=k.getCurrentBufferState(A),oe=ee.getScheduleController(),Ce=k.getCurrentBufferLevel(A,!0),He=J&&J.manifestInfo?J.manifestInfo.isDynamic:null,Le=oe.getPlaybackController(),ve=Le.getCurrentLiveLatency();if(!ee.useLoLPABR()||A===g.Z.AUDIO)return M;ve||(ve=0);var Ue=Le.getPlaybackRate(),Be=U.getThroughputHistory().getSafeAverageThroughput(A,He);if(l.debug("Throughput ".concat(Math.round(Be)," kbps")),isNaN(Be)||!Je||U.getAbandonmentStateFor(J.id,A)===p.Z.ABANDON_LOAD)return M;for(var ct=Ee.bitrateList,_e=ee.getRepresentationInfo().fragmentDuration,Ge=ct[0].bandwidth/1e3,vt=ct[ct.length-1].bandwidth/1e3,ft=0;ft<ct.length;ft++){var qe=ct[ft].bandwidth/1e3;qe>vt?vt=qe:qe<Ge&&(Ge=qe)}var $e=ct[$].bandwidth/1e3,de=k.getCurrentHttpRequest(A,!0),ge=(de.tresponse.getTime()-de.trequest.getTime())/1e3,Ve=ge>_e?ge-_e:0;Z.setupPerSegmentQoe(_e,vt,Ge),Z.logSegmentMetrics($e,Ve,ve,Ue);var f=(0,u.Z)(F).create({targetLatency:1.5,bufferMin:.3,segmentDuration:_e,qoeEvaluator:Z});return M.quality=D.getNextQuality(Ee,1e3*Be,ve,Ce,Ue,$,f),M.reason={throughput:Be,latency:ve},M.priority=y.Z.PRIORITY.STRONG,oe.setTimeToLoadDelay(0),M.quality!==$&&l.debug("[TgcLearningRule]["+A+"] requesting switch to index: ",M.quality,"Average throughput",Math.round(Be),"kbps"),M}catch(i){throw i}},reset:function(){D.reset(),Z.reset()}},l=(0,ie.Z)(F).getInstance().getLogger(d),D=(0,t.Z)(F).create(),Z=(0,e.Z)(F).create(),d}E.__dashjs_factory_name="LoLPRule",we.Z=S.Z.getClassFactory(E)},6523:function(tt,we,O){var ie=O(5448);function S(t){var e,y,p,u,g=t.targetLatency,E=t.bufferMin,n=t.segmentDuration,l=t.qoeEvaluator;function d(){return n}function D(Z,k){var F=d();return k>F?Z-F:Z+F-k}return e={getMinBuffer:function(){return E},getSegmentDuration:d,getNextBufferWithBitrate:function(Z,k,F){return D(k,Z*n/F)},getNextBuffer:D,findWeightVector:function(Z,k,F,ee,M,A){var U=null,J=null,$=null,Ee=Math.abs(k-p);return Z.forEach(function(Je){y.forEach(function(oe){oe[0];var Ce=oe[1],He=oe[2],Le=(oe[3],Je.bitrate*n/M),ve=D(F,Le),Ue=(He===0?10:1/He)*Math.max(1e-5,Le-ve),Be=(Ce===0?10:1/Ce)*Je.state.latency,ct=l.calculateSingleUseQoe(Je.bitrate,Ue,Be,A);(U===null||ct>U)&&function(_e,Ge,vt){return!(_e>g+vt)&&Ge>=E}(k,ve,Ee)&&(U=ct,J=oe,$=Je.bitrate)})}),J===null&&$===null&&(J=-1),p=k,J}},y=function Z(k,F,ee){if(ee===F)return k;for(var M=k.length,A=0;A<M;A++)for(var U=k.shift(),J=0;J<u.length;J++)k.push(U.concat(u[J]));return Z(k,F,ee+1)}((u=[.2,.4,.6,.8,1]).map(function(Z){return[Z]}),4,1),p=0,e}S.__dashjs_factory_name="LoLpWeightSelector",we.Z=ie.Z.getClassFactory(S)},2298:function(tt,we){we.Z=function O(){(function(ie,S){if(!(ie instanceof S))throw new TypeError("Cannot call a class as a function")})(this,O),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:function(tt,we,O){O.d(we,{Y:function(){return l}});var ie=O(3393),S=O(1553),t=O(5448),e=O(2128),y=O(2594),p=O(7387),u=O(7417),g=O(9032),E=O(9326),n=O(7802),l=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function d(D){var Z,k,F,ee,M,A,U,J,$=this.context,Ee=D.adapter,Je=D.baseURLController,oe=D.streamInfo,Ce=D.timelineConverter,He=D.debug,Le=D.eventBus,ve=D.events,Ue=D.dashConstants,Be=(0,y.Z)($).getInstance();function ct(Ge,vt){var ft=new e.Z;ft.id=Ge.id,ft.bitrate=Ge.bandwidth,ft.width=Ge.width,ft.height=Ge.height,ft.tilesHor=1,ft.tilesVert=1,Ge.essentialProperties&&Ge.essentialProperties.forEach(function(qe){if(l.indexOf(qe.schemeIdUri)>=0&&qe.value){var $e=qe.value.split("x");$e.length!==2||isNaN($e[0])||isNaN($e[1])||(ft.tilesHor=parseInt($e[0],10),ft.tilesVert=parseInt($e[1],10))}}),vt?A.updateSegmentData(Ge).then(function(qe){(function($e,de,ge){var Ve=[],f=function(i,v){var T,W,V,he,Me=[],Oe=0;for(T=0,W=i.segments.length;T<W;T++)V=i.segments[T],(he=(0,p.TJ)(Ce,Ee.getIsDynamic(),v,V.startTime,V.duration,V.timescale,V.media,V.mediaRange,Oe))&&(Me.push(he),he=null,Oe++);return Me}(ge,de);de.segments=f,$e.segmentDuration=de.segments[0].duration,$e.readThumbnail=function(i,v){var T=null;Ve.some(function(W){if(W.start<=i&&W.end>i)return T=W.url,!0}),T?v(T):de.segments.some(function(W){if(W.mediaStartTime<=i&&W.mediaStartTime+W.duration>i){var V=Je.resolve(de.path);return U.load({method:"get",url:V.url,request:{range:W.mediaRange,responseType:"arraybuffer"},onload:function(he){var Me=J.getSamplesInfo(he.target.response),Oe=new Blob([he.target.response.slice(Me.sampleList[0].offset,Me.sampleList[0].offset+Me.sampleList[0].size)],{type:"image/jpeg"}),Se=window.URL.createObjectURL(Oe);Ve.push({start:W.mediaStartTime,end:W.mediaStartTime+W.duration,url:Se}),v&&v(Se)}}),!0}})}})(ft,Ge,qe)}):(ft.startNumber=Ge.startNumber,ft.segmentDuration=Ge.segmentDuration,ft.timescale=Ge.timescale,ft.templateUrl=function(qe){var $e=Be.isRelative(qe.media)?Be.resolve(qe.media,Je.resolve(qe.path).url):qe.media;return $e?(0,p.Aj)($e,qe.id):""}(Ge)),ft.tilesHor>0&&ft.tilesVert>0&&(ft.widthPerTile=ft.width/ft.tilesHor,ft.heightPerTile=ft.height/ft.tilesVert,k.push(ft))}function _e(){k=[],ee=-1,M=null}return Z={getTracks:function(){return k},addTracks:function(){if(oe&&Ee&&(M=Ee.getMediaInfoForType(oe,ie.Z.IMAGE))){var Ge=Ee.getVoRepresentations(M);Ge&&Ge.length>0&&Ge.forEach(function(vt){(vt.segmentInfoType===S.Z.SEGMENT_TEMPLATE&&vt.segmentDuration>0&&vt.media||vt.segmentInfoType===S.Z.SEGMENT_TIMELINE)&&ct(vt),vt.segmentInfoType===S.Z.SEGMENT_BASE&&ct(vt,!0)}),k.length>0&&k.sort(function(vt,ft){return vt.bitrate-ft.bitrate})}},reset:_e,setTrackByIndex:function(Ge){k&&k.length!==0&&(Ge>=k.length&&(Ge=k.length-1),ee=Ge)},getCurrentTrack:function(){return ee<0?null:k[ee]},getCurrentTrackIndex:function(){return ee},getThumbnailRequestForTime:function(Ge){for(var vt,ft=Ee.getVoRepresentations(M),qe=0;qe<ft.length;qe++)if(k[ee].id===ft[qe].id){vt=ft[qe];break}return F.getSegmentRequestForTime(M,vt,Ge)}},_e(),U=(0,g.Z)($).create({}),J=(0,u.Z)($).getInstance(),A=(0,n.Z)($).create({events:ve,eventBus:Le,streamInfo:oe,timelineConverter:Ce,dashConstants:Ue,dashMetrics:D.dashMetrics,segmentBaseController:D.segmentBaseController,type:ie.Z.IMAGE}),(F=(0,E.Z)($).create({streamInfo:oe,type:ie.Z.IMAGE,timelineConverter:Ce,segmentsController:A,baseURLController:Je,debug:He,eventBus:Le,events:ve,dashConstants:Ue,urlUtils:Be})).initialize(!!Ee&&Ee.getIsDynamic()),Z}d.__dashjs_factory_name="ThumbnailTracks",we.Z=t.Z.getClassFactory(d)},7417:function(tt,we,O){var ie=O(6398),S=O(8260),t=O(5448),e=O(6934),y=O(9597);function p(){var u,g,E=this.context;function n(D){if(!D)return null;D.fileStart===void 0&&(D.fileStart=0);var Z=e.parseBuffer(D),k=(0,S.Z)(E).create();return k.setData(Z),k}function l(D,Z){return D[Z+3]>>>0|D[Z+2]<<8>>>0|D[Z+1]<<16>>>0|D[Z]<<24>>>0}function d(D,Z){return String.fromCharCode(D[Z++])+String.fromCharCode(D[Z++])+String.fromCharCode(D[Z++])+String.fromCharCode(D[Z])}return g={parse:n,findLastTopIsoBoxCompleted:function(D,Z,k){if(k===void 0&&(k=0),!Z||k+8>=Z.byteLength)return new y.Z(0,!1);for(var F,ee=Z instanceof ArrayBuffer?new Uint8Array(Z):Z,M=0;k<ee.byteLength;){var A=l(ee,k),U=d(ee,k+4);if(A===0)break;k+A<=ee.byteLength&&(D.indexOf(U)>=0?F=new y.Z(k,!0,A):M=k+A),k+=A}return F||new y.Z(M,!1)},getMediaTimescaleFromMoov:function(D){var Z=n(D),k=Z?Z.getBox("mdhd"):void 0;return k?k.timescale:NaN},getSamplesInfo:function(D){if(!D||D.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Z,k,F,ee,M,A,U,J,$,Ee,Je,oe,Ce,He,Le,ve,Ue=n(D),Be=Ue.getBoxes("moof"),ct=Ue.getBoxes("mfhd");Le=Ue.getBoxes("moof").length,He=ct[ct.length-1].sequence_number,k=0,M=[];var _e=-1,Ge=-1;for(Ee=0;Ee<Be.length;Ee++){var vt=Be[Ee],ft=vt.getChildBoxes("traf");for(J=0;J<ft.length;J++){var qe=ft[J],$e=qe.getChildBox("tfhd"),de=qe.getChildBox("tfdt");ee=de.baseMediaDecodeTime;var ge=qe.getChildBoxes("trun"),Ve=qe.getChildBoxes("subs");for($=0;$<ge.length;$++){var f=ge[$];for(k=f.sample_count,Ce=($e.base_data_offset||0)+(f.data_offset||0),U=0;U<k;U++){Z=(A=f.samples[U]).sample_duration!==void 0?A.sample_duration:$e.default_sample_duration,F=A.sample_size!==void 0?A.sample_size:$e.default_sample_size;var i={dts:ee,cts:ee+(A.sample_composition_time_offset!==void 0?A.sample_composition_time_offset:0),duration:Z,offset:vt.offset+Ce,size:F,subSizes:[F]};if(Ve)for(Je=0;Je<Ve.length;Je++){var v=Ve[Je];if(_e<v.entry_count-1&&U>Ge&&(_e++,Ge+=v.entries[_e].sample_delta),U==Ge){i.subSizes=[];var T=v.entries[_e];for(oe=0;oe<T.subsample_count;oe++)i.subSizes.push(T.subsamples[oe].subsample_size)}}M.push(i),Ce+=F,ee+=Z}}ve=ee-de.baseMediaDecodeTime}}return{sampleList:M,lastSequenceNumber:He,totalDuration:ve,numSequences:Le}},findInitRange:function(D){var Z=null,k=n(D);if(!k)return Z;var F=k.getBox("ftyp"),ee=k.getBox("moov");return u.debug("Searching for initialization."),ee&&ee.isComplete&&(Z=(F?F.offset:ee.offset)+"-"+(ee.offset+ee.size-1),u.debug("Found the initialization.  Range: "+Z)),Z},parsePayload:function(D,Z,k){if(k===void 0&&(k=0),!Z||k+8>=Z.byteLength)return new y.Z(0,!1);for(var F,ee=Z instanceof ArrayBuffer?new Uint8Array(Z):Z,M=0;k<ee.byteLength;){var A=l(ee,k),U=d(ee,k+4);if(A===0)break;k+A<=ee.byteLength&&(D.indexOf(U)>=0?F=new y.Z(k,!0,A,U):M=k+A),k+=A}return F||new y.Z(M,!1)}},u=(0,ie.Z)(E).getInstance().getLogger(g),g}p.__dashjs_factory_name="BoxParser",we.Z=t.Z.getSingletonFactory(p)},1715:function(tt,we,O){O.d(we,{B:function(){return y}});var ie=O(5448),S=O(7803),t=O(3393),e=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function y(){var u="WebKitMediaSource"in window,g="MediaSource"in window;return u||g}function p(){var u,g,E;return u={setConfig:function(n){n&&n.settings&&(g=n.settings)},supportsMediaSource:y,supportsEncryptedMedia:function(){return E},supportsCodec:function(n,l){return l!==t.Z.AUDIO&&l!==t.Z.VIDEO?Promise.resolve(!0):function(d,D){return g.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(d.codec&&D===t.Z.AUDIO||D===t.Z.VIDEO&&d.codec&&d.width&&d.height&&d.bitrate&&d.framerate)}(n,l)?function(d,D){return new Promise(function(Z){if(d&&d.codec){var k={type:"media-source"};k[D]={},k[D].contentType=d.codec,k[D].width=d.width,k[D].height=d.height,k[D].bitrate=parseInt(d.bitrate),k[D].framerate=parseFloat(d.framerate),navigator.mediaCapabilities.decodingInfo(k).then(function(F){Z(F.supported)}).catch(function(){Z(!1)})}else Z(!1)})}(n,l):function(d){return new Promise(function(D){if(d&&d.codec){var Z=d.codec;d.width&&d.height&&(Z+=';width="'+d.width+'";height="'+d.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(Z)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(Z)?D(!0):D(!1)}else D(!1)})}(n)},setEncryptedMediaSupported:function(n){E=n},supportsEssentialProperty:function(n){try{return S.Y.indexOf(n.schemeIdUri)!==-1}catch{return!0}},codecRootCompatibleWithCodec:function(n,l){for(var d,D=n.split(".")[0],Z=l.indexOf(D)===0,k=0;k<e.length;k++)if(e[k].codec===D){d=e[k];break}return d?Z||d.compatibleCodecs.some(function(F){return l.indexOf(F)===0}):Z}},E=!1,u}p.__dashjs_factory_name="Capabilities",we.Z=ie.Z.getSingletonFactory(p)},2295:function(tt,we,O){var ie=O(5448),S=O(3106);function t(){return{customTimeRangeArray:[],length:0,add:function(e,y){var p;for(p=0;p<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[p].start;p++);for(this.customTimeRangeArray.splice(p,0,{start:e,end:y}),p=0;p<this.customTimeRangeArray.length-1;p++)this.mergeRanges(p,p+1)&&p--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,y){for(var p=0;p<this.customTimeRangeArray.length;p++)if(e<=this.customTimeRangeArray[p].start&&y>=this.customTimeRangeArray[p].end)this.customTimeRangeArray.splice(p,1),p--;else{if(e>this.customTimeRangeArray[p].start&&y<this.customTimeRangeArray[p].end){this.customTimeRangeArray.splice(p+1,0,{start:y,end:this.customTimeRangeArray[p].end}),this.customTimeRangeArray[p].end=e;break}e>this.customTimeRangeArray[p].start&&e<this.customTimeRangeArray[p].end?this.customTimeRangeArray[p].end=e:y>this.customTimeRangeArray[p].start&&y<this.customTimeRangeArray[p].end&&(this.customTimeRangeArray[p].start=y)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,y){var p=this.customTimeRangeArray[e],u=this.customTimeRangeArray[y];return p.start<=u.start&&u.start<=p.end&&p.end<=u.end?(p.end=u.end,this.customTimeRangeArray.splice(y,1),!0):u.start<=p.start&&p.start<=u.end&&u.end<=p.end?(p.start=u.start,this.customTimeRangeArray.splice(y,1),!0):u.start<=p.start&&p.start<=u.end&&p.end<=u.end?(this.customTimeRangeArray.splice(e,1),!0):p.start<=u.start&&u.start<=p.end&&u.end<=p.end&&(this.customTimeRangeArray.splice(y,1),!0)},start:function(e){return(0,S.SE)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return(0,S.SE)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}t.__dashjs_factory_name="CustomTimeRanges",we.Z=ie.Z.getClassFactory(t)},5:function(tt,we,O){var ie=O(5448);function S(){var t,e=/^[a-z][a-z0-9+\-_.]*:/i,y=/^https?:\/\//i,p=/^https:\/\//i,u=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,g=function(F,ee){try{return new window.URL(F,ee).toString()}catch{return F}},E=function(F,ee){var M=n;if(!ee||!D(F))return F;Z(F)&&(M=l),k(F)&&(M=d);var A=M(ee),U=A.charAt(A.length-1)!=="/"&&F.charAt(0)!=="/"?"/":"";return[A,F].join(U)};function n(F){var ee=F.indexOf("/"),M=F.lastIndexOf("/");return ee!==-1?M===ee+1?F:(F.indexOf("?")!==-1&&(F=F.substring(0,F.indexOf("?"))),F.substring(0,M+1)):""}function l(F){var ee=F.match(u);return ee?ee[1]:""}function d(F){var ee=F.match(e);return ee?ee[0]:""}function D(F){return!e.test(F)}function Z(F){return D(F)&&F.charAt(0)==="/"}function k(F){return F.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),t=g}catch{}finally{t=t||E}}(),{parseBaseUrl:n,parseOrigin:l,parseScheme:d,isRelative:D,isPathAbsolute:Z,isSchemeRelative:k,isHTTPURL:function(F){return y.test(F)},isHTTPS:function(F){return p.test(F)},removeHostname:function(F){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(F)[2].substring(1)},resolve:function(F,ee){return t(F,ee)}}}S.__dashjs_factory_name="DefaultURLUtils",we.Z=ie.Z.getSingletonFactory(S)},8260:function(tt,we,O){var ie=O(2839),S=O(5448);function t(){var e;function y(u){var g=[];if(!u||!e||typeof e.fetchAll!="function")return g;for(var E,n=e.fetchAll(u),l=0,d=n.length;l<d;l++)(E=p(n[l]))&&g.push(E);return g}function p(u){if(!u)return null;var g=new ie.Z(u);return u.hasOwnProperty("_incomplete")&&(g.isComplete=!u._incomplete),g}return{getBox:function(u){return u&&e&&e.boxes&&e.boxes.length!==0&&typeof e.fetch=="function"?p(e.fetch(u)):null},getBoxes:y,setData:function(u){e=u},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var u=y(e.boxes[e.boxes.length-1].type);return u.length>0?u[u.length-1]:null}}}t.__dashjs_factory_name="IsoFile",we.Z=S.Z.getClassFactory(t)},7473:function(tt,we,O){O.d(we,{k:function(){return S}});var ie=O(5448);function S(e,y){var p={url:e.url,method:e.method,headers:Object.assign({},e.headers),credentials:e.withCredentials?"include":void 0};return Promise.resolve(y.modifyRequest(p)).then(function(){return Object.assign(e,p,{withCredentials:p.credentials==="include"})})}function t(){return{modifyRequest:null,modifyRequestURL:function(e){return e},modifyRequestHeader:function(e,y){return y.url,e}}}t.__dashjs_factory_name="RequestModifier",we.Z=ie.Z.getSingletonFactory(t)},3106:function(tt,we,O){O.d(we,{PS:function(){return t},SE:function(){return e}});var ie=O(3393);function S(y){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},S(y)}function t(y,p){if(S(y)!==p)throw ie.Z.BAD_ARGUMENT_ERROR}function e(y){if(y===null||isNaN(y)||y%1!=0)throw ie.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:function(tt,we,O){var ie=O(5448),S=O(5);function t(){var y,p=[],u=this.context;function g(E,n,l){var d=function(D){var Z;for(Z=0;Z<p.length;Z++)if(p[Z].regex.test(D))return p[Z].utils;return y}(l||n);return d&&typeof d[E]=="function"?d[E](n,l):y[E](n,l)}return y=(0,S.Z)(u).getInstance(),{registerUrlRegex:function(E,n){p.push({regex:E,utils:n})},parseBaseUrl:function(E){return g("parseBaseUrl",E)},parseOrigin:function(E){return g("parseOrigin",E)},parseScheme:function(E){return g("parseScheme",E)},isRelative:function(E){return g("isRelative",E)},isPathAbsolute:function(E){return g("isPathAbsolute",E)},isSchemeRelative:function(E){return g("isSchemeRelative",E)},isHTTPURL:function(E){return g("isHTTPURL",E)},isHTTPS:function(E){return g("isHTTPS",E)},removeHostname:function(E){return g("removeHostname",E)},resolve:function(E,n){return g("resolve",E,n)}}}t.__dashjs_factory_name="URLUtils";var e=ie.Z.getSingletonFactory(t);we.Z=e},5459:function(tt,we){we.Z=function O(ie,S,t){(function(e,y){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")})(this,O),this.code=ie||null,this.message=S||null,this.data=t||null}},3186:function(tt,we,O){var ie=O(7855);function S(e,y){for(var p=0;p<y.length;p++){var u=y[p];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}var t=function(){function e(u){(function(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=u||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var y,p;return y=e,(p=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===ie.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(u){this.type=u&&u.init?ie.w.INIT_SEGMENT_TYPE:ie.w.MEDIA_SEGMENT_TYPE,this.url=u&&u.url?u.url:null,this.range=u&&u.range?u.range.start+"-"+u.range.end:null,this.mediaType=u&&u.mediaType?u.mediaType:null}}])&&S(y.prototype,p),e}();t.ACTION_DOWNLOAD="download",t.ACTION_COMPLETE="complete",we.Z=t},2839:function(tt,we){function O(S,t){for(var e=0;e<t.length;e++){var y=t[e];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(S,y.key,y)}}var ie=function(){function S(y){if(function(d,D){if(!(d instanceof D))throw new TypeError("Cannot call a class as a function")}(this,S),this.offset=y._offset,this.type=y.type,this.size=y.size,this.boxes=[],y.boxes)for(var p=0;p<y.boxes.length;p++)this.boxes.push(new S(y.boxes[p]));switch(this.isComplete=!0,y.type){case"sidx":if(this.timescale=y.timescale,this.earliest_presentation_time=y.earliest_presentation_time,this.first_offset=y.first_offset,this.references=y.references,y.references){this.references=[];for(var u=0;u<y.references.length;u++){var g={reference_type:y.references[u].reference_type,referenced_size:y.references[u].referenced_size,subsegment_duration:y.references[u].subsegment_duration};this.references.push(g)}}break;case"emsg":this.id=y.id,this.version=y.version===1?1:0,this.value=y.value,this.timescale=y.timescale,this.scheme_id_uri=y.scheme_id_uri,this.presentation_time_delta=y.version===1?y.presentation_time:y.presentation_time_delta,this.event_duration=y.event_duration,this.message_data=y.message_data;break;case"mdhd":this.timescale=y.timescale;break;case"mfhd":this.sequence_number=y.sequence_number;break;case"subs":this.entry_count=y.entry_count,this.entries=y.entries;break;case"tfhd":this.base_data_offset=y.base_data_offset,this.sample_description_index=y.sample_description_index,this.default_sample_duration=y.default_sample_duration,this.default_sample_size=y.default_sample_size,this.default_sample_flags=y.default_sample_flags,this.flags=y.flags;break;case"tfdt":this.version=y.version,this.baseMediaDecodeTime=y.baseMediaDecodeTime,this.flags=y.flags;break;case"trun":if(this.sample_count=y.sample_count,this.first_sample_flags=y.first_sample_flags,this.data_offset=y.data_offset,this.flags=y.flags,this.samples=y.samples,y.samples){this.samples=[];for(var E=0,n=y.samples.length;E<n;E++){var l={sample_size:y.samples[E].sample_size,sample_duration:y.samples[E].sample_duration,sample_composition_time_offset:y.samples[E].sample_composition_time_offset};this.samples.push(l)}}break;case"prft":this.version=y.version,this.reference_track_ID=y.reference_track_ID,this.ntp_timestamp_sec=y.ntp_timestamp_sec,this.ntp_timestamp_frac=y.ntp_timestamp_frac,this.media_time=y.media_time,this.flags=y.flags}}var t,e;return t=S,(e=[{key:"getChildBox",value:function(y){for(var p=0;p<this.boxes.length;p++)if(this.boxes[p].type===y)return this.boxes[p]}},{key:"getChildBoxes",value:function(y){for(var p=[],u=0;u<this.boxes.length;u++)this.boxes[u].type===y&&p.push(this.boxes[u]);return p}}])&&O(t.prototype,e),S}();we.Z=ie},9597:function(tt,we){we.Z=function O(ie,S,t){(function(e,y){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")})(this,O),this.lastCompletedOffset=ie,this.found=S,this.size=t}},2128:function(tt,we){we.Z=function O(){(function(ie,S){if(!(ie instanceof S))throw new TypeError("Cannot call a class as a function")})(this,O),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:function(tt,we,O){function ie(e,y){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")}O.d(we,{O:function(){return t},w:function(){return S}});var S=function e(){ie(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},t=function e(){ie(this,e),this.s=null,this.d=null,this.b=[]};S.GET="GET",S.HEAD="HEAD",S.MPD_TYPE="MPD",S.XLINK_EXPANSION_TYPE="XLinkExpansion",S.INIT_SEGMENT_TYPE="InitializationSegment",S.INDEX_SEGMENT_TYPE="IndexSegment",S.MEDIA_SEGMENT_TYPE="MediaSegment",S.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",S.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",S.DVB_REPORTING_TYPE="DVBReporting",S.LICENSE="license",S.CONTENT_STEERING_TYPE="ContentSteering",S.OTHER_TYPE="other"},3039:function(tt,we){function O(S,t){return function(e,y){for(var p,u,g,E=ie(e,"tag"),n=ie(y??"*","range"),l=[],d=-1;++d<n.length;)if(p=n[d].toLowerCase(),t||p!=="*"){for(u=-1,g=[];++u<E.length;)if(S(E[u].toLowerCase(),p)){if(!t)return E[u];l.push(E[u])}else g.push(E[u]);E=g}return t?l:void 0}}function ie(S,t){var e=S&&typeof S=="string"?[S]:S;if(!e||typeof e!="object"||!("length"in e))throw new Error("Invalid "+t+" `"+e+"`, expected non-empty string");return e}we.basicFilter=O(function(S,t){return t==="*"||S===t||S.indexOf(t+"-")>-1},!0),we.extendedFilter=O(function(S,t){var e=S.split("-"),y=t.split("-"),p=0,u=0;if(y[u]!=="*"&&e[p]!==y[u])return!1;for(p++,u++;u<y.length;)if(y[u]!=="*"){if(!e[p])return!1;if(e[p]!==y[u]){if(e[p].length===1)return!1;p++}else p++,u++}else u++;return!0},!0),we.lookup=O(function(S,t){for(var e,y=t;;){if(y==="*"||S===y)return!0;if((e=y.lastIndexOf("-"))<0)return!1;y.charAt(e-2)==="-"&&(e-=2),y=y.slice(0,e)}})},3973:function(tt,we,O){tt.exports=O(3854)},3854:function(tt,we,O){var ie=O(2415),S=O(3039),t=O(7778),e=O(5813),y=O(3165),p=O(9460);tt.exports=function(Z,k){var F,ee=k||{},M=ie.parse(String(Z||"").toLowerCase(),ee),A=ie.stringify(M),U=-1;if(!A)return A;for(;++U<t.length;)S.extendedFilter(A,t[U].from).length&&(n(M,t[U].from,t[U].to),A=ie.stringify(M));for(U=-1;++U<e.length;)l(M,e[U].from.field,e[U].from.value)&&d(M,e[U].to.field,e[U].to.value);for(A=ie.stringify(Object.assign({},M,E)),U=-1;++U<y.length;)A===y[U]&&(n(M,y[U],y[U].split("-").slice(0,-1).join("-")),A=ie.stringify(Object.assign({},M,E)));if(M.extensions.sort(D),ee.warning)for(F in p)u.call(p[F],M[F])&&ee.warning("Deprecated "+F+" `"+M[F]+"`, expected one of `"+p[F][M[F]].join("`, `")+"`",null,7);return M.script&&(M.script=M.script.charAt(0).toUpperCase()+M.script.slice(1)),M.region&&(M.region=M.region.toUpperCase()),ie.stringify(M)};var u={}.hasOwnProperty,g=new Intl.Collator,E={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function n(Z,k,F){var ee,M=ie.parse(k),A=ie.parse(F),U=[];for(ee in M)M[ee]&&M[ee].length&&l(Z,ee,M[ee])&&U.push(ee);for(ee in A)A[ee]&&A[ee].length&&(U.indexOf(ee)>-1||!Z[ee]||!Z[ee].length)&&d(Z,ee,A[ee])}function l(Z,k,F){var ee,M,A,U,J=!1;if(F){if(M=ee=Z[k],ee&&typeof ee=="object")for(M=[],A=-1;++A<ee.length;)U=ee[A],F.indexOf(U)<0?M.push(U):J=!0;else ee===F&&(M=null,J=!0);Z[k]=M}return J}function d(Z,k,F){var ee,M,A,U=Z[k];if(U&&typeof U=="object")for(ee=[].concat(F),M=-1;++M<ee.length;)A=ee[M],U.indexOf(A)<0&&U.push(A);else Z[k]=F}function D(Z,k){return g.compare(Z.singleton,k.singleton)}},2415:function(tt,we,O){we.parse=O(6903),we.stringify=O(6713)},6903:function(tt,we,O){var ie=O(2219),S=O(3516),t=O(395),e=O(858),y=O(8589);tt.exports=function u(g,E){var n,l,d,D=E||{},Z={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},k=String(g),F=k.toLowerCase(),ee=0;if(g==null)throw new Error("Expected string, got `"+g+"`");if(p.call(y,F))return(D.normalize==null||D.normalize)&&y[F]?u(y[F]):(Z[e.indexOf(F)===-1?"irregular":"regular"]=k,Z);for(;S(F.charCodeAt(ee))&&ee<9;)ee++;if(ee>1&&ee<9){if(Z.language=k.slice(0,ee),ee<4)for(l=0;F.charCodeAt(ee)===45&&S(F.charCodeAt(ee+1))&&S(F.charCodeAt(ee+2))&&S(F.charCodeAt(ee+3))&&!S(F.charCodeAt(ee+4));){if(l>2)return M(ee,3,"Too many extended language subtags, expected at most 3 subtags");Z.extendedLanguageSubtags.push(k.slice(ee+1,ee+4)),ee+=4,l++}for(F.charCodeAt(ee)===45&&S(F.charCodeAt(ee+1))&&S(F.charCodeAt(ee+2))&&S(F.charCodeAt(ee+3))&&S(F.charCodeAt(ee+4))&&!S(F.charCodeAt(ee+5))&&(Z.script=k.slice(ee+1,ee+5),ee+=5),F.charCodeAt(ee)===45&&(S(F.charCodeAt(ee+1))&&S(F.charCodeAt(ee+2))&&!S(F.charCodeAt(ee+3))?(Z.region=k.slice(ee+1,ee+3),ee+=3):t(F.charCodeAt(ee+1))&&t(F.charCodeAt(ee+2))&&t(F.charCodeAt(ee+3))&&!t(F.charCodeAt(ee+4))&&(Z.region=k.slice(ee+1,ee+4),ee+=4));F.charCodeAt(ee)===45;){for(d=n=ee+1;ie(F.charCodeAt(d));){if(d-n>7)return M(d,1,"Too long variant, expected at most 8 characters");d++}if(!(d-n>4||d-n>3&&t(F.charCodeAt(n))))break;Z.variants.push(k.slice(n,d)),ee=d}for(;F.charCodeAt(ee)===45&&F.charCodeAt(ee+1)!==120&&ie(F.charCodeAt(ee+1))&&F.charCodeAt(ee+2)===45&&ie(F.charCodeAt(ee+3));){for(d=ee+2,l=0;F.charCodeAt(d)===45&&ie(F.charCodeAt(d+1))&&ie(F.charCodeAt(d+2));)for(d=(n=d+1)+2,l++;ie(F.charCodeAt(d));){if(d-n>7)return M(d,2,"Too long extension, expected at most 8 characters");d++}if(!l)return M(d,4,"Empty extension, extensions must have at least 2 characters of content");Z.extensions.push({singleton:k.charAt(ee+1),extensions:k.slice(ee+3,d).split("-")}),ee=d}}else ee=0;if(ee===0&&F.charCodeAt(ee)===120||F.charCodeAt(ee)===45&&F.charCodeAt(ee+1)===120)for(d=ee=ee?ee+2:1;F.charCodeAt(d)===45&&ie(F.charCodeAt(d+1));){for(d=n=ee+1;ie(F.charCodeAt(d));){if(d-n>7)return M(d,5,"Too long private-use area, expected at most 8 characters");d++}Z.privateuse.push(k.slice(ee+1,d)),ee=d}return ee!==k.length?M(ee,6,"Found superfluous content after tag"):Z;function M(A,U,J){return D.warning&&D.warning(J,U,A),D.forgiving?Z:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var p={}.hasOwnProperty},6713:function(tt){tt.exports=function(we){var O,ie,S,t=we||{},e=[];if(t.irregular||t.regular)return t.irregular||t.regular;if(t.language)for(e=e.concat(t.language,t.extendedLanguageSubtags||[],t.script||[],t.region||[],t.variants||[]),O=t.extensions||[],ie=-1;++ie<O.length;)(S=O[ie]).singleton&&S.extensions&&S.extensions.length&&(e=e.concat(S.singleton,S.extensions));return t.privateuse&&t.privateuse.length&&(e=e.concat("x",t.privateuse)),e.join("-")}},1549:function(tt,we,O){var ie=O(6693),S=O(2165),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;we.Buffer=p,we.SlowBuffer=function(f){return+f!=f&&(f=0),p.alloc(+f)},we.INSPECT_MAX_BYTES=50;var e=2147483647;function y(f){if(f>e)throw new RangeError('The value "'+f+'" is invalid for option "size"');var i=new Uint8Array(f);return Object.setPrototypeOf(i,p.prototype),i}function p(f,i,v){if(typeof f=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return u(f,i,v)}function u(f,i,v){if(typeof f=="string")return function(V,he){if(typeof he=="string"&&he!==""||(he="utf8"),!p.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var Me=0|D(V,he),Oe=y(Me),Se=Oe.write(V,he);return Se!==Me&&(Oe=Oe.slice(0,Se)),Oe}(f,i);if(ArrayBuffer.isView(f))return function(V){if(de(V,Uint8Array)){var he=new Uint8Array(V);return l(he.buffer,he.byteOffset,he.byteLength)}return n(V)}(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(de(f,ArrayBuffer)||f&&de(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(f,SharedArrayBuffer)||f&&de(f.buffer,SharedArrayBuffer)))return l(f,i,v);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=f.valueOf&&f.valueOf();if(T!=null&&T!==f)return p.from(T,i,v);var W=function(V){if(p.isBuffer(V)){var he=0|d(V.length),Me=y(he);return Me.length===0||V.copy(Me,0,0,he),Me}return V.length!==void 0?typeof V.length!="number"||ge(V.length)?y(0):n(V):V.type==="Buffer"&&Array.isArray(V.data)?n(V.data):void 0}(f);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return p.from(f[Symbol.toPrimitive]("string"),i,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function g(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function E(f){return g(f),y(f<0?0:0|d(f))}function n(f){for(var i=f.length<0?0:0|d(f.length),v=y(i),T=0;T<i;T+=1)v[T]=255&f[T];return v}function l(f,i,v){if(i<0||f.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<i+(v||0))throw new RangeError('"length" is outside of buffer bounds');var T;return T=i===void 0&&v===void 0?new Uint8Array(f):v===void 0?new Uint8Array(f,i):new Uint8Array(f,i,v),Object.setPrototypeOf(T,p.prototype),T}function d(f){if(f>=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|f}function D(f,i){if(p.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||de(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var v=f.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&v===0)return 0;for(var W=!1;;)switch(i){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return ft(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*v;case"hex":return v>>>1;case"base64":return qe(f).length;default:if(W)return T?-1:ft(f).length;i=(""+i).toLowerCase(),W=!0}}function Z(f,i,v){var T=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0)<=(i>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return Le(this,i,v);case"utf8":case"utf-8":return Je(this,i,v);case"ascii":return Ce(this,i,v);case"latin1":case"binary":return He(this,i,v);case"base64":return Ee(this,i,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,i,v);default:if(T)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),T=!0}}function k(f,i,v){var T=f[i];f[i]=f[v],f[v]=T}function F(f,i,v,T,W){if(f.length===0)return-1;if(typeof v=="string"?(T=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),ge(v=+v)&&(v=W?0:f.length-1),v<0&&(v=f.length+v),v>=f.length){if(W)return-1;v=f.length-1}else if(v<0){if(!W)return-1;v=0}if(typeof i=="string"&&(i=p.from(i,T)),p.isBuffer(i))return i.length===0?-1:ee(f,i,v,T,W);if(typeof i=="number")return i&=255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(f,i,v):Uint8Array.prototype.lastIndexOf.call(f,i,v):ee(f,[i],v,T,W);throw new TypeError("val must be string, number or Buffer")}function ee(f,i,v,T,W){var V,he=1,Me=f.length,Oe=i.length;if(T!==void 0&&((T=String(T).toLowerCase())==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(f.length<2||i.length<2)return-1;he=2,Me/=2,Oe/=2,v/=2}function Se(At,et){return he===1?At[et]:At.readUInt16BE(et*he)}if(W){var Ne=-1;for(V=v;V<Me;V++)if(Se(f,V)===Se(i,Ne===-1?0:V-Ne)){if(Ne===-1&&(Ne=V),V-Ne+1===Oe)return Ne*he}else Ne!==-1&&(V-=V-Ne),Ne=-1}else for(v+Oe>Me&&(v=Me-Oe),V=v;V>=0;V--){for(var Ke=!0,We=0;We<Oe;We++)if(Se(f,V+We)!==Se(i,We)){Ke=!1;break}if(Ke)return V}return-1}function M(f,i,v,T){v=Number(v)||0;var W=f.length-v;T?(T=Number(T))>W&&(T=W):T=W;var V=i.length;T>V/2&&(T=V/2);for(var he=0;he<T;++he){var Me=parseInt(i.substr(2*he,2),16);if(ge(Me))return he;f[v+he]=Me}return he}function A(f,i,v,T){return $e(ft(i,f.length-v),f,v,T)}function U(f,i,v,T){return $e(function(W){for(var V=[],he=0;he<W.length;++he)V.push(255&W.charCodeAt(he));return V}(i),f,v,T)}function J(f,i,v,T){return $e(qe(i),f,v,T)}function $(f,i,v,T){return $e(function(W,V){for(var he,Me,Oe,Se=[],Ne=0;Ne<W.length&&!((V-=2)<0);++Ne)Me=(he=W.charCodeAt(Ne))>>8,Oe=he%256,Se.push(Oe),Se.push(Me);return Se}(i,f.length-v),f,v,T)}function Ee(f,i,v){return i===0&&v===f.length?ie.fromByteArray(f):ie.fromByteArray(f.slice(i,v))}function Je(f,i,v){v=Math.min(f.length,v);for(var T=[],W=i;W<v;){var V,he,Me,Oe,Se=f[W],Ne=null,Ke=Se>239?4:Se>223?3:Se>191?2:1;if(W+Ke<=v)switch(Ke){case 1:Se<128&&(Ne=Se);break;case 2:(192&(V=f[W+1]))==128&&(Oe=(31&Se)<<6|63&V)>127&&(Ne=Oe);break;case 3:V=f[W+1],he=f[W+2],(192&V)==128&&(192&he)==128&&(Oe=(15&Se)<<12|(63&V)<<6|63&he)>2047&&(Oe<55296||Oe>57343)&&(Ne=Oe);break;case 4:V=f[W+1],he=f[W+2],Me=f[W+3],(192&V)==128&&(192&he)==128&&(192&Me)==128&&(Oe=(15&Se)<<18|(63&V)<<12|(63&he)<<6|63&Me)>65535&&Oe<1114112&&(Ne=Oe)}Ne===null?(Ne=65533,Ke=1):Ne>65535&&(Ne-=65536,T.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),T.push(Ne),W+=Ke}return function(We){var At=We.length;if(At<=oe)return String.fromCharCode.apply(String,We);for(var et="",Dt=0;Dt<At;)et+=String.fromCharCode.apply(String,We.slice(Dt,Dt+=oe));return et}(T)}we.kMaxLength=e,p.TYPED_ARRAY_SUPPORT=function(){try{var f=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(f,i),f.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(f,i,v){return u(f,i,v)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(f,i,v){return function(T,W,V){return g(T),T<=0?y(T):W!==void 0?typeof V=="string"?y(T).fill(W,V):y(T).fill(W):y(T)}(f,i,v)},p.allocUnsafe=function(f){return E(f)},p.allocUnsafeSlow=function(f){return E(f)},p.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==p.prototype},p.compare=function(f,i){if(de(f,Uint8Array)&&(f=p.from(f,f.offset,f.byteLength)),de(i,Uint8Array)&&(i=p.from(i,i.offset,i.byteLength)),!p.isBuffer(f)||!p.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===i)return 0;for(var v=f.length,T=i.length,W=0,V=Math.min(v,T);W<V;++W)if(f[W]!==i[W]){v=f[W],T=i[W];break}return v<T?-1:T<v?1:0},p.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(f,i){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return p.alloc(0);var v;if(i===void 0)for(i=0,v=0;v<f.length;++v)i+=f[v].length;var T=p.allocUnsafe(i),W=0;for(v=0;v<f.length;++v){var V=f[v];if(de(V,Uint8Array))W+V.length>T.length?p.from(V).copy(T,W):Uint8Array.prototype.set.call(T,V,W);else{if(!p.isBuffer(V))throw new TypeError('"list" argument must be an Array of Buffers');V.copy(T,W)}W+=V.length}return T},p.byteLength=D,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<f;i+=2)k(this,i,i+1);return this},p.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<f;i+=4)k(this,i,i+3),k(this,i+1,i+2);return this},p.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<f;i+=8)k(this,i,i+7),k(this,i+1,i+6),k(this,i+2,i+5),k(this,i+3,i+4);return this},p.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?Je(this,0,f):Z.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(f){if(!p.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||p.compare(this,f)===0},p.prototype.inspect=function(){var f="",i=we.INSPECT_MAX_BYTES;return f=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(f+=" ... "),"<Buffer "+f+">"},t&&(p.prototype[t]=p.prototype.inspect),p.prototype.compare=function(f,i,v,T,W){if(de(f,Uint8Array)&&(f=p.from(f,f.offset,f.byteLength)),!p.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(i===void 0&&(i=0),v===void 0&&(v=f?f.length:0),T===void 0&&(T=0),W===void 0&&(W=this.length),i<0||v>f.length||T<0||W>this.length)throw new RangeError("out of range index");if(T>=W&&i>=v)return 0;if(T>=W)return-1;if(i>=v)return 1;if(this===f)return 0;for(var V=(W>>>=0)-(T>>>=0),he=(v>>>=0)-(i>>>=0),Me=Math.min(V,he),Oe=this.slice(T,W),Se=f.slice(i,v),Ne=0;Ne<Me;++Ne)if(Oe[Ne]!==Se[Ne]){V=Oe[Ne],he=Se[Ne];break}return V<he?-1:he<V?1:0},p.prototype.includes=function(f,i,v){return this.indexOf(f,i,v)!==-1},p.prototype.indexOf=function(f,i,v){return F(this,f,i,v,!0)},p.prototype.lastIndexOf=function(f,i,v){return F(this,f,i,v,!1)},p.prototype.write=function(f,i,v,T){if(i===void 0)T="utf8",v=this.length,i=0;else if(v===void 0&&typeof i=="string")T=i,v=this.length,i=0;else{if(!isFinite(i))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");i>>>=0,isFinite(v)?(v>>>=0,T===void 0&&(T="utf8")):(T=v,v=void 0)}var W=this.length-i;if((v===void 0||v>W)&&(v=W),f.length>0&&(v<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");for(var V=!1;;)switch(T){case"hex":return M(this,f,i,v);case"utf8":case"utf-8":return A(this,f,i,v);case"ascii":case"latin1":case"binary":return U(this,f,i,v);case"base64":return J(this,f,i,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,f,i,v);default:if(V)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),V=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var oe=4096;function Ce(f,i,v){var T="";v=Math.min(f.length,v);for(var W=i;W<v;++W)T+=String.fromCharCode(127&f[W]);return T}function He(f,i,v){var T="";v=Math.min(f.length,v);for(var W=i;W<v;++W)T+=String.fromCharCode(f[W]);return T}function Le(f,i,v){var T=f.length;(!i||i<0)&&(i=0),(!v||v<0||v>T)&&(v=T);for(var W="",V=i;V<v;++V)W+=Ve[f[V]];return W}function ve(f,i,v){for(var T=f.slice(i,v),W="",V=0;V<T.length-1;V+=2)W+=String.fromCharCode(T[V]+256*T[V+1]);return W}function Ue(f,i,v){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+i>v)throw new RangeError("Trying to access beyond buffer length")}function Be(f,i,v,T,W,V){if(!p.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>W||i<V)throw new RangeError('"value" argument is out of bounds');if(v+T>f.length)throw new RangeError("Index out of range")}function ct(f,i,v,T,W,V){if(v+T>f.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function _e(f,i,v,T,W){return i=+i,v>>>=0,W||ct(f,0,v,4),S.write(f,i,v,T,23,4),v+4}function Ge(f,i,v,T,W){return i=+i,v>>>=0,W||ct(f,0,v,8),S.write(f,i,v,T,52,8),v+8}p.prototype.slice=function(f,i){var v=this.length;(f=~~f)<0?(f+=v)<0&&(f=0):f>v&&(f=v),(i=i===void 0?v:~~i)<0?(i+=v)<0&&(i=0):i>v&&(i=v),i<f&&(i=f);var T=this.subarray(f,i);return Object.setPrototypeOf(T,p.prototype),T},p.prototype.readUintLE=p.prototype.readUIntLE=function(f,i,v){f>>>=0,i>>>=0,v||Ue(f,i,this.length);for(var T=this[f],W=1,V=0;++V<i&&(W*=256);)T+=this[f+V]*W;return T},p.prototype.readUintBE=p.prototype.readUIntBE=function(f,i,v){f>>>=0,i>>>=0,v||Ue(f,i,this.length);for(var T=this[f+--i],W=1;i>0&&(W*=256);)T+=this[f+--i]*W;return T},p.prototype.readUint8=p.prototype.readUInt8=function(f,i){return f>>>=0,i||Ue(f,1,this.length),this[f]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(f,i){return f>>>=0,i||Ue(f,2,this.length),this[f]|this[f+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(f,i){return f>>>=0,i||Ue(f,2,this.length),this[f]<<8|this[f+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(f,i){return f>>>=0,i||Ue(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(f,i){return f>>>=0,i||Ue(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},p.prototype.readIntLE=function(f,i,v){f>>>=0,i>>>=0,v||Ue(f,i,this.length);for(var T=this[f],W=1,V=0;++V<i&&(W*=256);)T+=this[f+V]*W;return T>=(W*=128)&&(T-=Math.pow(2,8*i)),T},p.prototype.readIntBE=function(f,i,v){f>>>=0,i>>>=0,v||Ue(f,i,this.length);for(var T=i,W=1,V=this[f+--T];T>0&&(W*=256);)V+=this[f+--T]*W;return V>=(W*=128)&&(V-=Math.pow(2,8*i)),V},p.prototype.readInt8=function(f,i){return f>>>=0,i||Ue(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},p.prototype.readInt16LE=function(f,i){f>>>=0,i||Ue(f,2,this.length);var v=this[f]|this[f+1]<<8;return 32768&v?4294901760|v:v},p.prototype.readInt16BE=function(f,i){f>>>=0,i||Ue(f,2,this.length);var v=this[f+1]|this[f]<<8;return 32768&v?4294901760|v:v},p.prototype.readInt32LE=function(f,i){return f>>>=0,i||Ue(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},p.prototype.readInt32BE=function(f,i){return f>>>=0,i||Ue(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},p.prototype.readFloatLE=function(f,i){return f>>>=0,i||Ue(f,4,this.length),S.read(this,f,!0,23,4)},p.prototype.readFloatBE=function(f,i){return f>>>=0,i||Ue(f,4,this.length),S.read(this,f,!1,23,4)},p.prototype.readDoubleLE=function(f,i){return f>>>=0,i||Ue(f,8,this.length),S.read(this,f,!0,52,8)},p.prototype.readDoubleBE=function(f,i){return f>>>=0,i||Ue(f,8,this.length),S.read(this,f,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(f,i,v,T){f=+f,i>>>=0,v>>>=0,T||Be(this,f,i,v,Math.pow(2,8*v)-1,0);var W=1,V=0;for(this[i]=255&f;++V<v&&(W*=256);)this[i+V]=f/W&255;return i+v},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(f,i,v,T){f=+f,i>>>=0,v>>>=0,T||Be(this,f,i,v,Math.pow(2,8*v)-1,0);var W=v-1,V=1;for(this[i+W]=255&f;--W>=0&&(V*=256);)this[i+W]=f/V&255;return i+v},p.prototype.writeUint8=p.prototype.writeUInt8=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,1,255,0),this[i]=255&f,i+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,2,65535,0),this[i]=255&f,this[i+1]=f>>>8,i+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,2,65535,0),this[i]=f>>>8,this[i+1]=255&f,i+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,4,4294967295,0),this[i+3]=f>>>24,this[i+2]=f>>>16,this[i+1]=f>>>8,this[i]=255&f,i+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,4,4294967295,0),this[i]=f>>>24,this[i+1]=f>>>16,this[i+2]=f>>>8,this[i+3]=255&f,i+4},p.prototype.writeIntLE=function(f,i,v,T){if(f=+f,i>>>=0,!T){var W=Math.pow(2,8*v-1);Be(this,f,i,v,W-1,-W)}var V=0,he=1,Me=0;for(this[i]=255&f;++V<v&&(he*=256);)f<0&&Me===0&&this[i+V-1]!==0&&(Me=1),this[i+V]=(f/he>>0)-Me&255;return i+v},p.prototype.writeIntBE=function(f,i,v,T){if(f=+f,i>>>=0,!T){var W=Math.pow(2,8*v-1);Be(this,f,i,v,W-1,-W)}var V=v-1,he=1,Me=0;for(this[i+V]=255&f;--V>=0&&(he*=256);)f<0&&Me===0&&this[i+V+1]!==0&&(Me=1),this[i+V]=(f/he>>0)-Me&255;return i+v},p.prototype.writeInt8=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,1,127,-128),f<0&&(f=255+f+1),this[i]=255&f,i+1},p.prototype.writeInt16LE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,2,32767,-32768),this[i]=255&f,this[i+1]=f>>>8,i+2},p.prototype.writeInt16BE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,2,32767,-32768),this[i]=f>>>8,this[i+1]=255&f,i+2},p.prototype.writeInt32LE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,4,2147483647,-2147483648),this[i]=255&f,this[i+1]=f>>>8,this[i+2]=f>>>16,this[i+3]=f>>>24,i+4},p.prototype.writeInt32BE=function(f,i,v){return f=+f,i>>>=0,v||Be(this,f,i,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[i]=f>>>24,this[i+1]=f>>>16,this[i+2]=f>>>8,this[i+3]=255&f,i+4},p.prototype.writeFloatLE=function(f,i,v){return _e(this,f,i,!0,v)},p.prototype.writeFloatBE=function(f,i,v){return _e(this,f,i,!1,v)},p.prototype.writeDoubleLE=function(f,i,v){return Ge(this,f,i,!0,v)},p.prototype.writeDoubleBE=function(f,i,v){return Ge(this,f,i,!1,v)},p.prototype.copy=function(f,i,v,T){if(!p.isBuffer(f))throw new TypeError("argument should be a Buffer");if(v||(v=0),T||T===0||(T=this.length),i>=f.length&&(i=f.length),i||(i=0),T>0&&T<v&&(T=v),T===v||f.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),f.length-i<T-v&&(T=f.length-i+v);var W=T-v;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,v,T):Uint8Array.prototype.set.call(f,this.subarray(v,T),i),W},p.prototype.fill=function(f,i,v,T){if(typeof f=="string"){if(typeof i=="string"?(T=i,i=0,v=this.length):typeof v=="string"&&(T=v,v=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!p.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(f.length===1){var W=f.charCodeAt(0);(T==="utf8"&&W<128||T==="latin1")&&(f=W)}}else typeof f=="number"?f&=255:typeof f=="boolean"&&(f=Number(f));if(i<0||this.length<i||this.length<v)throw new RangeError("Out of range index");if(v<=i)return this;var V;if(i>>>=0,v=v===void 0?this.length:v>>>0,f||(f=0),typeof f=="number")for(V=i;V<v;++V)this[V]=f;else{var he=p.isBuffer(f)?f:p.from(f,T),Me=he.length;if(Me===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(V=0;V<v-i;++V)this[V+i]=he[V%Me]}return this};var vt=/[^+/0-9A-Za-z-_]/g;function ft(f,i){var v;i=i||1/0;for(var T=f.length,W=null,V=[],he=0;he<T;++he){if((v=f.charCodeAt(he))>55295&&v<57344){if(!W){if(v>56319){(i-=3)>-1&&V.push(239,191,189);continue}if(he+1===T){(i-=3)>-1&&V.push(239,191,189);continue}W=v;continue}if(v<56320){(i-=3)>-1&&V.push(239,191,189),W=v;continue}v=65536+(W-55296<<10|v-56320)}else W&&(i-=3)>-1&&V.push(239,191,189);if(W=null,v<128){if((i-=1)<0)break;V.push(v)}else if(v<2048){if((i-=2)<0)break;V.push(v>>6|192,63&v|128)}else if(v<65536){if((i-=3)<0)break;V.push(v>>12|224,v>>6&63|128,63&v|128)}else{if(!(v<1114112))throw new Error("Invalid code point");if((i-=4)<0)break;V.push(v>>18|240,v>>12&63|128,v>>6&63|128,63&v|128)}}return V}function qe(f){return ie.toByteArray(function(i){if((i=(i=i.split("=")[0]).trim().replace(vt,"")).length<2)return"";for(;i.length%4!=0;)i+="=";return i}(f))}function $e(f,i,v,T){for(var W=0;W<T&&!(W+v>=i.length||W>=f.length);++W)i[W+v]=f[W];return W}function de(f,i){return f instanceof i||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===i.name}function ge(f){return f!=f}var Ve=function(){for(var f="0123456789abcdef",i=new Array(256),v=0;v<16;++v)for(var T=16*v,W=0;W<16;++W)i[T+W]=f[v]+f[W];return i}()},6693:function(tt,we){we.byteLength=function(g){var E=p(g),n=E[0],l=E[1];return 3*(n+l)/4-l},we.toByteArray=function(g){var E,n,l=p(g),d=l[0],D=l[1],Z=new S(function(ee,M,A){return 3*(M+A)/4-A}(0,d,D)),k=0,F=D>0?d-4:d;for(n=0;n<F;n+=4)E=ie[g.charCodeAt(n)]<<18|ie[g.charCodeAt(n+1)]<<12|ie[g.charCodeAt(n+2)]<<6|ie[g.charCodeAt(n+3)],Z[k++]=E>>16&255,Z[k++]=E>>8&255,Z[k++]=255&E;return D===2&&(E=ie[g.charCodeAt(n)]<<2|ie[g.charCodeAt(n+1)]>>4,Z[k++]=255&E),D===1&&(E=ie[g.charCodeAt(n)]<<10|ie[g.charCodeAt(n+1)]<<4|ie[g.charCodeAt(n+2)]>>2,Z[k++]=E>>8&255,Z[k++]=255&E),Z},we.fromByteArray=function(g){for(var E,n=g.length,l=n%3,d=[],D=16383,Z=0,k=n-l;Z<k;Z+=D)d.push(u(g,Z,Z+D>k?k:Z+D));return l===1?(E=g[n-1],d.push(O[E>>2]+O[E<<4&63]+"==")):l===2&&(E=(g[n-2]<<8)+g[n-1],d.push(O[E>>10]+O[E>>4&63]+O[E<<2&63]+"=")),d.join("")};for(var O=[],ie=[],S=typeof Uint8Array<"u"?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,y=t.length;e<y;++e)O[e]=t[e],ie[t.charCodeAt(e)]=e;function p(g){var E=g.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=g.indexOf("=");return n===-1&&(n=E),[n,n===E?0:4-n%4]}function u(g,E,n){for(var l,d,D=[],Z=E;Z<n;Z+=3)l=(g[Z]<<16&16711680)+(g[Z+1]<<8&65280)+(255&g[Z+2]),D.push(O[(d=l)>>18&63]+O[d>>12&63]+O[d>>6&63]+O[63&d]);return D.join("")}ie["-".charCodeAt(0)]=62,ie["_".charCodeAt(0)]=63},2165:function(tt,we){we.read=function(O,ie,S,t,e){var y,p,u=8*e-t-1,g=(1<<u)-1,E=g>>1,n=-7,l=S?e-1:0,d=S?-1:1,D=O[ie+l];for(l+=d,y=D&(1<<-n)-1,D>>=-n,n+=u;n>0;y=256*y+O[ie+l],l+=d,n-=8);for(p=y&(1<<-n)-1,y>>=-n,n+=t;n>0;p=256*p+O[ie+l],l+=d,n-=8);if(y===0)y=1-E;else{if(y===g)return p?NaN:1/0*(D?-1:1);p+=Math.pow(2,t),y-=E}return(D?-1:1)*p*Math.pow(2,y-t)},we.write=function(O,ie,S,t,e,y){var p,u,g,E=8*y-e-1,n=(1<<E)-1,l=n>>1,d=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=t?0:y-1,Z=t?1:-1,k=ie<0||ie===0&&1/ie<0?1:0;for(ie=Math.abs(ie),isNaN(ie)||ie===1/0?(u=isNaN(ie)?1:0,p=n):(p=Math.floor(Math.log(ie)/Math.LN2),ie*(g=Math.pow(2,-p))<1&&(p--,g*=2),(ie+=p+l>=1?d/g:d*Math.pow(2,1-l))*g>=2&&(p++,g/=2),p+l>=n?(u=0,p=n):p+l>=1?(u=(ie*g-1)*Math.pow(2,e),p+=l):(u=ie*Math.pow(2,l-1)*Math.pow(2,e),p=0));e>=8;O[S+D]=255&u,D+=Z,u/=256,e-=8);for(p=p<<e|u,E+=e;E>0;O[S+D]=255&p,D+=Z,p/=256,E-=8);O[S+D-Z]|=128*k}},6934:function(tt,we){var O={parseBuffer:function(t){return new ie(t).parse()},addBoxProcessor:function(t,e){typeof t=="string"&&typeof e=="function"&&(S.prototype._boxProcessors[t]=e)},createFile:function(){return new ie},createBox:function(t,e,y){var p=S.create(t);return e&&e.append(p,y),p},createFullBox:function(t,e,y){var p=O.createBox(t,e,y);return p.version=0,p.flags=0,p},Utils:{}};O.Utils.dataViewToString=function(t,e){var y=e||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(y).decode(t);var p=[],u=0;if(y==="utf-8")for(;u<t.byteLength;){var g=t.getUint8(u++);g<128||(g<224?(g=(31&g)<<6,g|=63&t.getUint8(u++)):g<240?(g=(15&g)<<12,g|=(63&t.getUint8(u++))<<6,g|=63&t.getUint8(u++)):(g=(7&g)<<18,g|=(63&t.getUint8(u++))<<12,g|=(63&t.getUint8(u++))<<6,g|=63&t.getUint8(u++))),p.push(String.fromCharCode(g))}else for(;u<t.byteLength;)p.push(String.fromCharCode(t.getUint8(u++)));return p.join("")},O.Utils.utf8ToByteArray=function(t){var e,y;if(typeof TextEncoder<"u")e=new TextEncoder().encode(t);else for(e=[],y=0;y<t.length;++y){var p=t.charCodeAt(y);p<128?e.push(p):p<2048?(e.push(192|p>>6),e.push(128|63&p)):p<65536?(e.push(224|p>>12),e.push(128|63&p>>6),e.push(128|63&p)):(e.push(240|p>>18),e.push(128|63&p>>12),e.push(128|63&p>>6),e.push(128|63&p))}return e},O.Utils.appendBox=function(t,e,y){if(e._offset=t._cursor.offset,e._root=t._root?t._root:t,e._raw=t._raw,e._parent=t,y!==-1)if(y!=null){var p,u=-1;if(typeof y=="number")u=y;else{if(typeof y=="string")p=y;else{if(typeof y!="object"||!y.type)return void t.boxes.push(e);p=y.type}for(var g=0;g<t.boxes.length;g++)if(p===t.boxes[g].type){u=g+1;break}}t.boxes.splice(u,0,e)}else t.boxes.push(e)},we.parseBuffer=O.parseBuffer,we.addBoxProcessor=O.addBoxProcessor,we.createFile=O.createFile,we.createBox=O.createBox,we.createFullBox=O.createFullBox,we.Utils=O.Utils,O.Cursor=function(t){this.offset=t===void 0?0:t};var ie=function(t){this._cursor=new O.Cursor,this.boxes=[],t&&(this._raw=new DataView(t))};ie.prototype.fetch=function(t){var e=this.fetchAll(t,!0);return e.length?e[0]:null},ie.prototype.fetchAll=function(t,e){var y=[];return ie._sweep.call(this,t,y,e),y},ie.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var t=S.parse(this);if(t.type===void 0)break;this.boxes.push(t)}return this},ie._sweep=function(t,e,y){for(var p in this.type&&this.type==t&&e.push(this),this.boxes){if(e.length&&y)return;ie._sweep.call(this.boxes[p],t,e,y)}},ie.prototype.write=function(){var t,e=0;for(t=0;t<this.boxes.length;t++)e+=this.boxes[t].getLength(!1);var y=new Uint8Array(e);for(this._rawo=new DataView(y.buffer),this.bytes=y,this._cursor.offset=0,t=0;t<this.boxes.length;t++)this.boxes[t].write();return y.buffer},ie.prototype.append=function(t,e){O.Utils.appendBox(this,t,e)};var S=function(){this._cursor=new O.Cursor};S.parse=function(t){var e=new S;return e._offset=t._cursor.offset,e._root=t._root?t._root:t,e._raw=t._raw,e._parent=t,e._parseBox(),t._cursor.offset=e._raw.byteOffset+e._raw.byteLength,e},S.create=function(t){var e=new S;return e.type=t,e.boxes=[],e},S.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],S.prototype._boxProcessors={},S.prototype._procField=function(t,e,y){this._parsing?this[t]=this._readField(e,y):this._writeField(e,y,this[t])},S.prototype._procFieldArray=function(t,e,y,p){var u;if(this._parsing)for(this[t]=[],u=0;u<e;u++)this[t][u]=this._readField(y,p);else for(u=0;u<this[t].length;u++)this._writeField(y,p,this[t][u])},S.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},S.prototype._procEntries=function(t,e,y){var p;if(this._parsing)for(this[t]=[],p=0;p<e;p++)this[t].push({}),y.call(this,this[t][p]);else for(p=0;p<e;p++)y.call(this,this[t][p])},S.prototype._procSubEntries=function(t,e,y,p){var u;if(this._parsing)for(t[e]=[],u=0;u<y;u++)t[e].push({}),p.call(this,t[e][u]);else for(u=0;u<y;u++)p.call(this,t[e][u])},S.prototype._procEntryField=function(t,e,y,p){this._parsing?t[e]=this._readField(y,p):this._writeField(y,p,t[e])},S.prototype._procSubBoxes=function(t,e){var y;if(this._parsing)for(this[t]=[],y=0;y<e;y++)this[t].push(S.parse(this));else for(y=0;y<e;y++)this._rawo?this[t][y].write():this.size+=this[t][y].getLength()},S.prototype._readField=function(t,e){switch(t){case"uint":return this._readUint(e);case"int":return this._readInt(e);case"template":return this._readTemplate(e);case"string":return e===-1?this._readTerminatedString():this._readString(e);case"data":return this._readData(e);case"utf8":return this._readUTF8String();default:return-1}},S.prototype._readInt=function(t){var e=null,y=this._cursor.offset-this._raw.byteOffset;switch(t){case 8:e=this._raw.getInt8(y);break;case 16:e=this._raw.getInt16(y);break;case 32:e=this._raw.getInt32(y);break;case 64:var p=this._raw.getInt32(y),u=this._raw.getInt32(y+4);e=p*Math.pow(2,32)+u}return this._cursor.offset+=t>>3,e},S.prototype._readUint=function(t){var e,y,p=null,u=this._cursor.offset-this._raw.byteOffset;switch(t){case 8:p=this._raw.getUint8(u);break;case 16:p=this._raw.getUint16(u);break;case 24:p=((e=this._raw.getUint16(u))<<8)+(y=this._raw.getUint8(u+2));break;case 32:p=this._raw.getUint32(u);break;case 64:e=this._raw.getUint32(u),y=this._raw.getUint32(u+4),p=e*Math.pow(2,32)+y}return this._cursor.offset+=t>>3,p},S.prototype._readString=function(t){for(var e="",y=0;y<t;y++){var p=this._readUint(8);e+=String.fromCharCode(p)}return e},S.prototype._readTemplate=function(t){return this._readUint(t/2)+this._readUint(t/2)/Math.pow(2,t/2)},S.prototype._readTerminatedString=function(){for(var t="";this._cursor.offset-this._offset<this._raw.byteLength;){var e=this._readUint(8);if(e===0)break;t+=String.fromCharCode(e)}return t},S.prototype._readData=function(t){var e=t>0?t:this._raw.byteLength-(this._cursor.offset-this._offset);if(e>0){var y=new Uint8Array(this._raw.buffer,this._cursor.offset,e);return this._cursor.offset+=e,y}return null},S.prototype._readUTF8String=function(){var t=this._raw.byteLength-(this._cursor.offset-this._offset),e=null;return t>0&&(e=new DataView(this._raw.buffer,this._cursor.offset,t),this._cursor.offset+=t),e&&O.Utils.dataViewToString(e)},S.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},S.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},S.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(S.parse(this))},S.prototype.append=function(t,e){O.Utils.appendBox(this,t,e)},S.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var t=0;t<this.boxes.length;t++)this.size+=this.boxes[t].getLength();return this._data&&this._writeData(this._data),this.size},S.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var t=0;t<this.boxes.length;t++)this.boxes[t].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},S.prototype._writeInt=function(t,e){if(this._rawo){var y=this._cursor.offset-this._rawo.byteOffset;switch(t){case 8:this._rawo.setInt8(y,e);break;case 16:this._rawo.setInt16(y,e);break;case 32:this._rawo.setInt32(y,e);break;case 64:var p=Math.floor(e/Math.pow(2,32)),u=e-p*Math.pow(2,32);this._rawo.setUint32(y,p),this._rawo.setUint32(y+4,u)}this._cursor.offset+=t>>3}else this.size+=t>>3},S.prototype._writeUint=function(t,e){if(this._rawo){var y,p,u=this._cursor.offset-this._rawo.byteOffset;switch(t){case 8:this._rawo.setUint8(u,e);break;case 16:this._rawo.setUint16(u,e);break;case 24:y=(16776960&e)>>8,p=255&e,this._rawo.setUint16(u,y),this._rawo.setUint8(u+2,p);break;case 32:this._rawo.setUint32(u,e);break;case 64:p=e-(y=Math.floor(e/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(u,y),this._rawo.setUint32(u+4,p)}this._cursor.offset+=t>>3}else this.size+=t>>3},S.prototype._writeString=function(t,e){for(var y=0;y<t;y++)this._writeUint(8,e.charCodeAt(y))},S.prototype._writeTerminatedString=function(t){if(t.length!==0){for(var e=0;e<t.length;e++)this._writeUint(8,t.charCodeAt(e));this._writeUint(8,0)}},S.prototype._writeTemplate=function(t,e){var y=Math.floor(e),p=(e-y)*Math.pow(2,t/2);this._writeUint(t/2,y),this._writeUint(t/2,p)},S.prototype._writeData=function(t){if(t)if(this._rawo){if(t instanceof Array){for(var e=this._cursor.offset-this._rawo.byteOffset,y=0;y<t.length;y++)this._rawo.setInt8(e+y,t[y]);this._cursor.offset+=t.length}t instanceof Uint8Array&&(this._root.bytes.set(t,this._cursor.offset),this._cursor.offset+=t.length)}else this.size+=t.length},S.prototype._writeUTF8String=function(t){var e=O.Utils.utf8ToByteArray(t);if(this._rawo)for(var y=new DataView(this._rawo.buffer,this._cursor.offset,e.length),p=0;p<e.length;p++)y.setUint8(p,e[p]);else this.size+=e.length},S.prototype._writeField=function(t,e,y){switch(t){case"uint":this._writeUint(e,y);break;case"int":this._writeInt(e,y);break;case"template":this._writeTemplate(e,y);break;case"string":e==-1?this._writeTerminatedString(y):this._writeString(e,y);break;case"data":this._writeData(y);break;case"utf8":this._writeUTF8String(y)}},S.prototype._boxProcessors.avc1=S.prototype._boxProcessors.avc2=S.prototype._boxProcessors.avc3=S.prototype._boxProcessors.avc4=S.prototype._boxProcessors.hvc1=S.prototype._boxProcessors.hev1=S.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},S.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(t){this._procEntryField(t,"sample_count","uint",32),this._procEntryField(t,"sample_offset",this.version===1?"int":"uint",32)})},S.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},S.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(t){this._procEntryField(t,"segment_duration","uint",this.version===1?64:32),this._procEntryField(t,"media_time","int",this.version===1?64:32),this._procEntryField(t,"media_rate_integer","int",16),this._procEntryField(t,"media_rate_fraction","int",16)})},S.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},S.prototype._boxProcessors.free=S.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},S.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},S.prototype._boxProcessors.ftyp=S.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var t=-1;this._parsing&&(t=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",t,"string",4)},S.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},S.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},S.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},S.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},S.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},S.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},S.prototype._boxProcessors.mp4a=S.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},S.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},S.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},S.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},S.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},S.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},S.prototype._boxProcessors.sdtp=function(){this._procFullBox();var t=-1;this._parsing&&(t=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",t,"uint",8)},S.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(t){this._parsing||(t.reference=(1&t.reference_type)<<31,t.reference|=2147483647&t.referenced_size,t.sap=(1&t.starts_with_SAP)<<31,t.sap|=(3&t.SAP_type)<<28,t.sap|=268435455&t.SAP_delta_time),this._procEntryField(t,"reference","uint",32),this._procEntryField(t,"subsegment_duration","uint",32),this._procEntryField(t,"sap","uint",32),this._parsing&&(t.reference_type=t.reference>>31&1,t.referenced_size=2147483647&t.reference,t.starts_with_SAP=t.sap>>31&1,t.SAP_type=t.sap>>28&7,t.SAP_delta_time=268435455&t.sap)})},S.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},S.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(t){this._procEntryField(t,"ranges_count","uint",32),this._procSubEntries(t,"ranges",t.ranges_count,function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)})})},S.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},S.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},S.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(t){this._procEntryField(t,"sample_count","uint",32),this._procEntryField(t,"sample_delta","uint",32)})},S.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(t){this._procEntryField(t,"sample_delta","uint",32),this._procEntryField(t,"subsample_count","uint",16),this._procSubEntries(t,"subsamples",t.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",this.version===1?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)})})},S.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},S.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},S.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},S.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(t){this._procEntryField(t,"time","uint",this.version===1?64:32),this._procEntryField(t,"moof_offset","uint",this.version===1?64:32),this._procEntryField(t,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(t,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(t,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},S.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},S.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},S.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(t){256&this.flags&&this._procEntryField(t,"sample_duration","uint",32),512&this.flags&&this._procEntryField(t,"sample_size","uint",32),1024&this.flags&&this._procEntryField(t,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(t,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},S.prototype._boxProcessors["url "]=S.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},S.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},S.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},S.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},S.prototype._boxProcessors.vtte=function(){}},5530:function(tt,we,O){tt.exports=O(6146).polyfill()},6146:function(tt,we,O){tt.exports=function(){function ie(qe){return typeof qe=="function"}var S=Array.isArray?Array.isArray:function(qe){return Object.prototype.toString.call(qe)==="[object Array]"},t=0,e=void 0,y=void 0,p=function(qe,$e){D[t]=qe,D[t+1]=$e,(t+=2)===2&&(y?y(Z):A())},u=typeof window<"u"?window:void 0,g=u||{},E=g.MutationObserver||g.WebKitMutationObserver,n=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",l=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function d(){var qe=setTimeout;return function(){return qe(Z,1)}}var D=new Array(1e3);function Z(){for(var qe=0;qe<t;qe+=2)(0,D[qe])(D[qe+1]),D[qe]=void 0,D[qe+1]=void 0;t=0}var k,F,ee,M,A=void 0;function U(qe,$e){var de=this,ge=new this.constructor(Ee);ge[$]===void 0&&Ge(ge);var Ve=de._state;if(Ve){var f=arguments[Ve-1];p(function(){return ct(Ve,ge,f,de._result)})}else Ue(de,ge,qe,$e);return ge}function J(qe){if(qe&&typeof qe=="object"&&qe.constructor===this)return qe;var $e=new this(Ee);return Ce($e,qe),$e}A=n?function(){return process.nextTick(Z)}:E?(F=0,ee=new E(Z),M=document.createTextNode(""),ee.observe(M,{characterData:!0}),function(){M.data=F=++F%2}):l?((k=new MessageChannel).port1.onmessage=Z,function(){return k.port2.postMessage(0)}):u===void 0?function(){try{var qe=Function("return this")().require("vertx");return(e=qe.runOnLoop||qe.runOnContext)!==void 0?function(){e(Z)}:d()}catch{return d()}}():d();var $=Math.random().toString(36).substring(2);function Ee(){}var Je=void 0;function oe(qe,$e,de){$e.constructor===qe.constructor&&de===U&&$e.constructor.resolve===J?function(ge,Ve){Ve._state===1?Le(ge,Ve._result):Ve._state===2?ve(ge,Ve._result):Ue(Ve,void 0,function(f){return Ce(ge,f)},function(f){return ve(ge,f)})}(qe,$e):de===void 0?Le(qe,$e):ie(de)?function(ge,Ve,f){p(function(i){var v=!1,T=function(W,V,he,Me){try{W.call(V,he,Me)}catch(Oe){return Oe}}(f,Ve,function(W){v||(v=!0,Ve!==W?Ce(i,W):Le(i,W))},function(W){v||(v=!0,ve(i,W))},i._label);!v&&T&&(v=!0,ve(i,T))},ge)}(qe,$e,de):Le(qe,$e)}function Ce(qe,$e){if(qe===$e)ve(qe,new TypeError("You cannot resolve a promise with itself"));else if(Ve=typeof(ge=$e),ge===null||Ve!=="object"&&Ve!=="function")Le(qe,$e);else{var de=void 0;try{de=$e.then}catch(f){return void ve(qe,f)}oe(qe,$e,de)}var ge,Ve}function He(qe){qe._onerror&&qe._onerror(qe._result),Be(qe)}function Le(qe,$e){qe._state===Je&&(qe._result=$e,qe._state=1,qe._subscribers.length!==0&&p(Be,qe))}function ve(qe,$e){qe._state===Je&&(qe._state=2,qe._result=$e,p(He,qe))}function Ue(qe,$e,de,ge){var Ve=qe._subscribers,f=Ve.length;qe._onerror=null,Ve[f]=$e,Ve[f+1]=de,Ve[f+2]=ge,f===0&&qe._state&&p(Be,qe)}function Be(qe){var $e=qe._subscribers,de=qe._state;if($e.length!==0){for(var ge=void 0,Ve=void 0,f=qe._result,i=0;i<$e.length;i+=3)ge=$e[i],Ve=$e[i+de],ge?ct(de,ge,Ve,f):Ve(f);qe._subscribers.length=0}}function ct(qe,$e,de,ge){var Ve=ie(de),f=void 0,i=void 0,v=!0;if(Ve){try{f=de(ge)}catch(T){v=!1,i=T}if($e===f)return void ve($e,new TypeError("A promises callback cannot return that same promise."))}else f=ge;$e._state!==Je||(Ve&&v?Ce($e,f):v===!1?ve($e,i):qe===1?Le($e,f):qe===2&&ve($e,f))}var _e=0;function Ge(qe){qe[$]=_e++,qe._state=void 0,qe._result=void 0,qe._subscribers=[]}var vt=function(){function qe($e,de){this._instanceConstructor=$e,this.promise=new $e(Ee),this.promise[$]||Ge(this.promise),S(de)?(this.length=de.length,this._remaining=de.length,this._result=new Array(this.length),this.length===0?Le(this.promise,this._result):(this.length=this.length||0,this._enumerate(de),this._remaining===0&&Le(this.promise,this._result))):ve(this.promise,new Error("Array Methods must be provided an Array"))}return qe.prototype._enumerate=function($e){for(var de=0;this._state===Je&&de<$e.length;de++)this._eachEntry($e[de],de)},qe.prototype._eachEntry=function($e,de){var ge=this._instanceConstructor,Ve=ge.resolve;if(Ve===J){var f=void 0,i=void 0,v=!1;try{f=$e.then}catch(W){v=!0,i=W}if(f===U&&$e._state!==Je)this._settledAt($e._state,de,$e._result);else if(typeof f!="function")this._remaining--,this._result[de]=$e;else if(ge===ft){var T=new ge(Ee);v?ve(T,i):oe(T,$e,f),this._willSettleAt(T,de)}else this._willSettleAt(new ge(function(W){return W($e)}),de)}else this._willSettleAt(Ve($e),de)},qe.prototype._settledAt=function($e,de,ge){var Ve=this.promise;Ve._state===Je&&(this._remaining--,$e===2?ve(Ve,ge):this._result[de]=ge),this._remaining===0&&Le(Ve,this._result)},qe.prototype._willSettleAt=function($e,de){var ge=this;Ue($e,void 0,function(Ve){return ge._settledAt(1,de,Ve)},function(Ve){return ge._settledAt(2,de,Ve)})},qe}(),ft=function(){function qe($e){this[$]=_e++,this._result=this._state=void 0,this._subscribers=[],Ee!==$e&&(typeof $e!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof qe?function(de,ge){try{ge(function(Ve){Ce(de,Ve)},function(Ve){ve(de,Ve)})}catch(Ve){ve(de,Ve)}}(this,$e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return qe.prototype.catch=function($e){return this.then(null,$e)},qe.prototype.finally=function($e){var de=this,ge=de.constructor;return ie($e)?de.then(function(Ve){return ge.resolve($e()).then(function(){return Ve})},function(Ve){return ge.resolve($e()).then(function(){throw Ve})}):de.then($e,$e)},qe}();return ft.prototype.then=U,ft.all=function(qe){return new vt(this,qe).promise},ft.race=function(qe){var $e=this;return S(qe)?new $e(function(de,ge){for(var Ve=qe.length,f=0;f<Ve;f++)$e.resolve(qe[f]).then(de,ge)}):new $e(function(de,ge){return ge(new TypeError("You must pass an array to race."))})},ft.resolve=J,ft.reject=function(qe){var $e=new this(Ee);return ve($e,qe),$e},ft._setScheduler=function(qe){y=qe},ft._setAsap=function(qe){p=qe},ft._asap=p,ft.polyfill=function(){var qe=void 0;if(O.g!==void 0)qe=O.g;else if(typeof self<"u")qe=self;else try{qe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var $e=qe.Promise;if($e){var de=null;try{de=Object.prototype.toString.call($e.resolve())}catch{}if(de==="[object Promise]"&&!$e.cast)return}qe.Promise=ft},ft.Promise=ft,ft}()},1159:function(tt){var we,O=typeof Reflect=="object"?Reflect:null,ie=O&&typeof O.apply=="function"?O.apply:function(Z,k,F){return Function.prototype.apply.call(Z,k,F)};we=O&&typeof O.ownKeys=="function"?O.ownKeys:Object.getOwnPropertySymbols?function(Z){return Object.getOwnPropertyNames(Z).concat(Object.getOwnPropertySymbols(Z))}:function(Z){return Object.getOwnPropertyNames(Z)};var S=Number.isNaN||function(Z){return Z!=Z};function t(){t.init.call(this)}tt.exports=t,tt.exports.once=function(Z,k){return new Promise(function(F,ee){function M(U){Z.removeListener(k,A),ee(U)}function A(){typeof Z.removeListener=="function"&&Z.removeListener("error",M),F([].slice.call(arguments))}D(Z,k,A,{once:!0}),k!=="error"&&function(U,J,$){typeof U.on=="function"&&D(U,"error",J,{once:!0})}(Z,M)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var e=10;function y(Z){if(typeof Z!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Z)}function p(Z){return Z._maxListeners===void 0?t.defaultMaxListeners:Z._maxListeners}function u(Z,k,F,ee){var M,A,U,J;if(y(F),(A=Z._events)===void 0?(A=Z._events=Object.create(null),Z._eventsCount=0):(A.newListener!==void 0&&(Z.emit("newListener",k,F.listener?F.listener:F),A=Z._events),U=A[k]),U===void 0)U=A[k]=F,++Z._eventsCount;else if(typeof U=="function"?U=A[k]=ee?[F,U]:[U,F]:ee?U.unshift(F):U.push(F),(M=p(Z))>0&&U.length>M&&!U.warned){U.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=Z,$.type=k,$.count=U.length,J=$,console&&console.warn&&console.warn(J)}return Z}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(Z,k,F){var ee={fired:!1,wrapFn:void 0,target:Z,type:k,listener:F},M=g.bind(ee);return M.listener=F,ee.wrapFn=M,M}function n(Z,k,F){var ee=Z._events;if(ee===void 0)return[];var M=ee[k];return M===void 0?[]:typeof M=="function"?F?[M.listener||M]:[M]:F?function(A){for(var U=new Array(A.length),J=0;J<U.length;++J)U[J]=A[J].listener||A[J];return U}(M):d(M,M.length)}function l(Z){var k=this._events;if(k!==void 0){var F=k[Z];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}function d(Z,k){for(var F=new Array(k),ee=0;ee<k;++ee)F[ee]=Z[ee];return F}function D(Z,k,F,ee){if(typeof Z.on=="function")ee.once?Z.once(k,F):Z.on(k,F);else{if(typeof Z.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Z);Z.addEventListener(k,function M(A){ee.once&&Z.removeEventListener(k,M),F(A)})}}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return e},set:function(Z){if(typeof Z!="number"||Z<0||S(Z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Z+".");e=Z}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(Z){if(typeof Z!="number"||Z<0||S(Z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Z+".");return this._maxListeners=Z,this},t.prototype.getMaxListeners=function(){return p(this)},t.prototype.emit=function(Z){for(var k=[],F=1;F<arguments.length;F++)k.push(arguments[F]);var ee=Z==="error",M=this._events;if(M!==void 0)ee=ee&&M.error===void 0;else if(!ee)return!1;if(ee){var A;if(k.length>0&&(A=k[0]),A instanceof Error)throw A;var U=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw U.context=A,U}var J=M[Z];if(J===void 0)return!1;if(typeof J=="function")ie(J,this,k);else{var $=J.length,Ee=d(J,$);for(F=0;F<$;++F)ie(Ee[F],this,k)}return!0},t.prototype.addListener=function(Z,k){return u(this,Z,k,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(Z,k){return u(this,Z,k,!0)},t.prototype.once=function(Z,k){return y(k),this.on(Z,E(this,Z,k)),this},t.prototype.prependOnceListener=function(Z,k){return y(k),this.prependListener(Z,E(this,Z,k)),this},t.prototype.removeListener=function(Z,k){var F,ee,M,A,U;if(y(k),(ee=this._events)===void 0)return this;if((F=ee[Z])===void 0)return this;if(F===k||F.listener===k)--this._eventsCount==0?this._events=Object.create(null):(delete ee[Z],ee.removeListener&&this.emit("removeListener",Z,F.listener||k));else if(typeof F!="function"){for(M=-1,A=F.length-1;A>=0;A--)if(F[A]===k||F[A].listener===k){U=F[A].listener,M=A;break}if(M<0)return this;M===0?F.shift():function(J,$){for(;$+1<J.length;$++)J[$]=J[$+1];J.pop()}(F,M),F.length===1&&(ee[Z]=F[0]),ee.removeListener!==void 0&&this.emit("removeListener",Z,U||k)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(Z){var k,F,ee;if((F=this._events)===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[Z]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete F[Z]),this;if(arguments.length===0){var M,A=Object.keys(F);for(ee=0;ee<A.length;++ee)(M=A[ee])!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(k=F[Z])=="function")this.removeListener(Z,k);else if(k!==void 0)for(ee=k.length-1;ee>=0;ee--)this.removeListener(Z,k[ee]);return this},t.prototype.listeners=function(Z){return n(this,Z,!0)},t.prototype.rawListeners=function(Z){return n(this,Z,!1)},t.listenerCount=function(Z,k){return typeof Z.listenerCount=="function"?Z.listenerCount(k):l.call(Z,k)},t.prototype.listenerCount=l,t.prototype.eventNames=function(){return this._eventsCount>0?we(this._events):[]}},3101:function(tt){var we=Array.isArray,O=Object.keys,ie=Object.prototype.hasOwnProperty;tt.exports=function S(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var y,p,u,g=we(t),E=we(e);if(g&&E){if((p=t.length)!=e.length)return!1;for(y=p;y--!=0;)if(!S(t[y],e[y]))return!1;return!0}if(g!=E)return!1;var n=t instanceof Date,l=e instanceof Date;if(n!=l)return!1;if(n&&l)return t.getTime()==e.getTime();var d=t instanceof RegExp,D=e instanceof RegExp;if(d!=D)return!1;if(d&&D)return t.toString()==e.toString();var Z=O(t);if((p=Z.length)!==O(e).length)return!1;for(y=p;y--!=0;)if(!ie.call(e,Z[y]))return!1;for(y=p;y--!=0;)if(!S(t[u=Z[y]],e[u]))return!1;return!0}return t!=t&&e!=e}},3362:function(tt,we,O){(function(ie,S,t,e,y){function p(i){if("contents"in i)for(var v=("styleAttrs"in i)?i.styleAttrs[e.byName.ruby.qname]:null,T=i.kind==="span"&&(v==="container"||v==="textContainer"||v==="baseContainer"),W=i.contents.length-1;W>=0;W--)!T||"styleAttrs"in i.contents[W]&&e.byName.ruby.qname in i.contents[W].styleAttrs?p(i.contents[W]):delete i.contents[W]}function u(i,v,T,W){var V=W&&W.timeContainer==="seq",he=0;W&&(he=V&&T?T.end:W.begin),v.begin=v.explicit_begin?v.explicit_begin+he:he;var Me=v.begin,Oe=null;if("sets"in v)for(var Se=0;Se<v.sets.length;Se++)u(i,v.sets[Se],Oe,v),Me=v.timeContainer==="seq"?v.sets[Se].end:Math.max(Me,v.sets[Se].end),Oe=v.sets[Se];if("contents"in v){if("contents"in v)for(var Ne=0;Ne<v.contents.length;Ne++)u(i,v.contents[Ne],Oe,v),Me=v.timeContainer==="seq"?v.contents[Ne].end:Math.max(Me,v.contents[Ne].end),Oe=v.contents[Ne]}else Me=V?v.begin:Number.POSITIVE_INFINITY;v.explicit_end!==null&&v.explicit_dur!==null?v.end=Math.min(v.begin+v.explicit_dur,he+v.explicit_end):v.explicit_end===null&&v.explicit_dur!==null?v.end=v.begin+v.explicit_dur:v.explicit_end!==null&&v.explicit_dur===null?v.end=he+v.explicit_end:v.end=Me,delete v.explicit_begin,delete v.explicit_dur,delete v.explicit_end,i._registerEvent(v)}function g(i){this.node=i}function E(){this.events=[],this.head=new n,this.body=null}function n(){this.styling=new l,this.layout=new Z}function l(){this.styles={},this.initials={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function D(){this.styleAttrs=null}function Z(){this.regions={}}function k(i,v){F.call(this,"image"),this.src=i,this.type=v}function F(i){this.kind=i}function ee(i){this.id=i}function M(i){this.regionID=i}function A(i){this.styleAttrs=i}function U(i){this.sets=i}function J(i){this.contents=i}function $(i,v,T){this.explicit_begin=i,this.explicit_end=v,this.explicit_dur=T}function Ee(){F.call(this,"body")}function Je(){F.call(this,"div")}function oe(){F.call(this,"p")}function Ce(){F.call(this,"span")}function He(){F.call(this,"span")}function Le(){F.call(this,"br")}function ve(){}function Ue(){}function Be(i){return i&&"xml:id"in i.attributes&&i.attributes["xml:id"].value||null}function ct(i){return i&&"style"in i.attributes?i.attributes.style.value.split(" "):[]}function _e(i,v){var T={};if(i!==null)for(var W in i.attributes){var V=i.attributes[W].uri+" "+i.attributes[W].local,he=e.byQName[V];if(he!==void 0){var Me=he.parse(i.attributes[W].value);Me!==null?(T[V]=Me,he===e.byName.zIndex&&de(v,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):ge(v,"Cannot parse styling attribute "+V+" --> "+i.attributes[W].value)}}return T}function Ge(i,v,T){for(var W in i.attributes)if(i.attributes[W].uri===v&&i.attributes[W].local===T)return i.attributes[W].value;return null}function vt(i,v,T){var W,V=null;return(W=/^(\d+(?:\.\d+)?)f$/.exec(T))!==null?v!==null&&(V=parseFloat(W[1])/v):(W=/^(\d+(?:\.\d+)?)t$/.exec(T))!==null?i!==null&&(V=parseFloat(W[1])/i):(W=/^(\d+(?:\.\d+)?)ms$/.exec(T))!==null?V=parseFloat(W[1])/1e3:(W=/^(\d+(?:\.\d+)?)s$/.exec(T))!==null?V=parseFloat(W[1]):(W=/^(\d+(?:\.\d+)?)h$/.exec(T))!==null?V=3600*parseFloat(W[1]):(W=/^(\d+(?:\.\d+)?)m$/.exec(T))!==null?V=60*parseFloat(W[1]):(W=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(T))!==null?V=3600*parseInt(W[1])+60*parseInt(W[2])+parseFloat(W[3]):(W=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(T))!==null&&v!==null&&(V=3600*parseInt(W[1])+60*parseInt(W[2])+parseInt(W[3])+(W[4]===null?0:parseInt(W[4])/v)),V}function ft(i,v,T){for(;v.styleRefs.length>0;){var W=v.styleRefs.pop();W in i.styles?(ft(i,i.styles[W],T),$e(i.styles[W].styleAttrs,v.styleAttrs)):ge(T,"Non-existant style id referenced")}}function qe(i,v,T,W){for(var V=v.length-1;V>=0;V--){var he=v[V];he in i.styles?$e(i.styles[he].styleAttrs,T):ge(W,"Non-existant style id referenced")}}function $e(i,v){for(var T in i)i.hasOwnProperty(T)&&(T in v||(v[T]=i[T]))}function de(i,v){if(i&&i.warn&&i.warn(v))throw v}function ge(i,v){if(i&&i.error&&i.error(v))throw v}function Ve(i,v){throw i&&i.fatal&&i.fatal(v),v}function f(i,v){for(var T,W=0,V=i.length-1;W<=V;){var he=i[T=Math.floor((W+V)/2)];if(he<v)W=T+1;else{if(!(he>v))return{found:!0,index:T};V=T-1}}return{found:!1,index:W}}ie.fromXML=function(i,v,T){var W=S.parser(!0,{xmlns:!0}),V=[],he=[],Me=[],Oe=0,Se=null;W.onclosetag=function(et){if(V[0]instanceof ve)Se.head!==null&&Se.head.styling!==null&&qe(Se.head.styling,V[0].styleRefs,V[0].styleAttrs,v),delete V[0].styleRefs;else if(V[0]instanceof l)for(var Dt in V[0].styles)V[0].styles.hasOwnProperty(Dt)&&ft(V[0],V[0].styles[Dt],v);else if(V[0]instanceof oe||V[0]instanceof Ce){if(V[0].contents.length>1){var Mt,Ut=[V[0].contents[0]];for(Mt=1;Mt<V[0].contents.length;Mt++)V[0].contents[Mt]instanceof He&&Ut[Ut.length-1]instanceof He?Ut[Ut.length-1].text+=V[0].contents[Mt].text:Ut.push(V[0].contents[Mt]);V[0].contents=Ut}V[0]instanceof Ce&&V[0].contents.length===1&&V[0].contents[0]instanceof He&&(V[0].text=V[0].contents[0].text,delete V[0].contents)}else V[0]instanceof g&&(V[0].node.uri===t.ns_tt&&V[0].node.local==="metadata"?Oe--:Oe>0&&T&&"onCloseTag"in T&&T.onCloseTag());Me.shift(),he.shift(),V.shift()},W.ontext=function(et){if(V[0]!==void 0)if(V[0]instanceof Ce||V[0]instanceof oe){if(V[0]instanceof Ce){var Dt=V[0].styleAttrs[e.byName.ruby.qname];if(Dt==="container"||Dt==="textContainer"||Dt==="baseContainer")return}var Mt=new He;Mt.initFromText(Se,V[0],et,he[0],Me[0],v),V[0].contents.push(Mt)}else V[0]instanceof g&&Oe>0&&T&&"onText"in T&&T.onText(et)},W.onopentag=function(et){var Dt=et.attributes["xml:space"];Dt?Me.unshift(Dt.value):Me.length===0?Me.unshift("default"):Me.unshift(Me[0]);var Mt=et.attributes["xml:lang"];if(Mt?he.unshift(Mt.value):he.length===0?he.unshift(""):he.unshift(he[0]),et.uri===t.ns_tt)if(et.local==="tt")Se!==null&&Ve(v,"Two <tt> elements at ("+this.line+","+this.column+")"),(Se=new E).initFromNode(et,he[0],v),V.unshift(Se);else if(et.local==="head")V[0]instanceof E||Ve(v,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),V.unshift(Se.head);else if(et.local==="styling")V[0]instanceof n||Ve(v,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),V.unshift(Se.head.styling);else if(et.local==="style"){var Ut;V[0]instanceof l?((Ut=new d).initFromNode(et,v),Ut.id?Se.head.styling.styles[Ut.id]=Ut:ge(v,"<style> element missing @id attribute"),V.unshift(Ut)):V[0]instanceof ve?((Ut=new d).initFromNode(et,v),$e(Ut.styleAttrs,V[0].styleAttrs),V.unshift(Ut)):Ve(v,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(et.local==="initial"){var ln;if(V[0]instanceof l){for(var mn in(ln=new D).initFromNode(et,v),ln.styleAttrs)ln.styleAttrs.hasOwnProperty(mn)&&(Se.head.styling.initials[mn]=ln.styleAttrs[mn]);V.unshift(ln)}else Ve(v,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(et.local==="layout")V[0]instanceof n||Ve(v,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),V.unshift(Se.head.layout);else if(et.local==="region"){V[0]instanceof Z||Ve(v,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var _n=new ve;_n.initFromNode(Se,et,he[0],v),!_n.id||_n.id in Se.head.layout.regions?ge(v,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):Se.head.layout.regions[_n.id]=_n,V.unshift(_n)}else if(et.local==="body"){V[0]instanceof E||Ve(v,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),Se.body!==null&&Ve(v,"Second <body> element at "+this.line+","+this.column+")");var Bn=new Ee;Bn.initFromNode(Se,et,he[0],v),Se.body=Bn,V.unshift(Bn)}else if(et.local==="div"){V[0]instanceof Je||V[0]instanceof Ee||Ve(v,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var vn=new Je;vn.initFromNode(Se,V[0],et,he[0],v);var An=vn.styleAttrs[e.byName.backgroundImage.qname];An&&(vn.contents.push(new k(An)),delete vn.styleAttrs[e.byName.backgroundImage.qname]),V[0].contents.push(vn),V.unshift(vn)}else if(et.local==="image"){V[0]instanceof Je||Ve(v,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Gn=new k;Gn.initFromNode(Se,V[0],et,he[0],v),V[0].contents.push(Gn),V.unshift(Gn)}else if(et.local==="p"){V[0]instanceof Je||Ve(v,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var pn=new oe;pn.initFromNode(Se,V[0],et,he[0],v),V[0].contents.push(pn),V.unshift(pn)}else if(et.local==="span"){V[0]instanceof Ce||V[0]instanceof oe||Ve(v,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var Jn=new Ce;Jn.initFromNode(Se,V[0],et,he[0],Me[0],v),V[0].contents.push(Jn),V.unshift(Jn)}else if(et.local==="br"){V[0]instanceof Ce||V[0]instanceof oe||Ve(v,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var Fn=new Le;Fn.initFromNode(Se,V[0],et,he[0],v),V[0].contents.push(Fn),V.unshift(Fn)}else if(et.local==="set"){V[0]instanceof Ce||V[0]instanceof oe||V[0]instanceof Je||V[0]instanceof Ee||V[0]instanceof ve||V[0]instanceof Le||Ve(v,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var jn=new Ue;jn.initFromNode(Se,V[0],et,v),V[0].sets.push(jn),V.unshift(jn)}else V.unshift(new g(et));else V.unshift(new g(et));if(V[0]instanceof g){if(et.uri===t.ns_tt&&et.local==="metadata")Oe++;else if(Oe>0&&T&&"onOpenTag"in T){var $n=[];for(var Hn in et.attributes)$n[et.attributes[Hn].uri+" "+et.attributes[Hn].local]={uri:et.attributes[Hn].uri,local:et.attributes[Hn].local,value:et.attributes[Hn].value};T.onOpenTag(et.uri,et.local,$n)}}},W.write(i).close(),delete Se.head.styling.styles;var Ne=!1;for(var Ke in Se.head.layout.regions)if(Se.head.layout.regions.hasOwnProperty(Ke)){Ne=!0;break}if(!Ne){var We=ve.prototype.createDefaultRegion(Se.lang);Se.head.layout.regions[We.id]=We}for(var At in Se.head.layout.regions)Se.head.layout.regions.hasOwnProperty(At)&&u(Se,Se.head.layout.regions[At],null,null);return Se.body&&u(Se,Se.body,null,null),Se.body&&p(Se.body),Se},E.prototype.initFromNode=function(i,v,T){var W=function(Oe,Se){var Ne=Ge(Oe,t.ns_ttp,"cellResolution"),Ke=15,We=32;if(Ne!==null){var At=/(\d+) (\d+)/.exec(Ne);At!==null?(We=parseInt(At[1]),Ke=parseInt(At[2])):de(Se,"Malformed cellResolution value (using initial value instead)")}return{w:We,h:Ke}}(i,T);this.cellLength={h:new y.ComputedLength(0,1/W.h),w:new y.ComputedLength(1/W.w,0)};var V=function(Oe,Se){var Ne,Ke=Ge(Oe,t.ns_ttp,"frameRate"),We=30;Ke!==null&&((Ne=/(\d+)/.exec(Ke))!==null?We=parseInt(Ne[1]):de(Se,"Malformed frame rate attribute (using initial value instead)"));var At=Ge(Oe,t.ns_ttp,"frameRateMultiplier"),et=1;At!==null&&((Ne=/(\d+) (\d+)/.exec(At))!==null?et=parseInt(Ne[1])/parseInt(Ne[2]):de(Se,"Malformed frame rate multiplier attribute (using initial value instead)"));var Dt=et*We,Mt=1,Ut=Ge(Oe,t.ns_ttp,"tickRate");return Ut===null?Ke!==null&&(Mt=Dt):(Ne=/(\d+)/.exec(Ut))!==null?Mt=parseInt(Ne[1]):de(Se,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Dt,tickRate:Mt}}(i,T);this.effectiveFrameRate=V.effectiveFrameRate,this.tickRate=V.tickRate,this.aspectRatio=function(Oe,Se){var Ne=Ge(Oe,t.ns_ittp,"aspectRatio");Ne===null&&(Ne=Ge(Oe,t.ns_ttp,"displayAspectRatio"));var Ke=null;if(Ne!==null){var We=/(\d+)\s+(\d+)/.exec(Ne);if(We!==null){var At=parseInt(We[1]),et=parseInt(We[2]);At!==0&&et!==0?Ke=At/et:ge(Se,"Illegal aspectRatio values (ignoring)")}else ge(Se,"Malformed aspectRatio attribute (ignoring)")}return Ke}(i,T);var he=Ge(i,t.ns_ttp,"timeBase");he!==null&&he!=="media"&&Ve(T,"Unsupported time base");var Me=function(Oe,Se){var Ne=Ge(Oe,t.ns_tts,"extent");if(Ne===null)return null;var Ke=Ne.split(" ");if(Ke.length!==2)return de(Se,"Malformed extent (ignoring)"),null;var We=y.parseLength(Ke[0]),At=y.parseLength(Ke[1]);return At&&We?{h:At,w:We}:(de(Se,"Malformed extent values (ignoring)"),null)}(i,T);Me===null?this.pxLength={h:null,w:null}:(Me.h.unit==="px"&&Me.w.unit==="px"||Ve(T,"Extent on TT must be in px or absent"),this.pxLength={h:new y.ComputedLength(0,1/Me.h.value),w:new y.ComputedLength(1/Me.w.value,0)}),this.dimensions={h:new y.ComputedLength(0,1),w:new y.ComputedLength(1,0)},this.lang=v},E.prototype._registerEvent=function(i){if(!(i.end<=i.begin)){var v=f(this.events,i.begin);if(v.found||this.events.splice(v.index,0,i.begin),i.end!==Number.POSITIVE_INFINITY){var T=f(this.events,i.end);T.found||this.events.splice(T.index,0,i.end)}}},E.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},E.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(i,v){this.id=Be(i),this.styleAttrs=_e(i,v),this.styleRefs=ct(i)},D.prototype.initFromNode=function(i,v){for(var T in this.styleAttrs={},i.attributes)if(i.attributes[T].uri===t.ns_itts||i.attributes[T].uri===t.ns_ebutts||i.attributes[T].uri===t.ns_tts){var W=i.attributes[T].uri+" "+i.attributes[T].local;this.styleAttrs[W]=i.attributes[T].value}},k.prototype.initFromNode=function(i,v,T,W,V){this.src="src"in T.attributes?T.attributes.src.value:null,this.src||ge(V,"Invalid image@src attribute"),this.type="type"in T.attributes?T.attributes.type.value:null,this.type||ge(V,"Invalid image@type attribute"),A.prototype.initFromNode.call(this,i,v,T,V),$.prototype.initFromNode.call(this,i,v,T,V),U.prototype.initFromNode.call(this,i,v,T,V),M.prototype.initFromNode.call(this,i,v,T,V),this.lang=W},ee.prototype.initFromNode=function(i,v,T,W){this.id=Be(T)},M.prototype.initFromNode=function(i,v,T,W){this.regionID=function(V){return V&&"region"in V.attributes?V.attributes.region.value:""}(T)},A.prototype.initFromNode=function(i,v,T,W){this.styleAttrs=_e(T,W),i.head!==null&&i.head.styling!==null&&qe(i.head.styling,ct(T),this.styleAttrs,W)},U.prototype.initFromNode=function(i,v,T,W){this.sets=[]},J.prototype.initFromNode=function(i,v,T,W){this.contents=[]},$.prototype.initFromNode=function(i,v,T,W){var V=function(he,Me,Oe,Se){var Ne=null;Oe&&"begin"in Oe.attributes&&(Ne=vt(he.tickRate,he.effectiveFrameRate,Oe.attributes.begin.value))===null&&de(Se,"Malformed begin value "+Oe.attributes.begin.value+" (using 0)");var Ke=null;Oe&&"dur"in Oe.attributes&&(Ke=vt(he.tickRate,he.effectiveFrameRate,Oe.attributes.dur.value))===null&&de(Se,"Malformed dur value "+Oe.attributes.dur.value+" (ignoring)");var We=null;return Oe&&"end"in Oe.attributes&&(We=vt(he.tickRate,he.effectiveFrameRate,Oe.attributes.end.value))===null&&de(Se,"Malformed end value (ignoring)"),{explicit_begin:Ne,explicit_end:We,explicit_dur:Ke}}(i,0,T,W);this.explicit_begin=V.explicit_begin,this.explicit_end=V.explicit_end,this.explicit_dur=V.explicit_dur,this.timeContainer=function(he,Me){var Oe=he&&"timeContainer"in he.attributes?he.attributes.timeContainer.value:null;return Oe&&Oe!=="par"?Oe==="seq"?"seq":(ge(Me,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(T,W)},Ee.prototype.initFromNode=function(i,v,T,W){A.prototype.initFromNode.call(this,i,null,v,W),$.prototype.initFromNode.call(this,i,null,v,W),U.prototype.initFromNode.call(this,i,null,v,W),M.prototype.initFromNode.call(this,i,null,v,W),J.prototype.initFromNode.call(this,i,null,v,W),this.lang=T},Je.prototype.initFromNode=function(i,v,T,W,V){A.prototype.initFromNode.call(this,i,v,T,V),$.prototype.initFromNode.call(this,i,v,T,V),U.prototype.initFromNode.call(this,i,v,T,V),M.prototype.initFromNode.call(this,i,v,T,V),J.prototype.initFromNode.call(this,i,v,T,V),this.lang=W},oe.prototype.initFromNode=function(i,v,T,W,V){A.prototype.initFromNode.call(this,i,v,T,V),$.prototype.initFromNode.call(this,i,v,T,V),U.prototype.initFromNode.call(this,i,v,T,V),M.prototype.initFromNode.call(this,i,v,T,V),J.prototype.initFromNode.call(this,i,v,T,V),this.lang=W},Ce.prototype.initFromNode=function(i,v,T,W,V,he){A.prototype.initFromNode.call(this,i,v,T,he),$.prototype.initFromNode.call(this,i,v,T,he),U.prototype.initFromNode.call(this,i,v,T,he),M.prototype.initFromNode.call(this,i,v,T,he),J.prototype.initFromNode.call(this,i,v,T,he),this.space=V,this.lang=W},He.prototype.initFromText=function(i,v,T,W,V,he){$.prototype.initFromNode.call(this,i,v,null,he),this.text=T,this.space=V,this.lang=W},Le.prototype.initFromNode=function(i,v,T,W,V){M.prototype.initFromNode.call(this,i,v,T,V),$.prototype.initFromNode.call(this,i,v,T,V),this.lang=W},ve.prototype.createDefaultRegion=function(i){var v=new ve;return ee.call(v,""),A.call(v,{}),U.call(v,[]),$.call(v,0,Number.POSITIVE_INFINITY,null),this.lang=i,v},ve.prototype.initFromNode=function(i,v,T,W){ee.prototype.initFromNode.call(this,i,null,v,W),$.prototype.initFromNode.call(this,i,null,v,W),U.prototype.initFromNode.call(this,i,null,v,W),this.styleAttrs=_e(v,W),this.styleRefs=ct(v),this.lang=T},Ue.prototype.initFromNode=function(i,v,T,W){$.prototype.initFromNode.call(this,i,v,T,W);var V=_e(T,W);for(var he in this.qname=null,this.value=null,V)if(V.hasOwnProperty(he)){if(this.qname){ge(W,"More than one style specified on set");break}this.qname=he,this.value=V[he]}}})(we,typeof sax>"u"?O(5378):sax,typeof imscNames>"u"?O(210):imscNames,typeof imscStyles>"u"?O(6811):imscStyles,typeof imscUtils>"u"?O(5926):imscUtils)},506:function(tt,we,O){(function(ie,S,t){function e(A,U,J,$){var Ee;if(J.kind==="region")(Ee=document.createElement("div")).style.position="absolute";else if(J.kind==="body")Ee=document.createElement("div");else if(J.kind==="div")Ee=document.createElement("div");else if(J.kind==="image"){if(Ee=document.createElement("img"),A.imgResolver!==null&&J.src!==null){var Je=A.imgResolver(J.src,Ee);Je&&(Ee.src=Je),Ee.height=A.regionH,Ee.width=A.regionW}}else if(J.kind==="p")Ee=document.createElement("p");else if(J.kind==="span")if(J.styleAttrs[t.byName.ruby.qname]==="container")Ee=document.createElement("ruby"),A.ruby=!0;else if(J.styleAttrs[t.byName.ruby.qname]==="base")Ee=document.createElement("rb");else if(J.styleAttrs[t.byName.ruby.qname]==="text")Ee=document.createElement("rt");else if(J.styleAttrs[t.byName.ruby.qname]==="baseContainer")Ee=document.createElement("rbc");else if(J.styleAttrs[t.byName.ruby.qname]==="textContainer")Ee=document.createElement("rtc");else{if(J.styleAttrs[t.byName.ruby.qname]==="delimiter")return;Ee=document.createElement("span")}else J.kind==="br"&&(Ee=document.createElement("br"));if(Ee){if(J.lang&&(J.kind!=="region"&&J.lang===$.lang||(Ee.lang=J.lang)),U.appendChild(Ee),Ee.style.margin="0",J.kind==="region"){var oe=J.styleAttrs[t.byName.writingMode.qname];oe==="lrtb"||oe==="lr"?(A.ipd="lr",A.bpd="tb"):oe==="rltb"||oe==="rl"?(A.ipd="rl",A.bpd="tb"):oe==="tblr"?(A.ipd="tb",A.bpd="lr"):oe!=="tbrl"&&oe!=="tb"||(A.ipd="tb",A.bpd="rl")}else if(J.kind==="p"&&A.bpd==="tb"){var Ce=J.styleAttrs[t.byName.direction.qname];A.ipd=Ce==="ltr"?"lr":"rl"}for(var He=0;He<d.length;He++){var Le=d[He],ve=J.styleAttrs[Le.qname];ve!==void 0&&Le.map!==null&&Le.map(A,Ee,J,ve)}var Ue=Ee,Be=J.styleAttrs[t.byName.linePadding.qname];if(Be&&!Be.isZero()){var ct=Be.toUsedLength(A.w,A.h);if(ct>0){var _e=Math.ceil(ct)+"px";A.bpd==="tb"?(Ue.style.paddingLeft=_e,Ue.style.paddingRight=_e):(Ue.style.paddingTop=_e,Ue.style.paddingBottom=_e),A.lp=Be}}var Ge=J.styleAttrs[t.byName.multiRowAlign.qname];if(Ge&&Ge!=="auto"){var vt=document.createElement("span");vt.style.display="inline-block",vt.style.textAlign=Ge,Ee.appendChild(vt),Ue=vt,A.mra=Ge}var ft=J.styleAttrs[t.byName.rubyReserve.qname];if(ft&&ft[0]!=="none"&&(A.rubyReserve=ft),J.styleAttrs[t.byName.fillLineGap.qname]&&(A.flg=!0),J.kind==="span"&&J.text){var qe=J.styleAttrs[t.byName.textEmphasis.qname];if(qe&&qe.style!=="none"&&(A.textEmphasis=!0),t.byName.textCombine.qname in J.styleAttrs&&J.styleAttrs[t.byName.textCombine.qname]==="all")Ee.textContent=J.text,qe&&n(A,Ee,0,qe);else for(var $e="",de=0;de<J.text.length;de++){$e+=J.text.charAt(de);var ge=J.text.charCodeAt(de);if(ge<55296||ge>56319||de===J.text.length-1){var Ve=document.createElement("span");Ve.textContent=$e,qe&&n(A,Ve,0,qe),Ee.appendChild(Ve),$e="",Ve._isd_element=J}}}if("contents"in J)for(var f=0;f<J.contents.length;f++)e(A,Ue,J.contents[f],J);var i=[];if(J.kind==="p"&&(E(A,Ue,i,null),A.rubyReserve&&(function(he,Me){for(var Oe=0;Oe<he.length;Oe++){var Se,Ne,Ke=document.createElement("ruby"),We=document.createElement("rb");We.textContent="​",Ke.appendChild(We);var At,et=Me.rubyReserve[1].toUsedLength(Me.w,Me.h)+"px";Me.rubyReserve[0]==="both"||Me.rubyReserve[0]==="outside"&&he.length==1?((Se=document.createElement("rtc")).style[F]=k?"after":"under",Se.textContent="​",Se.style.fontSize=et,(Ne=document.createElement("rtc")).style[F]=k?"before":"over",Ne.textContent="​",Ne.style.fontSize=et,Ke.appendChild(Se),Ke.appendChild(Ne)):((Se=document.createElement("rtc")).textContent="​",Se.style.fontSize=et,At=Me.rubyReserve[0]==="after"||Me.rubyReserve[0]==="outside"&&Oe>0?k?"after":Me.bpd==="tb"||Me.bpd==="rl"?"under":"over":k?"before":Me.bpd==="tb"||Me.bpd==="rl"?"over":"under",Se.style[F]=At,Ke.appendChild(Se));for(var Dt=null,Mt=0;Mt<he[Oe].rbc.length;Mt++)if(he[Oe].rbc[Mt].localName==="ruby"){Dt=he[Oe].rbc[Mt];for(var Ut=0;Ut<Dt.style.length;Ut++)Ke.style.setProperty(Dt.style.item(Ut),Dt.style.getPropertyValue(Dt.style.item(Ut)));break}(Dt=Dt||he[Oe].elements[0].node).parentElement.insertBefore(Ke,Dt)}}(i,A),A.rubyReserve=null),(A.ruby||A.rubyReserve)&&(function(he,Me){for(var Oe=0;Oe<he.length;Oe++)for(var Se=0;Se<he[Oe].rbc.length;Se++){var Ne;he[Oe].rbc[Se].style[F]||(Ne=k?Oe===0?"before":"after":Me.bpd==="tb"||Me.bpd==="rl"?Oe===0?"over":"under":Oe===0?"under":"over",he[Oe].rbc[Se].style[F]=Ne)}}(i,A),A.ruby=null),A.textEmphasis&&(function(he,Me){for(var Oe=0;Oe<he.length;Oe++)for(var Se=0;Se<he[Oe].te.length;Se++){var Ne;he[Oe].te[Se].style[M]&&he[Oe].te[Se].style[M]!=="none"||(Ne=Me.bpd==="tb"?Oe===0?"left over":"left under":Me.bpd==="rl"?Oe===0?"right under":"left under":Oe===0?"left under":"right under",he[Oe].te[Se].style[M]=Ne)}}(i,A),A.textEmphasis=null),A.mra&&(function(he){for(var Me=0;Me<he.length-1;Me++){var Oe=he[Me].elements.length;if(Oe!==0&&he[Me].br===!1){var Se=document.createElement("br"),Ne=he[Me].elements[Oe-1].node;Ne.parentElement.insertBefore(Se,Ne.nextSibling)}}}(i),A.mra=null),A.lp&&(function(he,Me,Oe){if(he!==null)for(var Se=0;Se<he.length;Se++){var Ne=he[Se].elements.length,Ke=Math.ceil(Me)+"px",We="-"+Math.ceil(Me)+"px";if(Ne!==0){var At=he[Se].elements[he[Se].start_elem],et=he[Se].elements[he[Se].end_elem];if(At===et&&(elementBoundingRect=At.node.getBoundingClientRect(),elementBoundingRect.width==0||elementBoundingRect.height==0))continue;Oe.ipd==="lr"?(At.node.style.marginLeft=We,At.node.style.paddingLeft=Ke):Oe.ipd==="rl"?(At.node.style.paddingRight=Ke,At.node.style.marginRight=We):Oe.ipd==="tb"&&(At.node.style.paddingTop=Ke,At.node.style.marginTop=We),Oe.ipd==="lr"?(et.node.style.marginRight=We,et.node.style.paddingRight=Ke):Oe.ipd==="rl"?(et.node.style.paddingLeft=Ke,et.node.style.marginLeft=We):Oe.ipd==="tb"&&(et.node.style.paddingBottom=Ke,et.node.style.marginBottom=We)}}}(i,A.lp.toUsedLength(A.w,A.h),A),A.lp=null),function(he){for(var Me=0;Me<he.length;Me++)for(var Oe=he[Me],Se=1;Se<Oe.elements.length;){var Ne=Oe.elements[Se-1],Ke=Oe.elements[Se];p(Ne.node,Ke.node)?Oe.elements.splice(Se,1):Se++}for(var We,At,et=[],Dt=0;Dt<he.length;Dt++)for(var Mt=0;Mt<he[Dt].elements.length;Mt++)(At=y(We=he[Dt].elements[Mt].node,et,!1))&&(We.style.backgroundColor=At);for(var Ut=0;Ut<et.length;Ut++)et[Ut].style.backgroundColor=""}(i),A.flg)){var v=g(Ue.getBoundingClientRect(),A);(function(he,Me,Oe,Se,Ne){for(var Ke=Math.sign(Oe-Me),We=0;We<=he.length;We++){var At,et,Dt,Mt;if(At=We===0?Math.round(Me):We===he.length?Math.round(Oe):Math.round((he[We-1].after+he[We].before)/2),We>0&&he[We-1])for(Dt=0;Dt<he[We-1].elements.length;Dt++)et=Ke*(At-(Mt=he[We-1].elements[Dt]).after)+"px",Se.bpd==="lr"?Mt.node.style.paddingRight=et:Se.bpd==="rl"?Mt.node.style.paddingLeft=et:Se.bpd==="tb"&&(Mt.node.style.paddingBottom=et);if(We<he.length)for(Dt=0;Dt<he[We].elements.length;Dt++)et=Ke*((Mt=he[We].elements[Dt]).before-At)+"px",Se.bpd==="lr"?Mt.node.style.paddingLeft=et:Se.bpd==="rl"?Mt.node.style.paddingRight=et:Se.bpd==="tb"&&(Mt.node.style.paddingTop=et)}})(i,v.before,v.after,A),A.flg=null}if(J.kind==="region"&&A.bpd==="tb"&&A.enableRollUp&&J.contents.length>0&&J.styleAttrs[t.byName.displayAlign.qname]==="after"){E(A,Ue,i,null);var T=new u(J.id===""?"_":J.id,i);if(A.currentISDState[T.id]=T,A.previousISDState&&T.id in A.previousISDState&&A.previousISDState[T.id].plist.length>0&&T.plist.length>1&&T.plist[T.plist.length-2].text===A.previousISDState[T.id].plist[A.previousISDState[T.id].plist.length-1].text){var W=Ee.firstElementChild,V=T.plist[T.plist.length-1].after-T.plist[T.plist.length-1].before;W.style.bottom="-"+V+"px",W.style.transition="transform 0.4s",W.style.position="relative",W.style.transform="translateY(-"+V+"px)"}}}else(function(he,Me){if(he&&he.error&&he.error(Me))throw Me})(A.errorHandler,"Error processing ISD element kind: "+J.kind)}function y(A,U,J){return A.style.backgroundColor?(J&&!U.includes(A)&&U.push(A),A.style.backgroundColor):A.parentElement.nodeName==="SPAN"?y(A.parentElement,U,!0):void 0}function p(A,U){if(A.tagName==="SPAN"&&U.tagName==="SPAN"&&A._isd_element===U._isd_element){A.textContent+=U.textContent;for(var J=0;J<U.style.length;J++){var $=U.style[J];($.indexOf("border")>=0||$.indexOf("padding")>=0||$.indexOf("margin")>=0)&&(A.style[$]=U.style[$])}return U.parentElement.removeChild(U),!0}return!1}function u(A,U){this.id=A,this.plist=U}function g(A,U){var J={before:null,after:null,start:null,end:null};return U.bpd==="tb"?(J.before=A.top,J.after=A.bottom,U.ipd==="lr"?(J.start=A.left,J.end=A.right):(J.start=A.right,J.end=A.left)):U.bpd==="lr"?(J.before=A.left,J.after=A.right,J.start=A.top,J.end=A.bottom):U.bpd==="rl"&&(J.before=A.right,J.after=A.left,J.start=A.top,J.end=A.bottom),J}function E(A,U,J,$){if(U.localName!=="rt"&&U.localName!=="rtc"){var Ee,Je,oe,Ce,He=U.style.backgroundColor||$;if(U.childElementCount===0)if(U.localName==="span"||U.localName==="rb"){var Le=g(U.getBoundingClientRect(),A);if(J.length!==0&&(Ee=Le.before,Je=Le.after,oe=J[J.length-1].before,Je<(Ce=J[J.length-1].after)&&Ee>oe||Ce<=Je&&oe>=Ee)){var ve=Math.sign(Le.after-Le.before),Ue=Math.sign(Le.end-Le.start);ve*(Le.before-J[J.length-1].before)<0&&(J[J.length-1].before=Le.before),ve*(Le.after-J[J.length-1].after)>0&&(J[J.length-1].after=Le.after),Ue*(Le.start-J[J.length-1].start)<0&&(J[J.length-1].start=Le.start,J[J.length-1].start_elem=J[J.length-1].elements.length),Ue*(Le.end-J[J.length-1].end)>0&&(J[J.length-1].end=Le.end,J[J.length-1].end_elem=J[J.length-1].elements.length)}else J.push({before:Le.before,after:Le.after,start:Le.start,end:Le.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});J[J.length-1].text+=U.textContent,J[J.length-1].elements.push({node:U,bgcolor:He,before:Le.before,after:Le.after})}else U.localName==="br"&&J.length!==0&&(J[J.length-1].br=!0);else for(var Be=U.firstChild;Be;)Be.nodeType===Node.ELEMENT_NODE&&(E(A,Be,J,He),Be.localName==="ruby"||Be.localName==="rtc"?J.length>0&&J[J.length-1].rbc.push(Be):Be.localName==="span"&&Be.style[ee]&&Be.style[ee]!=="none"&&J.length>0&&J[J.length-1].te.push(Be)),Be=Be.nextSibling}}function n(A,U,J,$){var Ee;$.style!=="none"&&($.style==="auto"?U.style[ee]="filled":U.style[ee]=$.style+" "+$.symbol,($.position==="before"||$.position==="after")&&(Ee=A.bpd==="tb"?$.position==="before"?"left over":"left under":A.bpd==="rl"?$.position==="before"?"right under":"left under":$.position==="before"?"left under":"right under",U.style[M]=Ee))}function l(A,U){this.qname=A,this.map=U}ie.render=function(A,U,J,$,Ee,Je,oe,Ce,He){var Le=$||U.clientHeight,ve=Ee||U.clientWidth;if(A.aspectRatio!==null){var Ue=Le*A.aspectRatio;Ue>ve?Le=Math.round(ve/A.aspectRatio):ve=Ue}var Be=document.createElement("div");Be.style.position="relative",Be.style.width=ve+"px",Be.style.height=Le+"px",Be.style.margin="auto",Be.style.top=0,Be.style.bottom=0,Be.style.left=0,Be.style.right=0,Be.style.zIndex=0;var ct={h:Le,w:ve,regionH:null,regionW:null,imgResolver:J,displayForcedOnlyMode:Je||!1,isd:A,errorHandler:oe,previousISDState:Ce,enableRollUp:He||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(U.appendChild(Be),"contents"in A)for(var _e=0;_e<A.contents.length;_e++)e(ct,Be,A.contents[_e],A);return ct.currentISDState};for(var d=[new l("http://www.w3.org/ns/ttml#styling backgroundColor",function(A,U,J,$){$[3]!==0&&(U.style.backgroundColor="rgba("+$[0].toString()+","+$[1].toString()+","+$[2].toString()+","+($[3]/255).toString()+")")}),new l("http://www.w3.org/ns/ttml#styling color",function(A,U,J,$){U.style.color="rgba("+$[0].toString()+","+$[1].toString()+","+$[2].toString()+","+($[3]/255).toString()+")"}),new l("http://www.w3.org/ns/ttml#styling direction",function(A,U,J,$){U.style.direction=$}),new l("http://www.w3.org/ns/ttml#styling display",function(A,U,J,$){}),new l("http://www.w3.org/ns/ttml#styling displayAlign",function(A,U,J,$){U.style.display="flex",U.style.flexDirection="column",$==="before"?U.style.justifyContent="flex-start":$==="center"?U.style.justifyContent="center":$==="after"&&(U.style.justifyContent="flex-end")}),new l("http://www.w3.org/ns/ttml#styling extent",function(A,U,J,$){A.regionH=$.h.toUsedLength(A.w,A.h),A.regionW=$.w.toUsedLength(A.w,A.h);var Ee=0,Je=0,oe=J.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];oe&&(Ee=oe[0].toUsedLength(A.w,A.h)+oe[2].toUsedLength(A.w,A.h),Je=oe[1].toUsedLength(A.w,A.h)+oe[3].toUsedLength(A.w,A.h)),U.style.height=A.regionH-Ee+"px",U.style.width=A.regionW-Je+"px"}),new l("http://www.w3.org/ns/ttml#styling fontFamily",function(A,U,J,$){for(var Ee=[],Je=0;Je<$.length;Je++)$[Je]==="monospaceSerif"?(Ee.push("Courier New"),Ee.push('"Liberation Mono"'),Ee.push("Courier"),Ee.push("monospace")):$[Je]==="proportionalSansSerif"?(Ee.push("Arial"),Ee.push("Helvetica"),Ee.push('"Liberation Sans"'),Ee.push("sans-serif")):$[Je]==="monospace"?Ee.push("monospace"):$[Je]==="sansSerif"?Ee.push("sans-serif"):$[Je]==="serif"?Ee.push("serif"):$[Je]==="monospaceSansSerif"?(Ee.push("Consolas"),Ee.push("monospace")):$[Je]==="proportionalSerif"?Ee.push("serif"):Ee.push($[Je]);if(Ee.length>0){for(var oe=[Ee[0]],Ce=1;Ce<Ee.length;Ce++)oe.indexOf(Ee[Ce])==-1&&oe.push(Ee[Ce]);Ee=oe}U.style.fontFamily=Ee.join(",")}),new l("http://www.w3.org/ns/ttml#styling shear",function(A,U,J,$){if($!==0){var Ee=-.9*$;A.bpd==="tb"?U.style.transform="skewX("+Ee+"deg)":U.style.transform="skewY("+Ee+"deg)"}}),new l("http://www.w3.org/ns/ttml#styling fontSize",function(A,U,J,$){U.style.fontSize=$.toUsedLength(A.w,A.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling fontStyle",function(A,U,J,$){U.style.fontStyle=$}),new l("http://www.w3.org/ns/ttml#styling fontWeight",function(A,U,J,$){U.style.fontWeight=$}),new l("http://www.w3.org/ns/ttml#styling lineHeight",function(A,U,J,$){U.style.lineHeight=$==="normal"?"normal":$.toUsedLength(A.w,A.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling opacity",function(A,U,J,$){U.style.opacity=$}),new l("http://www.w3.org/ns/ttml#styling origin",function(A,U,J,$){U.style.top=$.h.toUsedLength(A.w,A.h)+"px",U.style.left=$.w.toUsedLength(A.w,A.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling overflow",function(A,U,J,$){U.style.overflow=$}),new l("http://www.w3.org/ns/ttml#styling padding",function(A,U,J,$){var Ee=[];Ee[0]=$[0].toUsedLength(A.w,A.h)+"px",Ee[1]=$[3].toUsedLength(A.w,A.h)+"px",Ee[2]=$[2].toUsedLength(A.w,A.h)+"px",Ee[3]=$[1].toUsedLength(A.w,A.h)+"px",U.style.padding=Ee.join(" ")}),new l("http://www.w3.org/ns/ttml#styling position",function(A,U,J,$){U.style.top=$.h.toUsedLength(A.w,A.h)+"px",U.style.left=$.w.toUsedLength(A.w,A.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling rubyAlign",function(A,U,J,$){U.style.rubyAlign=$==="spaceAround"?"space-around":"center"}),new l("http://www.w3.org/ns/ttml#styling rubyPosition",function(A,U,J,$){var Ee;$!=="before"&&$!=="after"||(Ee=k?$:A.bpd==="tb"||A.bpd==="rl"?$==="before"?"over":"under":$==="before"?"under":"over",U.parentElement.style[F]=Ee)}),new l("http://www.w3.org/ns/ttml#styling showBackground",null),new l("http://www.w3.org/ns/ttml#styling textAlign",function(A,U,J,$){var Ee;Ee=$==="start"?A.ipd==="rl"?"right":"left":$==="end"?A.ipd==="rl"?"left":"right":$,U.style.textAlign=Ee}),new l("http://www.w3.org/ns/ttml#styling textDecoration",function(A,U,J,$){U.style.textDecoration=$.join(" ").replace("lineThrough","line-through")}),new l("http://www.w3.org/ns/ttml#styling textOutline",function(A,U,J,$){}),new l("http://www.w3.org/ns/ttml#styling textShadow",function(A,U,J,$){var Ee=J.styleAttrs[t.byName.textOutline.qname];if($==="none"&&Ee==="none")U.style.textShadow="";else{var Je=[];if(Ee!=="none"){var oe="rgba("+Ee.color[0].toString()+","+Ee.color[1].toString()+","+Ee.color[2].toString()+","+(Ee.color[3]/255).toString()+")";Je.push("1px 1px 1px "+oe),Je.push("-1px 1px 1px "+oe),Je.push("1px -1px 1px "+oe),Je.push("-1px -1px 1px "+oe)}if($!=="none")for(var Ce=0;Ce<$.length;Ce++)Je.push($[Ce].x_off.toUsedLength(A.w,A.h)+"px "+$[Ce].y_off.toUsedLength(A.w,A.h)+"px "+$[Ce].b_radius.toUsedLength(A.w,A.h)+"px rgba("+$[Ce].color[0].toString()+","+$[Ce].color[1].toString()+","+$[Ce].color[2].toString()+","+($[Ce].color[3]/255).toString()+")");U.style.textShadow=Je.join(",")}}),new l("http://www.w3.org/ns/ttml#styling textCombine",function(A,U,J,$){U.style.textCombineUpright=$}),new l("http://www.w3.org/ns/ttml#styling textEmphasis",function(A,U,J,$){}),new l("http://www.w3.org/ns/ttml#styling unicodeBidi",function(A,U,J,$){var Ee;Ee=$==="bidiOverride"?"bidi-override":$,U.style.unicodeBidi=Ee}),new l("http://www.w3.org/ns/ttml#styling visibility",function(A,U,J,$){U.style.visibility=$}),new l("http://www.w3.org/ns/ttml#styling wrapOption",function(A,U,J,$){$==="wrap"?J.space==="preserve"?U.style.whiteSpace="pre-wrap":U.style.whiteSpace="normal":J.space==="preserve"?U.style.whiteSpace="pre":U.style.whiteSpace="noWrap"}),new l("http://www.w3.org/ns/ttml#styling writingMode",function(A,U,J,$){$==="lrtb"||$==="lr"||$==="rltb"||$==="rl"?U.style.writingMode="horizontal-tb":$==="tblr"?U.style.writingMode="vertical-lr":$!=="tbrl"&&$!=="tb"||(U.style.writingMode="vertical-rl")}),new l("http://www.w3.org/ns/ttml#styling zIndex",function(A,U,J,$){U.style.zIndex=$}),new l("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(A,U,J,$){A.displayForcedOnlyMode&&$===!1&&(U.style.visibility="hidden")})],D={},Z=0;Z<d.length;Z++)D[d[Z].qname]=d[Z];var k="webkitRubyPosition"in window.getComputedStyle(document.documentElement),F=k?"webkitRubyPosition":"rubyPosition",ee="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",M="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"})(we,typeof imscNames>"u"?O(210):imscNames,typeof imscStyles>"u"?O(6811):imscStyles,typeof imscUtils>"u"?O(5926):imscUtils)},4080:function(tt,we,O){(function(ie,S,t,e){ie.generateISD=function(d,D,Z){var k,F=new E(d),ee={},M={},A=d.head.styling.initials[t.byName.showBackground.qname],U=d.head.styling.initials[t.byName.backgroundColor.qname];for(var J in d.head.layout.regions)if(d.head.layout.regions.hasOwnProperty(J)){var $=d.head.layout.regions[J],Ee=$.styleAttrs[t.byName.showBackground.qname]||A,Je=$.styleAttrs[t.byName.backgroundColor.qname]||U;M[$.id]=(Ee==="always"||Ee===void 0)&&Je!==void 0&&!(D<$.begin||D>=$.end)}for(var oe in d.body&&d.body.regionID&&(M[d.body.regionID]=!0),k=d.body!==null?function He(Le,ve){if(ve.contents){var Ue={};for(var Be in ve)ve.hasOwnProperty(Be)&&(Ue[Be]=ve[Be]);return Ue.contents=[],ve.contents.filter(function(ct){return!(Le<ct.begin||Le>=ct.end)}).forEach(function(ct){var _e=He(Le,ct);_e.regionID&&(M[_e.regionID]=!0),_e!==null&&Ue.contents.push(_e)}),Ue}return ve}(D,d.body):null,M[""]!==void 0&&(M[""]=!0),M)if(M[oe]){var Ce=p(d,D,d.head.layout.regions[oe],k,null,"",d.head.layout.regions[oe],Z,ee);Ce!==null&&F.contents.push(Ce.element)}return F};var y=[t.byName.color.qname,t.byName.textCombine.qname,t.byName.textDecoration.qname,t.byName.textEmphasis.qname,t.byName.textOutline.qname,t.byName.textShadow.qname];function p(d,D,Z,k,F,ee,M,A,U){if(D<M.begin||D>=M.end)return null;var J="regionID"in M&&M.regionID!==""?M.regionID:ee;if(F!==null&&J!==Z.id&&(!("contents"in M)||"contents"in M&&M.contents.length===0||J!==""))return null;var $=new n(M);if("sets"in M)for(var Ee=0;Ee<M.sets.length;Ee++)D<M.sets[Ee].begin||D>=M.sets[Ee].end||($.styleAttrs[M.sets[Ee].qname]=M.sets[Ee].value);var Je={};for(var oe in $.styleAttrs)if($.styleAttrs.hasOwnProperty(oe)&&(Je[oe]=!0,$.kind==="region"&&oe===t.byName.writingMode.qname&&!(t.byName.direction.qname in $.styleAttrs))){var Ce=$.styleAttrs[oe];Ce==="lrtb"||Ce==="lr"?$.styleAttrs[t.byName.direction.qname]="ltr":Ce!=="rltb"&&Ce!=="rl"||($.styleAttrs[t.byName.direction.qname]="rtl")}if(F!==null)for(var He=0;He<t.all.length;He++){var Le=t.all[He];if(Le.qname===t.byName.textDecoration.qname){var ve=F.styleAttrs[Le.qname],Ue=$.styleAttrs[Le.qname],Be=[];Ue===void 0?Be=ve:Ue.indexOf("none")===-1?((Ue.indexOf("noUnderline")===-1&&ve.indexOf("underline")!==-1||Ue.indexOf("underline")!==-1)&&Be.push("underline"),(Ue.indexOf("noLineThrough")===-1&&ve.indexOf("lineThrough")!==-1||Ue.indexOf("lineThrough")!==-1)&&Be.push("lineThrough"),(Ue.indexOf("noOverline")===-1&&ve.indexOf("overline")!==-1||Ue.indexOf("overline")!==-1)&&Be.push("overline")):Be.push("none"),$.styleAttrs[Le.qname]=Be}else if(Le.qname!==t.byName.fontSize.qname||Le.qname in $.styleAttrs||$.kind!=="span"||$.styleAttrs[t.byName.ruby.qname]!=="textContainer")if(Le.qname!==t.byName.fontSize.qname||Le.qname in $.styleAttrs||$.kind!=="span"||$.styleAttrs[t.byName.ruby.qname]!=="text")Le.inherit&&Le.qname in F.styleAttrs&&!(Le.qname in $.styleAttrs)&&($.styleAttrs[Le.qname]=F.styleAttrs[Le.qname]);else{var ct=F.styleAttrs[t.byName.fontSize.qname];F.styleAttrs[t.byName.ruby.qname]==="textContainer"?$.styleAttrs[Le.qname]=ct:$.styleAttrs[Le.qname]=new e.ComputedLength(.5*ct.rw,.5*ct.rh)}else{var _e=F.styleAttrs[t.byName.fontSize.qname];$.styleAttrs[Le.qname]=new e.ComputedLength(.5*_e.rw,.5*_e.rh)}}for(var Ge=0;Ge<t.all.length;Ge++){var vt=t.all[Ge];if(!(vt.qname in $.styleAttrs)&&!(vt.qname===t.byName.position.qname&&t.byName.origin.qname in $.styleAttrs||vt.qname===t.byName.origin.qname&&t.byName.position.qname in $.styleAttrs)){var ft=d.head.styling.initials[vt.qname]||vt.initial;if(ft!==null&&($.kind==="region"||vt.inherit===!1&&ft!==null)){var qe=vt.parse(ft);qe!==null?($.styleAttrs[vt.qname]=qe,Je[vt.qname]=!0):l(A,"Invalid initial value for '"+vt.qname+"' on element '"+$.kind)}}}for(var $e=0;$e<t.all.length;$e++){var de=t.all[$e];if(de.qname in Je&&de.compute!==null){var ge=de.compute(d,F,$,$.styleAttrs[de.qname],U);ge!==null?$.styleAttrs[de.qname]=ge:($.styleAttrs[de.qname]=de.compute(d,F,$,de.parse(de.initial),U),l(A,"Style '"+de.qname+"' on element '"+$.kind+"' cannot be computed"))}}if($.styleAttrs[t.byName.display.qname]==="none")return null;var Ve=null;F===null?Ve=k===null?[]:[k]:"contents"in M&&(Ve=M.contents);for(var f=0;Ve!==null&&f<Ve.length;f++){var i=p(d,D,Z,k,$,J,Ve[f],A,U);i!==null&&$.contents.push(i.element)}for(var v in $.styleAttrs)if($.styleAttrs.hasOwnProperty(v)){var T=!1;if($.kind==="span"){var W=$.styleAttrs[t.byName.ruby.qname];(T=(W==="container"||W==="textContainer"||W==="baseContainer")&&y.indexOf(v)!==-1)||(T=W!=="container"&&v===t.byName.rubyAlign.qname),T||(T=!(W==="textContainer"||W==="text")&&v===t.byName.rubyPosition.qname)}if(!T){var V=t.byQName[v];"applies"in V&&(T=V.applies.indexOf($.kind)===-1)}T&&delete $.styleAttrs[v]}var he=$.styleAttrs[t.byName.ruby.qname];if($.kind==="p"||$.kind==="span"&&(he==="textContainer"||he==="text")){var Me=[];u($,Me),function(Oe){for(var Se,Ne=0;Ne<Oe.length;)if((Se=Oe[Ne]).kind!=="br"&&Se.space!=="preserve"){var Ke=Se.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Ke)&&(Ne===0||(We=Oe[Ne-1]).kind==="br"||/[\r\n\t ]$/.test(We.text))&&(Ke=Ke.substring(1)),Se.text=Ke,Ke.length===0?Oe.splice(Ne,1):Ne++}else Ne++;var We,At;for(Ne=0;Ne<Oe.length;Ne++)(Se=Oe[Ne]).kind!=="br"&&Se.space!=="preserve"?/[ ]$/.test(Se.text)&&(Ne===Oe.length-1||(At=Oe[Ne+1]).kind==="br"||At.space==="preserve"&&/^[\r\n]/.test(At.text))&&(Se.text=Se.text.slice(0,-1)):Ne++}(Me),g($)}return $.kind==="div"&&t.byName.backgroundImage.qname in $.styleAttrs||$.kind==="br"||$.kind==="image"||"contents"in $&&$.contents.length>0||$.kind==="span"&&$.text!==null||$.kind==="region"&&$.styleAttrs[t.byName.showBackground.qname]==="always"?{region_id:J,element:$}:null}function u(d,D){if("contents"in d)for(var Z=0;Z<d.contents.length;Z++){var k=d.contents[Z],F=k.styleAttrs[t.byName.ruby.qname];(k.kind!=="span"||F!=="textContainer"&&F!=="text")&&("contents"in k?u(k,D):(k.kind==="span"&&k.text.length!==0||k.kind==="br")&&D.push(k))}}function g(d){if(d.kind==="br")return!1;if("text"in d)return d.text.length===0;if("contents"in d){for(var D=d.contents.length;D--;)g(d.contents[D])&&d.contents.splice(D,1);return d.contents.length===0}}function E(d){this.contents=[],this.aspectRatio=d.aspectRatio,this.lang=d.lang}function n(d){for(var D in this.kind=d.kind||"region",this.lang=d.lang,d.id&&(this.id=d.id),this.styleAttrs={},d.styleAttrs)d.styleAttrs.hasOwnProperty(D)&&(this.styleAttrs[D]=d.styleAttrs[D]);"src"in d&&(this.src=d.src),"type"in d&&(this.type=d.type),"text"in d?this.text=d.text:(this.kind==="region"||"contents"in d)&&(this.contents=[]),"space"in d&&(this.space=d.space)}function l(d,D){if(d&&d.error&&d.error(D))throw D}})(we,typeof imscNames>"u"?O(210):imscNames,typeof imscStyles>"u"?O(6811):imscStyles,typeof imscUtils>"u"?O(5926):imscUtils)},4403:function(tt,we,O){we.generateISD=O(4080).generateISD,we.fromXML=O(3362).fromXML,we.renderHTML=O(506).render},210:function(tt,we){(function(O){O.ns_tt="http://www.w3.org/ns/ttml",O.ns_tts="http://www.w3.org/ns/ttml#styling",O.ns_ttp="http://www.w3.org/ns/ttml#parameter",O.ns_xml="http://www.w3.org/XML/1998/namespace",O.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",O.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",O.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",O.ns_ebutts="urn:ebu:tt:style"})(we)},6811:function(tt,we,O){(function(ie,S,t){function e(u,g,E,n,l,d,D,Z){this.name=g,this.ns=u,this.qname=u+" "+g,this.inherit=l,this.animatable=d,this.initial=E,this.applies=n,this.parse=D,this.compute=Z}for(var y in ie.all=[new e(S.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,t.parseColor,null),new e(S.ns_tts,"color","white",["span"],!0,!0,t.parseColor,null),new e(S.ns_tts,"direction","ltr",["p","span"],!0,!0,function(u){return u},null),new e(S.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(u){return u},null),new e(S.ns_tts,"displayAlign","before",["region"],!1,!0,function(u){return u},null),new e(S.ns_tts,"extent","auto",["tt","region"],!1,!0,function(u){if(u==="auto")return u;var g=u.split(" ");if(g.length!==2)return null;var E=t.parseLength(g[0]),n=t.parseLength(g[1]);return n&&E?{h:n,w:E}:null},function(u,g,E,n,l){var d,D;if(n==="auto")d=new t.ComputedLength(0,1);else if((d=t.toComputedLength(n.h.value,n.h.unit,null,u.dimensions.h,null,u.pxLength.h))===null)return null;if(n==="auto")D=new t.ComputedLength(1,0);else if((D=t.toComputedLength(n.w.value,n.w.unit,null,u.dimensions.w,null,u.pxLength.w))===null)return null;return{h:d,w:D}}),new e(S.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(u){for(var g=u.split(","),E=[],n=0;n<g.length;n++)g[n].charAt(0)!=="'"&&g[n].charAt(0)!=='"'&&g[n]==="default"?E.push("monospaceSerif"):E.push(g[n]);return E},null),new e(S.ns_tts,"shear","0%",["p"],!0,!0,t.parseLength,function(u,g,E,n){return n.unit!=="%"?null:Math.abs(n.value)>100?100*Math.sign(n.value):n.value}),new e(S.ns_tts,"fontSize","1c",["span","p"],!0,!0,t.parseLength,function(u,g,E,n,l){return t.toComputedLength(n.value,n.unit,g!==null?g.styleAttrs[ie.byName.fontSize.qname]:u.cellLength.h,g!==null?g.styleAttrs[ie.byName.fontSize.qname]:u.cellLength.h,u.cellLength.h,u.pxLength.h)}),new e(S.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(u){return u},null),new e(S.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(u){return u},null),new e(S.ns_tts,"lineHeight","normal",["p"],!0,!0,function(u){return u==="normal"?u:t.parseLength(u)},function(u,g,E,n,l){var d;if(n==="normal")d=n;else if((d=t.toComputedLength(n.value,n.unit,E.styleAttrs[ie.byName.fontSize.qname],E.styleAttrs[ie.byName.fontSize.qname],u.cellLength.h,u.pxLength.h))===null)return null;return d}),new e(S.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new e(S.ns_tts,"origin","auto",["region"],!1,!0,function(u){if(u==="auto")return u;var g=u.split(" ");if(g.length!==2)return null;var E=t.parseLength(g[0]),n=t.parseLength(g[1]);return n&&E?{h:n,w:E}:null},function(u,g,E,n,l){var d,D;if(n==="auto")d=new t.ComputedLength(0,0);else if((d=t.toComputedLength(n.h.value,n.h.unit,null,u.dimensions.h,null,u.pxLength.h))===null)return null;if(n==="auto")D=new t.ComputedLength(0,0);else if((D=t.toComputedLength(n.w.value,n.w.unit,null,u.dimensions.w,null,u.pxLength.w))===null)return null;return{h:d,w:D}}),new e(S.ns_tts,"overflow","hidden",["region"],!1,!0,function(u){return u},null),new e(S.ns_tts,"padding","0px",["region"],!1,!0,function(u){var g=u.split(" ");if(g.length>4)return null;for(var E=[],n=0;n<g.length;n++){var l=t.parseLength(g[n]);if(!l)return null;E.push(l)}return E},function(u,g,E,n,l){var d;if(n.length===1)d=[n[0],n[0],n[0],n[0]];else if(n.length===2)d=[n[0],n[1],n[0],n[1]];else if(n.length===3)d=[n[0],n[1],n[2],n[1]];else{if(n.length!==4)return null;d=[n[0],n[1],n[2],n[3]]}var D=E.styleAttrs[ie.byName.writingMode.qname];if(D==="lrtb"||D==="lr")d=[d[0],d[3],d[2],d[1]];else if(D==="rltb"||D==="rl")d=[d[0],d[1],d[2],d[3]];else if(D==="tblr")d=[d[3],d[0],d[1],d[2]];else{if(D!=="tbrl"&&D!=="tb")return null;d=[d[3],d[2],d[1],d[0]]}for(var Z=[],k=0;k<d.length;k++)if(d[k].value===0)Z[k]=new t.ComputedLength(0,0);else if(Z[k]=t.toComputedLength(d[k].value,d[k].unit,E.styleAttrs[ie.byName.fontSize.qname],k===0||k===2?E.styleAttrs[ie.byName.extent.qname].h:E.styleAttrs[ie.byName.extent.qname].w,k===0||k===2?u.cellLength.h:u.cellLength.w,k===0||k===2?u.pxLength.h:u.pxLength.w),Z[k]===null)return null;return Z}),new e(S.ns_tts,"position","top left",["region"],!1,!0,function(u){return t.parsePosition(u)},function(u,g,E,n){var l,d;return(l=t.toComputedLength(n.v.offset.value,n.v.offset.unit,null,new t.ComputedLength(-E.styleAttrs[ie.byName.extent.qname].h.rw,u.dimensions.h.rh-E.styleAttrs[ie.byName.extent.qname].h.rh),null,u.pxLength.h))===null?null:(n.v.edge==="bottom"&&(l=new t.ComputedLength(-l.rw-E.styleAttrs[ie.byName.extent.qname].h.rw,u.dimensions.h.rh-l.rh-E.styleAttrs[ie.byName.extent.qname].h.rh)),d=t.toComputedLength(n.h.offset.value,n.h.offset.unit,null,new t.ComputedLength(u.dimensions.w.rw-E.styleAttrs[ie.byName.extent.qname].w.rw,-E.styleAttrs[ie.byName.extent.qname].w.rh),null,u.pxLength.w),l===null?null:(n.h.edge==="right"&&(d=new t.ComputedLength(u.dimensions.w.rw-d.rw-E.styleAttrs[ie.byName.extent.qname].w.rw,-d.rh-E.styleAttrs[ie.byName.extent.qname].w.rh)),{h:l,w:d}))}),new e(S.ns_tts,"ruby","none",["span"],!1,!0,function(u){return u},null),new e(S.ns_tts,"rubyAlign","center",["span"],!0,!0,function(u){return u!=="center"&&u!=="spaceAround"?null:u},null),new e(S.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(u){return u},null),new e(S.ns_tts,"rubyReserve","none",["p"],!0,!0,function(u){var g=u.split(" "),E=[null,null];if(g.length===0||g.length>2||g[0]!=="none"&&g[0]!=="both"&&g[0]!=="after"&&g[0]!=="before"&&g[0]!=="outside")return null;if(E[0]=g[0],g.length===2&&g[0]!=="none"){var n=t.parseLength(g[1]);if(!n)return null;E[1]=n}return E},function(u,g,E,n,l){if(n[0]==="none")return n;var d;return(d=n[1]===null?new t.ComputedLength(.5*E.styleAttrs[ie.byName.fontSize.qname].rw,.5*E.styleAttrs[ie.byName.fontSize.qname].rh):t.toComputedLength(n[1].value,n[1].unit,E.styleAttrs[ie.byName.fontSize.qname],E.styleAttrs[ie.byName.fontSize.qname],u.cellLength.h,u.pxLength.h))===null?null:[n[0],d]}),new e(S.ns_tts,"showBackground","always",["region"],!1,!0,function(u){return u},null),new e(S.ns_tts,"textAlign","start",["p"],!0,!0,function(u){return u},function(u,g,E,n,l){return n==="left"?"start":n==="right"?"end":n}),new e(S.ns_tts,"textCombine","none",["span"],!0,!0,function(u){return u==="none"||u==="all"?u:null},null),new e(S.ns_tts,"textDecoration","none",["span"],!0,!0,function(u){return u.split(" ")},null),new e(S.ns_tts,"textEmphasis","none",["span"],!0,!0,function(u){for(var g=u.split(" "),E={style:null,symbol:null,color:null,position:null},n=0;n<g.length;n++)if(g[n]==="none"||g[n]==="auto")E.style=g[n];else if(g[n]==="filled"||g[n]==="open")E.style=g[n];else if(g[n]==="circle"||g[n]==="dot"||g[n]==="sesame")E.symbol=g[n];else if(g[n]==="current")E.color=g[n];else if(g[n]==="outside"||g[n]==="before"||g[n]==="after")E.position=g[n];else if(E.color=t.parseColor(g[n]),E.color===null)return null;return E.style==null&&E.symbol==null?E.style="auto":(E.symbol=E.symbol||"circle",E.style=E.style||"filled"),E.position=E.position||"outside",E.color=E.color||"current",E},null),new e(S.ns_tts,"textOutline","none",["span"],!0,!0,function(u){if(u==="none")return u;var g={},E=u.split(" ");if(E.length===0||E.length>2)return null;var n=t.parseColor(E[0]);if(g.color=n,n!==null&&E.shift(),E.length!==1)return null;var l=t.parseLength(E[0]);return l?(g.thickness=l,g):null},function(u,g,E,n,l){if(n==="none")return n;var d={};return n.color===null?d.color=E.styleAttrs[ie.byName.color.qname]:d.color=n.color,d.thickness=t.toComputedLength(n.thickness.value,n.thickness.unit,E.styleAttrs[ie.byName.fontSize.qname],E.styleAttrs[ie.byName.fontSize.qname],u.cellLength.h,u.pxLength.h),d.thickness===null?null:d}),new e(S.ns_tts,"textShadow","none",["span"],!0,!0,t.parseTextShadow,function(u,g,E,n){if(n==="none")return n;for(var l=[],d=0;d<n.length;d++){var D={};if(D.x_off=t.toComputedLength(n[d][0].value,n[d][0].unit,null,E.styleAttrs[ie.byName.fontSize.qname],null,u.pxLength.w),D.x_off===null||(D.y_off=t.toComputedLength(n[d][1].value,n[d][1].unit,null,E.styleAttrs[ie.byName.fontSize.qname],null,u.pxLength.h),D.y_off===null))return null;if(n[d][2]===null)D.b_radius=0;else if(D.b_radius=t.toComputedLength(n[d][2].value,n[d][2].unit,null,E.styleAttrs[ie.byName.fontSize.qname],null,u.pxLength.h),D.b_radius===null)return null;n[d][3]===null?D.color=E.styleAttrs[ie.byName.color.qname]:D.color=n[d][3],l.push(D)}return l}),new e(S.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(u){return u},null),new e(S.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(u){return u},null),new e(S.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(u){return u},null),new e(S.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(u){return u},null),new e(S.ns_tts,"zIndex","auto",["region"],!1,!0,function(u){var g;return u==="auto"?g=u:(g=parseInt(u),isNaN(g)&&(g=null)),g},null),new e(S.ns_ebutts,"linePadding","0c",["p"],!0,!1,t.parseLength,function(u,g,E,n,l){return t.toComputedLength(n.value,n.unit,null,null,u.cellLength.w,null)}),new e(S.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(u){return u},null),new e(S.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(u){return u},null),new e(S.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(u){return u==="true"},null),new e(S.ns_itts,"fillLineGap","false",["p"],!0,!0,function(u){return u==="true"},null)],ie.byQName={},ie.all)ie.byQName[ie.all[y].qname]=ie.all[y];for(var p in ie.byName={},ie.all)ie.byName[ie.all[p].name]=ie.all[p]})(we,typeof imscNames>"u"?O(210):imscNames,typeof imscUtils>"u"?O(5926):imscUtils)},5926:function(tt,we){(function(O){var ie=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,S=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,t=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,e={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};O.parseColor=function(p){var u,g=null,E=e[p.toLowerCase()];return E!==void 0?g=E:(u=ie.exec(p))!==null?g=[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16),u[4]!==void 0?parseInt(u[4],16):255]:(u=S.exec(p))!==null?g=[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),255]:(u=t.exec(p))!==null&&(g=[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),parseInt(u[4])]),g};var y=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;O.parseLength=function(p){var u,g=null;return(u=y.exec(p))!==null&&(g={value:parseFloat(u[1]),unit:u[2]}),g},O.parseTextShadow=function(p){for(var u=p.match(/([^\(,\)]|\([^\)]+\))+/g),g=[],E=0;E<u.length;E++){var n=u[E].split(" ");if(n.length===1&&n[0]==="none")return"none";if(n.length>1&&n.length<5){var l=[null,null,null,null],d=O.parseLength(n.shift());if(d===null||(l[0]=d,(d=O.parseLength(n.shift()))===null))return null;if(l[1]=d,n.length===0){g.push(l);continue}if((d=O.parseLength(n[0]))!==null&&(l[2]=d,n.shift()),n.length===0){g.push(l);continue}var D=O.parseColor(n[0]);if(D===null)return null;l[3]=D,g.push(l)}}return g},O.parsePosition=function(p){var u=p.split(" "),g=function(k){return k==="center"||k==="left"||k==="top"||k==="bottom"||k==="right"};if(u.length>4)return null;for(var E=0;E<u.length;E++)if(!g(u[E])){var n=O.parseLength(u[E]);if(n===null)return null;u[E]=n}for(var l={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},d=0;d<u.length;){var D=u[d++];if(g(D)){var Z={value:0,unit:"%"};u.length!==2&&d<u.length&&!g(u[d])&&(Z=u[d++]),D==="right"?(l.h.edge=D,l.h.offset=Z):D==="bottom"?(l.v.edge=D,l.v.offset=Z):D==="left"?l.h.offset=Z:D==="top"&&(l.v.offset=Z)}else{if(u.length!==1&&u.length!==2)return null;d===1?l.h.offset=D:l.v.offset=D}}return l},O.ComputedLength=function(p,u){this.rw=p,this.rh=u},O.ComputedLength.prototype.toUsedLength=function(p,u){return p*this.rw+u*this.rh},O.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},O.toComputedLength=function(p,u,g,E,n,l){return u==="%"&&E?new O.ComputedLength(E.rw*p/100,E.rh*p/100):u==="em"&&g?new O.ComputedLength(g.rw*p,g.rh*p):u==="c"&&n?new O.ComputedLength(p*n.rw,p*n.rh):u==="px"&&l?new O.ComputedLength(p*l.rw,p*l.rh):u==="rh"?new O.ComputedLength(0,p/100):u==="rw"?new O.ComputedLength(p/100,0):null}})(we)},3516:function(tt){tt.exports=function(we){var O=typeof we=="string"?we.charCodeAt(0):we;return O>=97&&O<=122||O>=65&&O<=90}},2219:function(tt,we,O){var ie=O(3516),S=O(395);tt.exports=function(t){return ie(t)||S(t)}},395:function(tt){tt.exports=function(we){var O=typeof we=="string"?we.charCodeAt(0):we;return O>=48&&O<=57}},3875:function(tt){function we(S){if(typeof S!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(S))}function O(S,t){for(var e,y="",p=0,u=-1,g=0,E=0;E<=S.length;++E){if(E<S.length)e=S.charCodeAt(E);else{if(e===47)break;e=47}if(e===47){if(!(u===E-1||g===1))if(u!==E-1&&g===2){if(y.length<2||p!==2||y.charCodeAt(y.length-1)!==46||y.charCodeAt(y.length-2)!==46){if(y.length>2){var n=y.lastIndexOf("/");if(n!==y.length-1){n===-1?(y="",p=0):p=(y=y.slice(0,n)).length-1-y.lastIndexOf("/"),u=E,g=0;continue}}else if(y.length===2||y.length===1){y="",p=0,u=E,g=0;continue}}t&&(y.length>0?y+="/..":y="..",p=2)}else y.length>0?y+="/"+S.slice(u+1,E):y=S.slice(u+1,E),p=E-u-1;u=E,g=0}else e===46&&g!==-1?++g:g=-1}return y}var ie={resolve:function(){for(var S,t="",e=!1,y=arguments.length-1;y>=-1&&!e;y--){var p;y>=0?p=arguments[y]:(S===void 0&&(S=process.cwd()),p=S),we(p),p.length!==0&&(t=p+"/"+t,e=p.charCodeAt(0)===47)}return t=O(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(S){if(we(S),S.length===0)return".";var t=S.charCodeAt(0)===47,e=S.charCodeAt(S.length-1)===47;return(S=O(S,!t)).length!==0||t||(S="."),S.length>0&&e&&(S+="/"),t?"/"+S:S},isAbsolute:function(S){return we(S),S.length>0&&S.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var S,t=0;t<arguments.length;++t){var e=arguments[t];we(e),e.length>0&&(S===void 0?S=e:S+="/"+e)}return S===void 0?".":ie.normalize(S)},relative:function(S,t){if(we(S),we(t),S===t||(S=ie.resolve(S))===(t=ie.resolve(t)))return"";for(var e=1;e<S.length&&S.charCodeAt(e)===47;++e);for(var y=S.length,p=y-e,u=1;u<t.length&&t.charCodeAt(u)===47;++u);for(var g=t.length-u,E=p<g?p:g,n=-1,l=0;l<=E;++l){if(l===E){if(g>E){if(t.charCodeAt(u+l)===47)return t.slice(u+l+1);if(l===0)return t.slice(u+l)}else p>E&&(S.charCodeAt(e+l)===47?n=l:l===0&&(n=0));break}var d=S.charCodeAt(e+l);if(d!==t.charCodeAt(u+l))break;d===47&&(n=l)}var D="";for(l=e+n+1;l<=y;++l)l!==y&&S.charCodeAt(l)!==47||(D.length===0?D+="..":D+="/..");return D.length>0?D+t.slice(u+n):(u+=n,t.charCodeAt(u)===47&&++u,t.slice(u))},_makeLong:function(S){return S},dirname:function(S){if(we(S),S.length===0)return".";for(var t=S.charCodeAt(0),e=t===47,y=-1,p=!0,u=S.length-1;u>=1;--u)if((t=S.charCodeAt(u))===47){if(!p){y=u;break}}else p=!1;return y===-1?e?"/":".":e&&y===1?"//":S.slice(0,y)},basename:function(S,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');we(S);var e,y=0,p=-1,u=!0;if(t!==void 0&&t.length>0&&t.length<=S.length){if(t.length===S.length&&t===S)return"";var g=t.length-1,E=-1;for(e=S.length-1;e>=0;--e){var n=S.charCodeAt(e);if(n===47){if(!u){y=e+1;break}}else E===-1&&(u=!1,E=e+1),g>=0&&(n===t.charCodeAt(g)?--g==-1&&(p=e):(g=-1,p=E))}return y===p?p=E:p===-1&&(p=S.length),S.slice(y,p)}for(e=S.length-1;e>=0;--e)if(S.charCodeAt(e)===47){if(!u){y=e+1;break}}else p===-1&&(u=!1,p=e+1);return p===-1?"":S.slice(y,p)},extname:function(S){we(S);for(var t=-1,e=0,y=-1,p=!0,u=0,g=S.length-1;g>=0;--g){var E=S.charCodeAt(g);if(E!==47)y===-1&&(p=!1,y=g+1),E===46?t===-1?t=g:u!==1&&(u=1):t!==-1&&(u=-1);else if(!p){e=g+1;break}}return t===-1||y===-1||u===0||u===1&&t===y-1&&t===e+1?"":S.slice(t,y)},format:function(S){if(S===null||typeof S!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof S);return function(t,e){var y=e.dir||e.root,p=e.base||(e.name||"")+(e.ext||"");return y?y===e.root?y+p:y+"/"+p:p}(0,S)},parse:function(S){we(S);var t={root:"",dir:"",base:"",ext:"",name:""};if(S.length===0)return t;var e,y=S.charCodeAt(0),p=y===47;p?(t.root="/",e=1):e=0;for(var u=-1,g=0,E=-1,n=!0,l=S.length-1,d=0;l>=e;--l)if((y=S.charCodeAt(l))!==47)E===-1&&(n=!1,E=l+1),y===46?u===-1?u=l:d!==1&&(d=1):u!==-1&&(d=-1);else if(!n){g=l+1;break}return u===-1||E===-1||d===0||d===1&&u===E-1&&u===g+1?E!==-1&&(t.base=t.name=g===0&&p?S.slice(1,E):S.slice(g,E)):(g===0&&p?(t.name=S.slice(1,u),t.base=S.slice(1,E)):(t.name=S.slice(g,u),t.base=S.slice(g,E)),t.ext=S.slice(u,E)),g>0?t.dir=S.slice(0,g-1):p&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ie.posix=ie,tt.exports=ie},8387:function(tt,we,O){var ie=O(1549),S=ie.Buffer;function t(y,p){for(var u in y)p[u]=y[u]}function e(y,p,u){return S(y,p,u)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?tt.exports=ie:(t(ie,we),we.Buffer=e),t(S,e),e.from=function(y,p,u){if(typeof y=="number")throw new TypeError("Argument must not be a number");return S(y,p,u)},e.alloc=function(y,p,u){if(typeof y!="number")throw new TypeError("Argument must be a number");var g=S(y);return p!==void 0?typeof u=="string"?g.fill(p,u):g.fill(p):g.fill(0),g},e.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return S(y)},e.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return ie.SlowBuffer(y)}},5378:function(tt,we,O){(function(ie){ie.parser=function(f,i){return new e(f,i)},ie.SAXParser=e,ie.SAXStream=p,ie.createStream=function(f,i){return new p(f,i)},ie.MAX_BUFFER_LENGTH=65536;var S,t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function e(f,i){if(!(this instanceof e))return new e(f,i);var v=this;(function(T){for(var W=0,V=t.length;W<V;W++)T[t[W]]=""})(v),v.q=v.c="",v.bufferCheckPosition=ie.MAX_BUFFER_LENGTH,v.opt=i||{},v.opt.lowercase=v.opt.lowercase||v.opt.lowercasetags,v.looseCase=v.opt.lowercase?"toLowerCase":"toUpperCase",v.tags=[],v.closed=v.closedRoot=v.sawRoot=!1,v.tag=v.error=null,v.strict=!!f,v.noscript=!(!f&&!v.opt.noscript),v.state=oe.BEGIN,v.strictEntities=v.opt.strictEntities,v.ENTITIES=v.strictEntities?Object.create(ie.XML_ENTITIES):Object.create(ie.ENTITIES),v.attribList=[],v.opt.xmlns&&(v.ns=Object.create(Z)),v.trackPosition=v.opt.position!==!1,v.trackPosition&&(v.position=v.line=v.column=0),He(v,"onready")}ie.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(f){function i(){}return i.prototype=f,new i}),Object.keys||(Object.keys=function(f){var i=[];for(var v in f)f.hasOwnProperty(v)&&i.push(v);return i}),e.prototype={end:function(){ct(this)},write:function(f){var i=this;if(this.error)throw this.error;if(i.closed)return Be(i,"Cannot write after close. Assign an onready handler.");if(f===null)return ct(i);typeof f=="object"&&(f=f.toString());for(var v=0,T="";T=Ve(f,v++),i.c=T,T;)switch(i.trackPosition&&(i.position++,T===`
`?(i.line++,i.column=0):i.column++),i.state){case oe.BEGIN:if(i.state=oe.BEGIN_WHITESPACE,T==="\uFEFF")continue;ge(i,T);continue;case oe.BEGIN_WHITESPACE:ge(i,T);continue;case oe.TEXT:if(i.sawRoot&&!i.closedRoot){for(var W=v-1;T&&T!=="<"&&T!=="&";)(T=Ve(f,v++))&&i.trackPosition&&(i.position++,T===`
`?(i.line++,i.column=0):i.column++);i.textNode+=f.substring(W,v-1)}T!=="<"||i.sawRoot&&i.closedRoot&&!i.strict?(!J(u,T)||i.sawRoot&&!i.closedRoot||_e(i,"Text data outside of root node."),T==="&"?i.state=oe.TEXT_ENTITY:i.textNode+=T):(i.state=oe.OPEN_WAKA,i.startTagPosition=i.position);continue;case oe.SCRIPT:T==="<"?i.state=oe.SCRIPT_ENDING:i.script+=T;continue;case oe.SCRIPT_ENDING:T==="/"?i.state=oe.CLOSE_TAG:(i.script+="<"+T,i.state=oe.SCRIPT);continue;case oe.OPEN_WAKA:if(T==="!")i.state=oe.SGML_DECL,i.sgmlDecl="";else if(!U(u,T))if(U(k,T))i.state=oe.OPEN_TAG,i.tagName=T;else if(T==="/")i.state=oe.CLOSE_TAG,i.tagName="";else if(T==="?")i.state=oe.PROC_INST,i.procInstName=i.procInstBody="";else{if(_e(i,"Unencoded <"),i.startTagPosition+1<i.position){var V=i.position-i.startTagPosition;T=new Array(V).join(" ")+T}i.textNode+="<"+T,i.state=oe.TEXT}continue;case oe.SGML_DECL:(i.sgmlDecl+T).toUpperCase()==="[CDATA["?(Le(i,"onopencdata"),i.state=oe.CDATA,i.sgmlDecl="",i.cdata=""):i.sgmlDecl+T==="--"?(i.state=oe.COMMENT,i.comment="",i.sgmlDecl=""):(i.sgmlDecl+T).toUpperCase()==="DOCTYPE"?(i.state=oe.DOCTYPE,(i.doctype||i.sawRoot)&&_e(i,"Inappropriately located doctype declaration"),i.doctype="",i.sgmlDecl=""):T===">"?(Le(i,"onsgmldeclaration",i.sgmlDecl),i.sgmlDecl="",i.state=oe.TEXT):(U(n,T)&&(i.state=oe.SGML_DECL_QUOTED),i.sgmlDecl+=T);continue;case oe.SGML_DECL_QUOTED:T===i.q&&(i.state=oe.SGML_DECL,i.q=""),i.sgmlDecl+=T;continue;case oe.DOCTYPE:T===">"?(i.state=oe.TEXT,Le(i,"ondoctype",i.doctype),i.doctype=!0):(i.doctype+=T,T==="["?i.state=oe.DOCTYPE_DTD:U(n,T)&&(i.state=oe.DOCTYPE_QUOTED,i.q=T));continue;case oe.DOCTYPE_QUOTED:i.doctype+=T,T===i.q&&(i.q="",i.state=oe.DOCTYPE);continue;case oe.DOCTYPE_DTD:i.doctype+=T,T==="]"?i.state=oe.DOCTYPE:U(n,T)&&(i.state=oe.DOCTYPE_DTD_QUOTED,i.q=T);continue;case oe.DOCTYPE_DTD_QUOTED:i.doctype+=T,T===i.q&&(i.state=oe.DOCTYPE_DTD,i.q="");continue;case oe.COMMENT:T==="-"?i.state=oe.COMMENT_ENDING:i.comment+=T;continue;case oe.COMMENT_ENDING:T==="-"?(i.state=oe.COMMENT_ENDED,i.comment=Ue(i.opt,i.comment),i.comment&&Le(i,"oncomment",i.comment),i.comment=""):(i.comment+="-"+T,i.state=oe.COMMENT);continue;case oe.COMMENT_ENDED:T!==">"?(_e(i,"Malformed comment"),i.comment+="--"+T,i.state=oe.COMMENT):i.state=oe.TEXT;continue;case oe.CDATA:T==="]"?i.state=oe.CDATA_ENDING:i.cdata+=T;continue;case oe.CDATA_ENDING:T==="]"?i.state=oe.CDATA_ENDING_2:(i.cdata+="]"+T,i.state=oe.CDATA);continue;case oe.CDATA_ENDING_2:T===">"?(i.cdata&&Le(i,"oncdata",i.cdata),Le(i,"onclosecdata"),i.cdata="",i.state=oe.TEXT):T==="]"?i.cdata+="]":(i.cdata+="]]"+T,i.state=oe.CDATA);continue;case oe.PROC_INST:T==="?"?i.state=oe.PROC_INST_ENDING:U(u,T)?i.state=oe.PROC_INST_BODY:i.procInstName+=T;continue;case oe.PROC_INST_BODY:if(!i.procInstBody&&U(u,T))continue;T==="?"?i.state=oe.PROC_INST_ENDING:i.procInstBody+=T;continue;case oe.PROC_INST_ENDING:T===">"?(Le(i,"onprocessinginstruction",{name:i.procInstName,body:i.procInstBody}),i.procInstName=i.procInstBody="",i.state=oe.TEXT):(i.procInstBody+="?"+T,i.state=oe.PROC_INST_BODY);continue;case oe.OPEN_TAG:U(F,T)?i.tagName+=T:(Ge(i),T===">"?qe(i):T==="/"?i.state=oe.OPEN_TAG_SLASH:(J(u,T)&&_e(i,"Invalid character in tag name"),i.state=oe.ATTRIB));continue;case oe.OPEN_TAG_SLASH:T===">"?(qe(i,!0),$e(i)):(_e(i,"Forward-slash in opening tag not followed by >"),i.state=oe.ATTRIB);continue;case oe.ATTRIB:if(U(u,T))continue;T===">"?qe(i):T==="/"?i.state=oe.OPEN_TAG_SLASH:U(k,T)?(i.attribName=T,i.attribValue="",i.state=oe.ATTRIB_NAME):_e(i,"Invalid attribute name");continue;case oe.ATTRIB_NAME:T==="="?i.state=oe.ATTRIB_VALUE:T===">"?(_e(i,"Attribute without value"),i.attribValue=i.attribName,ft(i),qe(i)):U(u,T)?i.state=oe.ATTRIB_NAME_SAW_WHITE:U(F,T)?i.attribName+=T:_e(i,"Invalid attribute name");continue;case oe.ATTRIB_NAME_SAW_WHITE:if(T==="=")i.state=oe.ATTRIB_VALUE;else{if(U(u,T))continue;_e(i,"Attribute without value"),i.tag.attributes[i.attribName]="",i.attribValue="",Le(i,"onattribute",{name:i.attribName,value:""}),i.attribName="",T===">"?qe(i):U(k,T)?(i.attribName=T,i.state=oe.ATTRIB_NAME):(_e(i,"Invalid attribute name"),i.state=oe.ATTRIB)}continue;case oe.ATTRIB_VALUE:if(U(u,T))continue;U(n,T)?(i.q=T,i.state=oe.ATTRIB_VALUE_QUOTED):(_e(i,"Unquoted attribute value"),i.state=oe.ATTRIB_VALUE_UNQUOTED,i.attribValue=T);continue;case oe.ATTRIB_VALUE_QUOTED:if(T!==i.q){T==="&"?i.state=oe.ATTRIB_VALUE_ENTITY_Q:i.attribValue+=T;continue}ft(i),i.q="",i.state=oe.ATTRIB_VALUE_CLOSED;continue;case oe.ATTRIB_VALUE_CLOSED:U(u,T)?i.state=oe.ATTRIB:T===">"?qe(i):T==="/"?i.state=oe.OPEN_TAG_SLASH:U(k,T)?(_e(i,"No whitespace between attributes"),i.attribName=T,i.attribValue="",i.state=oe.ATTRIB_NAME):_e(i,"Invalid attribute name");continue;case oe.ATTRIB_VALUE_UNQUOTED:if(J(l,T)){T==="&"?i.state=oe.ATTRIB_VALUE_ENTITY_U:i.attribValue+=T;continue}ft(i),T===">"?qe(i):i.state=oe.ATTRIB;continue;case oe.CLOSE_TAG:if(i.tagName)T===">"?$e(i):U(F,T)?i.tagName+=T:i.script?(i.script+="</"+i.tagName,i.tagName="",i.state=oe.SCRIPT):(J(u,T)&&_e(i,"Invalid tagname in closing tag"),i.state=oe.CLOSE_TAG_SAW_WHITE);else{if(U(u,T))continue;J(k,T)?i.script?(i.script+="</"+T,i.state=oe.SCRIPT):_e(i,"Invalid tagname in closing tag."):i.tagName=T}continue;case oe.CLOSE_TAG_SAW_WHITE:if(U(u,T))continue;T===">"?$e(i):_e(i,"Invalid characters in closing tag");continue;case oe.TEXT_ENTITY:case oe.ATTRIB_VALUE_ENTITY_Q:case oe.ATTRIB_VALUE_ENTITY_U:var he,Me;switch(i.state){case oe.TEXT_ENTITY:he=oe.TEXT,Me="textNode";break;case oe.ATTRIB_VALUE_ENTITY_Q:he=oe.ATTRIB_VALUE_QUOTED,Me="attribValue";break;case oe.ATTRIB_VALUE_ENTITY_U:he=oe.ATTRIB_VALUE_UNQUOTED,Me="attribValue"}T===";"?(i[Me]+=de(i),i.entity="",i.state=he):U(i.entity.length?M:ee,T)?i.entity+=T:(_e(i,"Invalid character in entity name"),i[Me]+="&"+i.entity+T,i.entity="",i.state=he);continue;default:throw new Error(i,"Unknown state: "+i.state)}return i.position>=i.bufferCheckPosition&&function(Oe){for(var Se=Math.max(ie.MAX_BUFFER_LENGTH,10),Ne=0,Ke=0,We=t.length;Ke<We;Ke++){var At=Oe[t[Ke]].length;if(At>Se)switch(t[Ke]){case"textNode":ve(Oe);break;case"cdata":Le(Oe,"oncdata",Oe.cdata),Oe.cdata="";break;case"script":Le(Oe,"onscript",Oe.script),Oe.script="";break;default:Be(Oe,"Max buffer length exceeded: "+t[Ke])}Ne=Math.max(Ne,At)}var et=ie.MAX_BUFFER_LENGTH-Ne;Oe.bufferCheckPosition=et+Oe.position}(i),i},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var f;ve(f=this),f.cdata!==""&&(Le(f,"oncdata",f.cdata),f.cdata=""),f.script!==""&&(Le(f,"onscript",f.script),f.script="")}};try{S=O(182).Stream}catch{S=function(){}}var y=ie.EVENTS.filter(function(f){return f!=="error"&&f!=="end"});function p(f,i){if(!(this instanceof p))return new p(f,i);S.apply(this),this._parser=new e(f,i),this.writable=!0,this.readable=!0;var v=this;this._parser.onend=function(){v.emit("end")},this._parser.onerror=function(T){v.emit("error",T),v._parser.error=null},this._decoder=null,y.forEach(function(T){Object.defineProperty(v,"on"+T,{get:function(){return v._parser["on"+T]},set:function(W){if(!W)return v.removeAllListeners(T),v._parser["on"+T]=W,W;v.on(T,W)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(S.prototype,{constructor:{value:p}}),p.prototype.write=function(f){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(f)){if(!this._decoder){var i=O(7503).s;this._decoder=new i("utf8")}f=this._decoder.write(f)}return this._parser.write(f.toString()),this.emit("data",f),!0},p.prototype.end=function(f){return f&&f.length&&this.write(f),this._parser.end(),!0},p.prototype.on=function(f,i){var v=this;return v._parser["on"+f]||y.indexOf(f)===-1||(v._parser["on"+f]=function(){var T=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);T.splice(0,0,f),v.emit.apply(v,T)}),S.prototype.on.call(v,f,i)};var u=`\r
	 `,g="0124356789",E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=`'"`,l=u+">",d="http://www.w3.org/XML/1998/namespace",D="http://www.w3.org/2000/xmlns/",Z={xml:d,xmlns:D};u=A(u),g=A(g),E=A(E);var k=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function A(f){return f.split("").reduce(function(i,v){return i[v]=!0,i},{})}function U(f,i){return function(v){return Object.prototype.toString.call(v)==="[object RegExp]"}(f)?!!i.match(f):f[i]}function J(f,i){return!U(f,i)}n=A(n),l=A(l);var $,Ee,Je,oe=0;for(var Ce in ie.STATE={BEGIN:oe++,BEGIN_WHITESPACE:oe++,TEXT:oe++,TEXT_ENTITY:oe++,OPEN_WAKA:oe++,SGML_DECL:oe++,SGML_DECL_QUOTED:oe++,DOCTYPE:oe++,DOCTYPE_QUOTED:oe++,DOCTYPE_DTD:oe++,DOCTYPE_DTD_QUOTED:oe++,COMMENT_STARTING:oe++,COMMENT:oe++,COMMENT_ENDING:oe++,COMMENT_ENDED:oe++,CDATA:oe++,CDATA_ENDING:oe++,CDATA_ENDING_2:oe++,PROC_INST:oe++,PROC_INST_BODY:oe++,PROC_INST_ENDING:oe++,OPEN_TAG:oe++,OPEN_TAG_SLASH:oe++,ATTRIB:oe++,ATTRIB_NAME:oe++,ATTRIB_NAME_SAW_WHITE:oe++,ATTRIB_VALUE:oe++,ATTRIB_VALUE_QUOTED:oe++,ATTRIB_VALUE_CLOSED:oe++,ATTRIB_VALUE_UNQUOTED:oe++,ATTRIB_VALUE_ENTITY_Q:oe++,ATTRIB_VALUE_ENTITY_U:oe++,CLOSE_TAG:oe++,CLOSE_TAG_SAW_WHITE:oe++,SCRIPT:oe++,SCRIPT_ENDING:oe++},ie.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},ie.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(ie.ENTITIES).forEach(function(f){var i=ie.ENTITIES[f],v=typeof i=="number"?String.fromCharCode(i):i;ie.ENTITIES[f]=v}),ie.STATE)ie.STATE[ie.STATE[Ce]]=Ce;function He(f,i,v){f[i]&&f[i](v)}function Le(f,i,v){f.textNode&&ve(f),He(f,i,v)}function ve(f){f.textNode=Ue(f.opt,f.textNode),f.textNode&&He(f,"ontext",f.textNode),f.textNode=""}function Ue(f,i){return f.trim&&(i=i.trim()),f.normalize&&(i=i.replace(/\s+/g," ")),i}function Be(f,i){return ve(f),f.trackPosition&&(i+=`
Line: `+f.line+`
Column: `+f.column+`
Char: `+f.c),i=new Error(i),f.error=i,He(f,"onerror",i),f}function ct(f){return f.sawRoot&&!f.closedRoot&&_e(f,"Unclosed root tag"),f.state!==oe.BEGIN&&f.state!==oe.BEGIN_WHITESPACE&&f.state!==oe.TEXT&&Be(f,"Unexpected end"),ve(f),f.c="",f.closed=!0,He(f,"onend"),e.call(f,f.strict,f.opt),f}function _e(f,i){if(typeof f!="object"||!(f instanceof e))throw new Error("bad call to strictFail");f.strict&&Be(f,i)}function Ge(f){f.strict||(f.tagName=f.tagName[f.looseCase]());var i=f.tags[f.tags.length-1]||f,v=f.tag={name:f.tagName,attributes:{}};f.opt.xmlns&&(v.ns=i.ns),f.attribList.length=0,Le(f,"onopentagstart",v)}function vt(f,i){var v=f.indexOf(":")<0?["",f]:f.split(":"),T=v[0],W=v[1];return i&&f==="xmlns"&&(T="xmlns",W=""),{prefix:T,local:W}}function ft(f){if(f.strict||(f.attribName=f.attribName[f.looseCase]()),f.attribList.indexOf(f.attribName)!==-1||f.tag.attributes.hasOwnProperty(f.attribName))f.attribName=f.attribValue="";else{if(f.opt.xmlns){var i=vt(f.attribName,!0),v=i.prefix,T=i.local;if(v==="xmlns")if(T==="xml"&&f.attribValue!==d)_e(f,"xml: prefix must be bound to "+d+`
Actual: `+f.attribValue);else if(T==="xmlns"&&f.attribValue!==D)_e(f,"xmlns: prefix must be bound to "+D+`
Actual: `+f.attribValue);else{var W=f.tag,V=f.tags[f.tags.length-1]||f;W.ns===V.ns&&(W.ns=Object.create(V.ns)),W.ns[T]=f.attribValue}f.attribList.push([f.attribName,f.attribValue])}else f.tag.attributes[f.attribName]=f.attribValue,Le(f,"onattribute",{name:f.attribName,value:f.attribValue});f.attribName=f.attribValue=""}}function qe(f,i){if(f.opt.xmlns){var v=f.tag,T=vt(f.tagName);v.prefix=T.prefix,v.local=T.local,v.uri=v.ns[T.prefix]||"",v.prefix&&!v.uri&&(_e(f,"Unbound namespace prefix: "+JSON.stringify(f.tagName)),v.uri=T.prefix);var W=f.tags[f.tags.length-1]||f;v.ns&&W.ns!==v.ns&&Object.keys(v.ns).forEach(function(Dt){Le(f,"onopennamespace",{prefix:Dt,uri:v.ns[Dt]})});for(var V=0,he=f.attribList.length;V<he;V++){var Me=f.attribList[V],Oe=Me[0],Se=Me[1],Ne=vt(Oe,!0),Ke=Ne.prefix,We=Ne.local,At=Ke===""?"":v.ns[Ke]||"",et={name:Oe,value:Se,prefix:Ke,local:We,uri:At};Ke&&Ke!=="xmlns"&&!At&&(_e(f,"Unbound namespace prefix: "+JSON.stringify(Ke)),et.uri=Ke),f.tag.attributes[Oe]=et,Le(f,"onattribute",et)}f.attribList.length=0}f.tag.isSelfClosing=!!i,f.sawRoot=!0,f.tags.push(f.tag),Le(f,"onopentag",f.tag),i||(f.noscript||f.tagName.toLowerCase()!=="script"?f.state=oe.TEXT:f.state=oe.SCRIPT,f.tag=null,f.tagName=""),f.attribName=f.attribValue="",f.attribList.length=0}function $e(f){if(!f.tagName)return _e(f,"Weird empty close tag."),f.textNode+="</>",void(f.state=oe.TEXT);if(f.script){if(f.tagName!=="script")return f.script+="</"+f.tagName+">",f.tagName="",void(f.state=oe.SCRIPT);Le(f,"onscript",f.script),f.script=""}var i=f.tags.length,v=f.tagName;f.strict||(v=v[f.looseCase]());for(var T=v;i--&&f.tags[i].name!==T;)_e(f,"Unexpected close tag");if(i<0)return _e(f,"Unmatched closing tag: "+f.tagName),f.textNode+="</"+f.tagName+">",void(f.state=oe.TEXT);f.tagName=v;for(var W=f.tags.length;W-- >i;){var V=f.tag=f.tags.pop();f.tagName=f.tag.name,Le(f,"onclosetag",f.tagName);var he={};for(var Me in V.ns)he[Me]=V.ns[Me];var Oe=f.tags[f.tags.length-1]||f;f.opt.xmlns&&V.ns!==Oe.ns&&Object.keys(V.ns).forEach(function(Se){var Ne=V.ns[Se];Le(f,"onclosenamespace",{prefix:Se,uri:Ne})})}i===0&&(f.closedRoot=!0),f.tagName=f.attribValue=f.attribName="",f.attribList.length=0,f.state=oe.TEXT}function de(f){var i,v=f.entity,T=v.toLowerCase(),W="";return f.ENTITIES[v]?f.ENTITIES[v]:f.ENTITIES[T]?f.ENTITIES[T]:((v=T).charAt(0)==="#"&&(v.charAt(1)==="x"?(v=v.slice(2),W=(i=parseInt(v,16)).toString(16)):(v=v.slice(1),W=(i=parseInt(v,10)).toString(10))),v=v.replace(/^0+/,""),W.toLowerCase()!==v?(_e(f,"Invalid character entity"),"&"+f.entity+";"):String.fromCodePoint(i))}function ge(f,i){i==="<"?(f.state=oe.OPEN_WAKA,f.startTagPosition=f.position):J(u,i)&&(_e(f,"Non-whitespace before first tag."),f.textNode=i,f.state=oe.TEXT)}function Ve(f,i){var v="";return i<f.length&&(v=f.charAt(i)),v}oe=ie.STATE,String.fromCodePoint||($=String.fromCharCode,Ee=Math.floor,Je=function(){var f,i,v=16384,T=[],W=-1,V=arguments.length;if(!V)return"";for(var he="";++W<V;){var Me=Number(arguments[W]);if(!isFinite(Me)||Me<0||Me>1114111||Ee(Me)!==Me)throw RangeError("Invalid code point: "+Me);Me<=65535?T.push(Me):(f=55296+((Me-=65536)>>10),i=Me%1024+56320,T.push(f,i)),(W+1===V||T.length>v)&&(he+=$.apply(null,T),T.length=0)}return he},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Je,configurable:!0,writable:!0}):String.fromCodePoint=Je)})(we)},182:function(tt,we,O){tt.exports=S;var ie=O(1159).EventEmitter;function S(){ie.call(this)}O(1765)(S,ie),S.Readable=O(2846),S.Writable=O(8318),S.Duplex=O(6138),S.Transform=O(9798),S.PassThrough=O(5472),S.finished=O(8800),S.pipeline=O(7295),S.Stream=S,S.prototype.pipe=function(t,e){var y=this;function p(D){t.writable&&t.write(D)===!1&&y.pause&&y.pause()}function u(){y.readable&&y.resume&&y.resume()}y.on("data",p),t.on("drain",u),t._isStdio||e&&e.end===!1||(y.on("end",E),y.on("close",n));var g=!1;function E(){g||(g=!0,t.end())}function n(){g||(g=!0,typeof t.destroy=="function"&&t.destroy())}function l(D){if(d(),ie.listenerCount(this,"error")===0)throw D}function d(){y.removeListener("data",p),t.removeListener("drain",u),y.removeListener("end",E),y.removeListener("close",n),y.removeListener("error",l),t.removeListener("error",l),y.removeListener("end",d),y.removeListener("close",d),t.removeListener("close",d)}return y.on("error",l),t.on("error",l),y.on("end",d),y.on("close",d),t.on("close",d),t.emit("pipe",y),t}},1765:function(tt){typeof Object.create=="function"?tt.exports=function(we,O){O&&(we.super_=O,we.prototype=Object.create(O.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}))}:tt.exports=function(we,O){if(O){we.super_=O;var ie=function(){};ie.prototype=O.prototype,we.prototype=new ie,we.prototype.constructor=we}}},3690:function(tt){var we={};function O(S,t,e){e||(e=Error);var y=function(p){var u,g;function E(n,l,d){return p.call(this,function(D,Z,k){return typeof t=="string"?t:t(D,Z,k)}(n,l,d))||this}return g=p,(u=E).prototype=Object.create(g.prototype),u.prototype.constructor=u,u.__proto__=g,E}(e);y.prototype.name=e.name,y.prototype.code=S,we[S]=y}function ie(S,t){if(Array.isArray(S)){var e=S.length;return S=S.map(function(y){return String(y)}),e>2?"one of ".concat(t," ").concat(S.slice(0,e-1).join(", "),", or ")+S[e-1]:e===2?"one of ".concat(t," ").concat(S[0]," or ").concat(S[1]):"of ".concat(t," ").concat(S[0])}return"of ".concat(t," ").concat(String(S))}O("ERR_INVALID_OPT_VALUE",function(S,t){return'The value "'+t+'" is invalid for option "'+S+'"'},TypeError),O("ERR_INVALID_ARG_TYPE",function(S,t,e){var y,p,u,g,E;if(typeof t=="string"&&(p="not ",t.substr(0,p.length)===p)?(y="must not be",t=t.replace(/^not /,"")):y="must be",function(l,d,D){return(D===void 0||D>l.length)&&(D=l.length),l.substring(D-d.length,D)===d}(S," argument"))u="The ".concat(S," ").concat(y," ").concat(ie(t,"type"));else{var n=(typeof E!="number"&&(E=0),E+1>(g=S).length||g.indexOf(".",E)===-1?"argument":"property");u='The "'.concat(S,'" ').concat(n," ").concat(y," ").concat(ie(t,"type"))}return u+". Received type ".concat(typeof e)},TypeError),O("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),O("ERR_METHOD_NOT_IMPLEMENTED",function(S){return"The "+S+" method is not implemented"}),O("ERR_STREAM_PREMATURE_CLOSE","Premature close"),O("ERR_STREAM_DESTROYED",function(S){return"Cannot call "+S+" after a stream was destroyed"}),O("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),O("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),O("ERR_STREAM_WRITE_AFTER_END","write after end"),O("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),O("ERR_UNKNOWN_ENCODING",function(S){return"Unknown encoding: "+S},TypeError),O("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),tt.exports.q=we},6138:function(tt,we,O){var ie=Object.keys||function(n){var l=[];for(var d in n)l.push(d);return l};tt.exports=u;var S=O(2846),t=O(8318);O(1765)(u,S);for(var e=ie(t.prototype),y=0;y<e.length;y++){var p=e[y];u.prototype[p]||(u.prototype[p]=t.prototype[p])}function u(n){if(!(this instanceof u))return new u(n);S.call(this,n),t.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}function g(){this._writableState.ended||process.nextTick(E,this)}function E(n){n.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},5472:function(tt,we,O){tt.exports=S;var ie=O(9798);function S(t){if(!(this instanceof S))return new S(t);ie.call(this,t)}O(1765)(S,ie),S.prototype._transform=function(t,e,y){y(null,t)}},2846:function(tt,we,O){var ie;tt.exports=$,$.ReadableState=J,O(1159).EventEmitter;var S,t=function(de,ge){return de.listeners(ge).length},e=O(9299),y=O(1549).Buffer,p=O.g.Uint8Array||function(){},u=O(964);S=u&&u.debuglog?u.debuglog("stream"):function(){};var g,E,n,l=O(8393),d=O(6163),D=O(7269).getHighWaterMark,Z=O(3690).q,k=Z.ERR_INVALID_ARG_TYPE,F=Z.ERR_STREAM_PUSH_AFTER_EOF,ee=Z.ERR_METHOD_NOT_IMPLEMENTED,M=Z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;O(1765)($,e);var A=d.errorOrDestroy,U=["error","close","destroy","pause","resume"];function J(de,ge,Ve){ie=ie||O(6138),de=de||{},typeof Ve!="boolean"&&(Ve=ge instanceof ie),this.objectMode=!!de.objectMode,Ve&&(this.objectMode=this.objectMode||!!de.readableObjectMode),this.highWaterMark=D(this,de,"readableHighWaterMark",Ve),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=de.emitClose!==!1,this.autoDestroy=!!de.autoDestroy,this.destroyed=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(g||(g=O(7503).s),this.decoder=new g(de.encoding),this.encoding=de.encoding)}function $(de){if(ie=ie||O(6138),!(this instanceof $))return new $(de);var ge=this instanceof ie;this._readableState=new J(de,this,ge),this.readable=!0,de&&(typeof de.read=="function"&&(this._read=de.read),typeof de.destroy=="function"&&(this._destroy=de.destroy)),e.call(this)}function Ee(de,ge,Ve,f,i){S("readableAddChunk",ge);var v,T=de._readableState;if(ge===null)T.reading=!1,function(W,V){if(S("onEofChunk"),!V.ended){if(V.decoder){var he=V.decoder.end();he&&he.length&&(V.buffer.push(he),V.length+=V.objectMode?1:he.length)}V.ended=!0,V.sync?He(W):(V.needReadable=!1,V.emittedReadable||(V.emittedReadable=!0,Le(W)))}}(de,T);else if(i||(v=function(W,V){var he,Me;return Me=V,y.isBuffer(Me)||Me instanceof p||typeof V=="string"||V===void 0||W.objectMode||(he=new k("chunk",["string","Buffer","Uint8Array"],V)),he}(T,ge)),v)A(de,v);else if(T.objectMode||ge&&ge.length>0)if(typeof ge=="string"||T.objectMode||Object.getPrototypeOf(ge)===y.prototype||(ge=function(W){return y.from(W)}(ge)),f)T.endEmitted?A(de,new M):Je(de,T,ge,!0);else if(T.ended)A(de,new F);else{if(T.destroyed)return!1;T.reading=!1,T.decoder&&!Ve?(ge=T.decoder.write(ge),T.objectMode||ge.length!==0?Je(de,T,ge,!1):ve(de,T)):Je(de,T,ge,!1)}else f||(T.reading=!1,ve(de,T));return!T.ended&&(T.length<T.highWaterMark||T.length===0)}function Je(de,ge,Ve,f){ge.flowing&&ge.length===0&&!ge.sync?(ge.awaitDrain=0,de.emit("data",Ve)):(ge.length+=ge.objectMode?1:Ve.length,f?ge.buffer.unshift(Ve):ge.buffer.push(Ve),ge.needReadable&&He(de)),ve(de,ge)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(de){this._readableState&&(this._readableState.destroyed=de)}}),$.prototype.destroy=d.destroy,$.prototype._undestroy=d.undestroy,$.prototype._destroy=function(de,ge){ge(de)},$.prototype.push=function(de,ge){var Ve,f=this._readableState;return f.objectMode?Ve=!0:typeof de=="string"&&((ge=ge||f.defaultEncoding)!==f.encoding&&(de=y.from(de,ge),ge=""),Ve=!0),Ee(this,de,ge,!1,Ve)},$.prototype.unshift=function(de){return Ee(this,de,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(de){g||(g=O(7503).s);var ge=new g(de);this._readableState.decoder=ge,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ve=this._readableState.buffer.head,f="";Ve!==null;)f+=ge.write(Ve.data),Ve=Ve.next;return this._readableState.buffer.clear(),f!==""&&this._readableState.buffer.push(f),this._readableState.length=f.length,this};var oe=1073741824;function Ce(de,ge){return de<=0||ge.length===0&&ge.ended?0:ge.objectMode?1:de!=de?ge.flowing&&ge.length?ge.buffer.head.data.length:ge.length:(de>ge.highWaterMark&&(ge.highWaterMark=function(Ve){return Ve>=oe?Ve=oe:(Ve--,Ve|=Ve>>>1,Ve|=Ve>>>2,Ve|=Ve>>>4,Ve|=Ve>>>8,Ve|=Ve>>>16,Ve++),Ve}(de)),de<=ge.length?de:ge.ended?ge.length:(ge.needReadable=!0,0))}function He(de){var ge=de._readableState;S("emitReadable",ge.needReadable,ge.emittedReadable),ge.needReadable=!1,ge.emittedReadable||(S("emitReadable",ge.flowing),ge.emittedReadable=!0,process.nextTick(Le,de))}function Le(de){var ge=de._readableState;S("emitReadable_",ge.destroyed,ge.length,ge.ended),ge.destroyed||!ge.length&&!ge.ended||(de.emit("readable"),ge.emittedReadable=!1),ge.needReadable=!ge.flowing&&!ge.ended&&ge.length<=ge.highWaterMark,Ge(de)}function ve(de,ge){ge.readingMore||(ge.readingMore=!0,process.nextTick(Ue,de,ge))}function Ue(de,ge){for(;!ge.reading&&!ge.ended&&(ge.length<ge.highWaterMark||ge.flowing&&ge.length===0);){var Ve=ge.length;if(S("maybeReadMore read 0"),de.read(0),Ve===ge.length)break}ge.readingMore=!1}function Be(de){var ge=de._readableState;ge.readableListening=de.listenerCount("readable")>0,ge.resumeScheduled&&!ge.paused?ge.flowing=!0:de.listenerCount("data")>0&&de.resume()}function ct(de){S("readable nexttick read 0"),de.read(0)}function _e(de,ge){S("resume",ge.reading),ge.reading||de.read(0),ge.resumeScheduled=!1,de.emit("resume"),Ge(de),ge.flowing&&!ge.reading&&de.read(0)}function Ge(de){var ge=de._readableState;for(S("flow",ge.flowing);ge.flowing&&de.read()!==null;);}function vt(de,ge){return ge.length===0?null:(ge.objectMode?Ve=ge.buffer.shift():!de||de>=ge.length?(Ve=ge.decoder?ge.buffer.join(""):ge.buffer.length===1?ge.buffer.first():ge.buffer.concat(ge.length),ge.buffer.clear()):Ve=ge.buffer.consume(de,ge.decoder),Ve);var Ve}function ft(de){var ge=de._readableState;S("endReadable",ge.endEmitted),ge.endEmitted||(ge.ended=!0,process.nextTick(qe,ge,de))}function qe(de,ge){if(S("endReadableNT",de.endEmitted,de.length),!de.endEmitted&&de.length===0&&(de.endEmitted=!0,ge.readable=!1,ge.emit("end"),de.autoDestroy)){var Ve=ge._writableState;(!Ve||Ve.autoDestroy&&Ve.finished)&&ge.destroy()}}function $e(de,ge){for(var Ve=0,f=de.length;Ve<f;Ve++)if(de[Ve]===ge)return Ve;return-1}$.prototype.read=function(de){S("read",de),de=parseInt(de,10);var ge=this._readableState,Ve=de;if(de!==0&&(ge.emittedReadable=!1),de===0&&ge.needReadable&&((ge.highWaterMark!==0?ge.length>=ge.highWaterMark:ge.length>0)||ge.ended))return S("read: emitReadable",ge.length,ge.ended),ge.length===0&&ge.ended?ft(this):He(this),null;if((de=Ce(de,ge))===0&&ge.ended)return ge.length===0&&ft(this),null;var f,i=ge.needReadable;return S("need readable",i),(ge.length===0||ge.length-de<ge.highWaterMark)&&S("length less than watermark",i=!0),ge.ended||ge.reading?S("reading or ended",i=!1):i&&(S("do read"),ge.reading=!0,ge.sync=!0,ge.length===0&&(ge.needReadable=!0),this._read(ge.highWaterMark),ge.sync=!1,ge.reading||(de=Ce(Ve,ge))),(f=de>0?vt(de,ge):null)===null?(ge.needReadable=ge.length<=ge.highWaterMark,de=0):(ge.length-=de,ge.awaitDrain=0),ge.length===0&&(ge.ended||(ge.needReadable=!0),Ve!==de&&ge.ended&&ft(this)),f!==null&&this.emit("data",f),f},$.prototype._read=function(de){A(this,new ee("_read()"))},$.prototype.pipe=function(de,ge){var Ve=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=de;break;case 1:f.pipes=[f.pipes,de];break;default:f.pipes.push(de)}f.pipesCount+=1,S("pipe count=%d opts=%j",f.pipesCount,ge);var i=ge&&ge.end===!1||de===process.stdout||de===process.stderr?Se:v;function v(){S("onend"),de.end()}f.endEmitted?process.nextTick(i):Ve.once("end",i),de.on("unpipe",function Ne(Ke,We){S("onunpipe"),Ke===Ve&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,S("cleanup"),de.removeListener("close",Me),de.removeListener("finish",Oe),de.removeListener("drain",T),de.removeListener("error",he),de.removeListener("unpipe",Ne),Ve.removeListener("end",v),Ve.removeListener("end",Se),Ve.removeListener("data",V),W=!0,!f.awaitDrain||de._writableState&&!de._writableState.needDrain||T())});var T=function(Ne){return function(){var Ke=Ne._readableState;S("pipeOnDrain",Ke.awaitDrain),Ke.awaitDrain&&Ke.awaitDrain--,Ke.awaitDrain===0&&t(Ne,"data")&&(Ke.flowing=!0,Ge(Ne))}}(Ve);de.on("drain",T);var W=!1;function V(Ne){S("ondata");var Ke=de.write(Ne);S("dest.write",Ke),Ke===!1&&((f.pipesCount===1&&f.pipes===de||f.pipesCount>1&&$e(f.pipes,de)!==-1)&&!W&&(S("false write response, pause",f.awaitDrain),f.awaitDrain++),Ve.pause())}function he(Ne){S("onerror",Ne),Se(),de.removeListener("error",he),t(de,"error")===0&&A(de,Ne)}function Me(){de.removeListener("finish",Oe),Se()}function Oe(){S("onfinish"),de.removeListener("close",Me),Se()}function Se(){S("unpipe"),Ve.unpipe(de)}return Ve.on("data",V),function(Ne,Ke,We){if(typeof Ne.prependListener=="function")return Ne.prependListener(Ke,We);Ne._events&&Ne._events[Ke]?Array.isArray(Ne._events[Ke])?Ne._events[Ke].unshift(We):Ne._events[Ke]=[We,Ne._events[Ke]]:Ne.on(Ke,We)}(de,"error",he),de.once("close",Me),de.once("finish",Oe),de.emit("pipe",Ve),f.flowing||(S("pipe resume"),Ve.resume()),de},$.prototype.unpipe=function(de){var ge=this._readableState,Ve={hasUnpiped:!1};if(ge.pipesCount===0)return this;if(ge.pipesCount===1)return de&&de!==ge.pipes||(de||(de=ge.pipes),ge.pipes=null,ge.pipesCount=0,ge.flowing=!1,de&&de.emit("unpipe",this,Ve)),this;if(!de){var f=ge.pipes,i=ge.pipesCount;ge.pipes=null,ge.pipesCount=0,ge.flowing=!1;for(var v=0;v<i;v++)f[v].emit("unpipe",this,{hasUnpiped:!1});return this}var T=$e(ge.pipes,de);return T===-1||(ge.pipes.splice(T,1),ge.pipesCount-=1,ge.pipesCount===1&&(ge.pipes=ge.pipes[0]),de.emit("unpipe",this,Ve)),this},$.prototype.on=function(de,ge){var Ve=e.prototype.on.call(this,de,ge),f=this._readableState;return de==="data"?(f.readableListening=this.listenerCount("readable")>0,f.flowing!==!1&&this.resume()):de==="readable"&&(f.endEmitted||f.readableListening||(f.readableListening=f.needReadable=!0,f.flowing=!1,f.emittedReadable=!1,S("on readable",f.length,f.reading),f.length?He(this):f.reading||process.nextTick(ct,this))),Ve},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(de,ge){var Ve=e.prototype.removeListener.call(this,de,ge);return de==="readable"&&process.nextTick(Be,this),Ve},$.prototype.removeAllListeners=function(de){var ge=e.prototype.removeAllListeners.apply(this,arguments);return de!=="readable"&&de!==void 0||process.nextTick(Be,this),ge},$.prototype.resume=function(){var de=this._readableState;return de.flowing||(S("resume"),de.flowing=!de.readableListening,function(ge,Ve){Ve.resumeScheduled||(Ve.resumeScheduled=!0,process.nextTick(_e,ge,Ve))}(this,de)),de.paused=!1,this},$.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(de){var ge=this,Ve=this._readableState,f=!1;for(var i in de.on("end",function(){if(S("wrapped end"),Ve.decoder&&!Ve.ended){var T=Ve.decoder.end();T&&T.length&&ge.push(T)}ge.push(null)}),de.on("data",function(T){S("wrapped data"),Ve.decoder&&(T=Ve.decoder.write(T)),Ve.objectMode&&T==null||(Ve.objectMode||T&&T.length)&&(ge.push(T)||(f=!0,de.pause()))}),de)this[i]===void 0&&typeof de[i]=="function"&&(this[i]=function(T){return function(){return de[T].apply(de,arguments)}}(i));for(var v=0;v<U.length;v++)de.on(U[v],this.emit.bind(this,U[v]));return this._read=function(T){S("wrapped _read",T),f&&(f=!1,de.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=O(7299)),E(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(de){this._readableState&&(this._readableState.flowing=de)}}),$._fromList=vt,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&($.from=function(de,ge){return n===void 0&&(n=O(6233)),n($,de,ge)})},9798:function(tt,we,O){tt.exports=g;var ie=O(3690).q,S=ie.ERR_METHOD_NOT_IMPLEMENTED,t=ie.ERR_MULTIPLE_CALLBACK,e=ie.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=ie.ERR_TRANSFORM_WITH_LENGTH_0,p=O(6138);function u(l,d){var D=this._transformState;D.transforming=!1;var Z=D.writecb;if(Z===null)return this.emit("error",new t);D.writechunk=null,D.writecb=null,d!=null&&this.push(d),Z(l);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function g(l){if(!(this instanceof g))return new g(l);p.call(this,l),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",E)}function E(){var l=this;typeof this._flush!="function"||this._readableState.destroyed?n(this,null,null):this._flush(function(d,D){n(l,d,D)})}function n(l,d,D){if(d)return l.emit("error",d);if(D!=null&&l.push(D),l._writableState.length)throw new y;if(l._transformState.transforming)throw new e;return l.push(null)}O(1765)(g,p),g.prototype.push=function(l,d){return this._transformState.needTransform=!1,p.prototype.push.call(this,l,d)},g.prototype._transform=function(l,d,D){D(new S("_transform()"))},g.prototype._write=function(l,d,D){var Z=this._transformState;if(Z.writecb=D,Z.writechunk=l,Z.writeencoding=d,!Z.transforming){var k=this._readableState;(Z.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},g.prototype._read=function(l){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},g.prototype._destroy=function(l,d){p.prototype._destroy.call(this,l,function(D){d(D)})}},8318:function(tt,we,O){function ie(ve){var Ue=this;this.next=null,this.entry=null,this.finish=function(){(function(Be,ct,_e){var Ge=Be.entry;for(Be.entry=null;Ge;){var vt=Ge.callback;ct.pendingcb--,vt(void 0),Ge=Ge.next}ct.corkedRequestsFree.next=Be})(Ue,ve)}}var S;tt.exports=$,$.WritableState=J;var t,e={deprecate:O(7839)},y=O(9299),p=O(1549).Buffer,u=O.g.Uint8Array||function(){},g=O(6163),E=O(7269).getHighWaterMark,n=O(3690).q,l=n.ERR_INVALID_ARG_TYPE,d=n.ERR_METHOD_NOT_IMPLEMENTED,D=n.ERR_MULTIPLE_CALLBACK,Z=n.ERR_STREAM_CANNOT_PIPE,k=n.ERR_STREAM_DESTROYED,F=n.ERR_STREAM_NULL_VALUES,ee=n.ERR_STREAM_WRITE_AFTER_END,M=n.ERR_UNKNOWN_ENCODING,A=g.errorOrDestroy;function U(){}function J(ve,Ue,Be){S=S||O(6138),ve=ve||{},typeof Be!="boolean"&&(Be=Ue instanceof S),this.objectMode=!!ve.objectMode,Be&&(this.objectMode=this.objectMode||!!ve.writableObjectMode),this.highWaterMark=E(this,ve,"writableHighWaterMark",Be),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ct=ve.decodeStrings===!1;this.decodeStrings=!ct,this.defaultEncoding=ve.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){(function(Ge,vt){var ft=Ge._writableState,qe=ft.sync,$e=ft.writecb;if(typeof $e!="function")throw new D;if(function(ge){ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0}(ft),vt)(function(ge,Ve,f,i,v){--Ve.pendingcb,f?(process.nextTick(v,i),process.nextTick(Le,ge,Ve),ge._writableState.errorEmitted=!0,A(ge,i)):(v(i),ge._writableState.errorEmitted=!0,A(ge,i),Le(ge,Ve))})(Ge,ft,qe,vt,$e);else{var de=Ce(ft)||Ge.destroyed;de||ft.corked||ft.bufferProcessing||!ft.bufferedRequest||oe(Ge,ft),qe?process.nextTick(Je,Ge,ft,de,$e):Je(Ge,ft,de,$e)}})(Ue,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ve.emitClose!==!1,this.autoDestroy=!!ve.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ie(this)}function $(ve){var Ue=this instanceof(S=S||O(6138));if(!Ue&&!t.call($,this))return new $(ve);this._writableState=new J(ve,this,Ue),this.writable=!0,ve&&(typeof ve.write=="function"&&(this._write=ve.write),typeof ve.writev=="function"&&(this._writev=ve.writev),typeof ve.destroy=="function"&&(this._destroy=ve.destroy),typeof ve.final=="function"&&(this._final=ve.final)),y.call(this)}function Ee(ve,Ue,Be,ct,_e,Ge,vt){Ue.writelen=ct,Ue.writecb=vt,Ue.writing=!0,Ue.sync=!0,Ue.destroyed?Ue.onwrite(new k("write")):Be?ve._writev(_e,Ue.onwrite):ve._write(_e,Ge,Ue.onwrite),Ue.sync=!1}function Je(ve,Ue,Be,ct){Be||function(_e,Ge){Ge.length===0&&Ge.needDrain&&(Ge.needDrain=!1,_e.emit("drain"))}(ve,Ue),Ue.pendingcb--,ct(),Le(ve,Ue)}function oe(ve,Ue){Ue.bufferProcessing=!0;var Be=Ue.bufferedRequest;if(ve._writev&&Be&&Be.next){var ct=Ue.bufferedRequestCount,_e=new Array(ct),Ge=Ue.corkedRequestsFree;Ge.entry=Be;for(var vt=0,ft=!0;Be;)_e[vt]=Be,Be.isBuf||(ft=!1),Be=Be.next,vt+=1;_e.allBuffers=ft,Ee(ve,Ue,!0,Ue.length,_e,"",Ge.finish),Ue.pendingcb++,Ue.lastBufferedRequest=null,Ge.next?(Ue.corkedRequestsFree=Ge.next,Ge.next=null):Ue.corkedRequestsFree=new ie(Ue),Ue.bufferedRequestCount=0}else{for(;Be;){var qe=Be.chunk,$e=Be.encoding,de=Be.callback;if(Ee(ve,Ue,!1,Ue.objectMode?1:qe.length,qe,$e,de),Be=Be.next,Ue.bufferedRequestCount--,Ue.writing)break}Be===null&&(Ue.lastBufferedRequest=null)}Ue.bufferedRequest=Be,Ue.bufferProcessing=!1}function Ce(ve){return ve.ending&&ve.length===0&&ve.bufferedRequest===null&&!ve.finished&&!ve.writing}function He(ve,Ue){ve._final(function(Be){Ue.pendingcb--,Be&&A(ve,Be),Ue.prefinished=!0,ve.emit("prefinish"),Le(ve,Ue)})}function Le(ve,Ue){var Be=Ce(Ue);if(Be&&(function(_e,Ge){Ge.prefinished||Ge.finalCalled||(typeof _e._final!="function"||Ge.destroyed?(Ge.prefinished=!0,_e.emit("prefinish")):(Ge.pendingcb++,Ge.finalCalled=!0,process.nextTick(He,_e,Ge)))}(ve,Ue),Ue.pendingcb===0&&(Ue.finished=!0,ve.emit("finish"),Ue.autoDestroy))){var ct=ve._readableState;(!ct||ct.autoDestroy&&ct.endEmitted)&&ve.destroy()}return Be}O(1765)($,y),J.prototype.getBuffer=function(){for(var ve=this.bufferedRequest,Ue=[];ve;)Ue.push(ve),ve=ve.next;return Ue},function(){try{Object.defineProperty(J.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(t=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(ve){return!!t.call(this,ve)||this===$&&ve&&ve._writableState instanceof J}})):t=function(ve){return ve instanceof this},$.prototype.pipe=function(){A(this,new Z)},$.prototype.write=function(ve,Ue,Be){var ct,_e=this._writableState,Ge=!1,vt=!_e.objectMode&&(ct=ve,p.isBuffer(ct)||ct instanceof u);return vt&&!p.isBuffer(ve)&&(ve=function(ft){return p.from(ft)}(ve)),typeof Ue=="function"&&(Be=Ue,Ue=null),vt?Ue="buffer":Ue||(Ue=_e.defaultEncoding),typeof Be!="function"&&(Be=U),_e.ending?function(ft,qe){var $e=new ee;A(ft,$e),process.nextTick(qe,$e)}(this,Be):(vt||function(ft,qe,$e,de){var ge;return $e===null?ge=new F:typeof $e=="string"||qe.objectMode||(ge=new l("chunk",["string","Buffer"],$e)),!ge||(A(ft,ge),process.nextTick(de,ge),!1)}(this,_e,ve,Be))&&(_e.pendingcb++,Ge=function(ft,qe,$e,de,ge,Ve){if(!$e){var f=function(W,V,he){return W.objectMode||W.decodeStrings===!1||typeof V!="string"||(V=p.from(V,he)),V}(qe,de,ge);de!==f&&($e=!0,ge="buffer",de=f)}var i=qe.objectMode?1:de.length;qe.length+=i;var v=qe.length<qe.highWaterMark;if(v||(qe.needDrain=!0),qe.writing||qe.corked){var T=qe.lastBufferedRequest;qe.lastBufferedRequest={chunk:de,encoding:ge,isBuf:$e,callback:Ve,next:null},T?T.next=qe.lastBufferedRequest:qe.bufferedRequest=qe.lastBufferedRequest,qe.bufferedRequestCount+=1}else Ee(ft,qe,!1,i,de,ge,Ve);return v}(this,_e,vt,ve,Ue,Be)),Ge},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var ve=this._writableState;ve.corked&&(ve.corked--,ve.writing||ve.corked||ve.bufferProcessing||!ve.bufferedRequest||oe(this,ve))},$.prototype.setDefaultEncoding=function(ve){if(typeof ve=="string"&&(ve=ve.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ve+"").toLowerCase())>-1))throw new M(ve);return this._writableState.defaultEncoding=ve,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(ve,Ue,Be){Be(new d("_write()"))},$.prototype._writev=null,$.prototype.end=function(ve,Ue,Be){var ct=this._writableState;return typeof ve=="function"?(Be=ve,ve=null,Ue=null):typeof Ue=="function"&&(Be=Ue,Ue=null),ve!=null&&this.write(ve,Ue),ct.corked&&(ct.corked=1,this.uncork()),ct.ending||function(_e,Ge,vt){Ge.ending=!0,Le(_e,Ge),vt&&(Ge.finished?process.nextTick(vt):_e.once("finish",vt)),Ge.ended=!0,_e.writable=!1}(this,ct,Be),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(ve){this._writableState&&(this._writableState.destroyed=ve)}}),$.prototype.destroy=g.destroy,$.prototype._undestroy=g.undestroy,$.prototype._destroy=function(ve,Ue){Ue(ve)}},7299:function(tt,we,O){var ie;function S(F,ee,M){return ee in F?Object.defineProperty(F,ee,{value:M,enumerable:!0,configurable:!0,writable:!0}):F[ee]=M,F}var t=O(8800),e=Symbol("lastResolve"),y=Symbol("lastReject"),p=Symbol("error"),u=Symbol("ended"),g=Symbol("lastPromise"),E=Symbol("handlePromise"),n=Symbol("stream");function l(F,ee){return{value:F,done:ee}}function d(F){var ee=F[e];if(ee!==null){var M=F[n].read();M!==null&&(F[g]=null,F[e]=null,F[y]=null,ee(l(M,!1)))}}function D(F){process.nextTick(d,F)}var Z=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((S(ie={get stream(){return this[n]},next:function(){var F=this,ee=this[p];if(ee!==null)return Promise.reject(ee);if(this[u])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(J,$){process.nextTick(function(){F[p]?$(F[p]):J(l(void 0,!0))})});var M,A=this[g];if(A)M=new Promise(function(J,$){return function(Ee,Je){J.then(function(){$[u]?Ee(l(void 0,!0)):$[E](Ee,Je)},Je)}}(A,this));else{var U=this[n].read();if(U!==null)return Promise.resolve(l(U,!1));M=new Promise(this[E])}return this[g]=M,M}},Symbol.asyncIterator,function(){return this}),S(ie,"return",function(){var F=this;return new Promise(function(ee,M){F[n].destroy(null,function(A){A?M(A):ee(l(void 0,!0))})})}),ie),Z);tt.exports=function(F){var ee,M=Object.create(k,(S(ee={},n,{value:F,writable:!0}),S(ee,e,{value:null,writable:!0}),S(ee,y,{value:null,writable:!0}),S(ee,p,{value:null,writable:!0}),S(ee,u,{value:F._readableState.endEmitted,writable:!0}),S(ee,E,{value:function(A,U){var J=M[n].read();J?(M[g]=null,M[e]=null,M[y]=null,A(l(J,!1))):(M[e]=A,M[y]=U)},writable:!0}),ee));return M[g]=null,t(F,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=M[y];return U!==null&&(M[g]=null,M[e]=null,M[y]=null,U(A)),void(M[p]=A)}var J=M[e];J!==null&&(M[g]=null,M[e]=null,M[y]=null,J(l(void 0,!0))),M[u]=!0}),F.on("readable",D.bind(null,M)),M}},8393:function(tt,we,O){function ie(u,g){var E=Object.keys(u);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(u);g&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(u,l).enumerable})),E.push.apply(E,n)}return E}function S(u,g,E){return g in u?Object.defineProperty(u,g,{value:E,enumerable:!0,configurable:!0,writable:!0}):u[g]=E,u}function t(u,g){for(var E=0;E<g.length;E++){var n=g[E];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}var e=O(1549).Buffer,y=O(9862).inspect,p=y&&y.custom||"inspect";tt.exports=function(){function u(){(function(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var g,E;return g=u,E=[{key:"push",value:function(n){var l={data:n,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}},{key:"unshift",value:function(n){var l={data:n,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=n+l.data;return d}},{key:"concat",value:function(n){if(this.length===0)return e.alloc(0);for(var l,d,D,Z=e.allocUnsafe(n>>>0),k=this.head,F=0;k;)l=k.data,d=Z,D=F,e.prototype.copy.call(l,d,D),F+=k.data.length,k=k.next;return Z}},{key:"consume",value:function(n,l){var d;return n<this.head.data.length?(d=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):d=n===this.head.data.length?this.shift():l?this._getString(n):this._getBuffer(n),d}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var l=this.head,d=1,D=l.data;for(n-=D.length;l=l.next;){var Z=l.data,k=n>Z.length?Z.length:n;if(k===Z.length?D+=Z:D+=Z.slice(0,n),(n-=k)==0){k===Z.length?(++d,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=Z.slice(k));break}++d}return this.length-=d,D}},{key:"_getBuffer",value:function(n){var l=e.allocUnsafe(n),d=this.head,D=1;for(d.data.copy(l),n-=d.data.length;d=d.next;){var Z=d.data,k=n>Z.length?Z.length:n;if(Z.copy(l,l.length-n,0,k),(n-=k)==0){k===Z.length?(++D,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=Z.slice(k));break}++D}return this.length-=D,l}},{key:p,value:function(n,l){return y(this,function(d){for(var D=1;D<arguments.length;D++){var Z=arguments[D]!=null?arguments[D]:{};D%2?ie(Object(Z),!0).forEach(function(k){S(d,k,Z[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(Z)):ie(Object(Z)).forEach(function(k){Object.defineProperty(d,k,Object.getOwnPropertyDescriptor(Z,k))})}return d}({},l,{depth:0,customInspect:!1}))}}],E&&t(g.prototype,E),u}()},6163:function(tt){function we(S,t){ie(S,t),O(S)}function O(S){S._writableState&&!S._writableState.emitClose||S._readableState&&!S._readableState.emitClose||S.emit("close")}function ie(S,t){S.emit("error",t)}tt.exports={destroy:function(S,t){var e=this,y=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return y||p?(t?t(S):S&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ie,this,S)):process.nextTick(ie,this,S)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(S||null,function(u){!t&&u?e._writableState?e._writableState.errorEmitted?process.nextTick(O,e):(e._writableState.errorEmitted=!0,process.nextTick(we,e,u)):process.nextTick(we,e,u):t?(process.nextTick(O,e),t(u)):process.nextTick(O,e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(S,t){var e=S._readableState,y=S._writableState;e&&e.autoDestroy||y&&y.autoDestroy?S.destroy(t):S.emit("error",t)}}},8800:function(tt,we,O){var ie=O(3690).q.ERR_STREAM_PREMATURE_CLOSE;function S(){}tt.exports=function t(e,y,p){if(typeof y=="function")return t(e,null,y);y||(y={}),p=function(ee){var M=!1;return function(){if(!M){M=!0;for(var A=arguments.length,U=new Array(A),J=0;J<A;J++)U[J]=arguments[J];ee.apply(this,U)}}}(p||S);var u=y.readable||y.readable!==!1&&e.readable,g=y.writable||y.writable!==!1&&e.writable,E=function(){e.writable||l()},n=e._writableState&&e._writableState.finished,l=function(){g=!1,n=!0,u||p.call(e)},d=e._readableState&&e._readableState.endEmitted,D=function(){u=!1,d=!0,g||p.call(e)},Z=function(ee){p.call(e,ee)},k=function(){var ee;return u&&!d?(e._readableState&&e._readableState.ended||(ee=new ie),p.call(e,ee)):g&&!n?(e._writableState&&e._writableState.ended||(ee=new ie),p.call(e,ee)):void 0},F=function(){e.req.on("finish",l)};return function(ee){return ee.setHeader&&typeof ee.abort=="function"}(e)?(e.on("complete",l),e.on("abort",k),e.req?F():e.on("request",F)):g&&!e._writableState&&(e.on("end",E),e.on("close",E)),e.on("end",D),e.on("finish",l),y.error!==!1&&e.on("error",Z),e.on("close",k),function(){e.removeListener("complete",l),e.removeListener("abort",k),e.removeListener("request",F),e.req&&e.req.removeListener("finish",l),e.removeListener("end",E),e.removeListener("close",E),e.removeListener("finish",l),e.removeListener("end",D),e.removeListener("error",Z),e.removeListener("close",k)}}},6233:function(tt){tt.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:function(tt,we,O){var ie,S=O(3690).q,t=S.ERR_MISSING_ARGS,e=S.ERR_STREAM_DESTROYED;function y(n){if(n)throw n}function p(n,l,d,D){D=function(F){var ee=!1;return function(){ee||(ee=!0,F.apply(void 0,arguments))}}(D);var Z=!1;n.on("close",function(){Z=!0}),ie===void 0&&(ie=O(8800)),ie(n,{readable:l,writable:d},function(F){if(F)return D(F);Z=!0,D()});var k=!1;return function(F){if(!Z&&!k)return k=!0,function(ee){return ee.setHeader&&typeof ee.abort=="function"}(n)?n.abort():typeof n.destroy=="function"?n.destroy():void D(F||new e("pipe"))}}function u(n){n()}function g(n,l){return n.pipe(l)}function E(n){return n.length?typeof n[n.length-1]!="function"?y:n.pop():y}tt.exports=function(){for(var n=arguments.length,l=new Array(n),d=0;d<n;d++)l[d]=arguments[d];var D,Z=E(l);if(Array.isArray(l[0])&&(l=l[0]),l.length<2)throw new t("streams");var k=l.map(function(F,ee){var M=ee<l.length-1;return p(F,M,ee>0,function(A){D||(D=A),A&&k.forEach(u),M||(k.forEach(u),Z(D))})});return l.reduce(g)}},7269:function(tt,we,O){var ie=O(3690).q.ERR_INVALID_OPT_VALUE;tt.exports={getHighWaterMark:function(S,t,e,y){var p=function(u,g,E){return u.highWaterMark!=null?u.highWaterMark:g?u[E]:null}(t,y,e);if(p!=null){if(!isFinite(p)||Math.floor(p)!==p||p<0)throw new ie(y?e:"highWaterMark",p);return Math.floor(p)}return S.objectMode?16:16384}}},9299:function(tt,we,O){tt.exports=O(1159).EventEmitter},7503:function(tt,we,O){var ie=O(8387).Buffer,S=ie.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(d){var D;switch(this.encoding=function(Z){var k=function(F){if(!F)return"utf8";for(var ee;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(ee)return;F=(""+F).toLowerCase(),ee=!0}}(Z);if(typeof k!="string"&&(ie.isEncoding===S||!S(Z)))throw new Error("Unknown encoding: "+Z);return k||Z}(d),this.encoding){case"utf16le":this.text=p,this.end=u,D=4;break;case"utf8":this.fillLast=y,D=4;break;case"base64":this.text=g,this.end=E,D=3;break;default:return this.write=n,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ie.allocUnsafe(D)}function e(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function y(d){var D=this.lastTotal-this.lastNeed,Z=function(k,F,ee){if((192&F[0])!=128)return k.lastNeed=0,"�";if(k.lastNeed>1&&F.length>1){if((192&F[1])!=128)return k.lastNeed=1,"�";if(k.lastNeed>2&&F.length>2&&(192&F[2])!=128)return k.lastNeed=2,"�"}}(this,d);return Z!==void 0?Z:this.lastNeed<=d.length?(d.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,D,0,d.length),void(this.lastNeed-=d.length))}function p(d,D){if((d.length-D)%2==0){var Z=d.toString("utf16le",D);if(Z){var k=Z.charCodeAt(Z.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],Z.slice(0,-1)}return Z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",D,d.length-1)}function u(d){var D=d&&d.length?this.write(d):"";if(this.lastNeed){var Z=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,Z)}return D}function g(d,D){var Z=(d.length-D)%3;return Z===0?d.toString("base64",D):(this.lastNeed=3-Z,this.lastTotal=3,Z===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",D,d.length-Z))}function E(d){var D=d&&d.length?this.write(d):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function n(d){return d.toString(this.encoding)}function l(d){return d&&d.length?this.write(d):""}we.s=t,t.prototype.write=function(d){if(d.length===0)return"";var D,Z;if(this.lastNeed){if((D=this.fillLast(d))===void 0)return"";Z=this.lastNeed,this.lastNeed=0}else Z=0;return Z<d.length?D?D+this.text(d,Z):this.text(d,Z):D||""},t.prototype.end=function(d){var D=d&&d.length?this.write(d):"";return this.lastNeed?D+"�":D},t.prototype.text=function(d,D){var Z=function(F,ee,M){var A=ee.length-1;if(A<M)return 0;var U=e(ee[A]);return U>=0?(U>0&&(F.lastNeed=U-1),U):--A<M||U===-2?0:(U=e(ee[A]))>=0?(U>0&&(F.lastNeed=U-2),U):--A<M||U===-2?0:(U=e(ee[A]))>=0?(U>0&&(U===2?U=0:F.lastNeed=U-3),U):0}(this,d,D);if(!this.lastNeed)return d.toString("utf8",D);this.lastTotal=Z;var k=d.length-(Z-this.lastNeed);return d.copy(this.lastChar,0,k),d.toString("utf8",D,k)},t.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},1067:function(tt,we,O){var ie;(function(S,t){var e="function",y="undefined",p="object",u="string",g="model",E="name",n="type",l="vendor",d="version",D="architecture",Z="console",k="mobile",F="tablet",ee="smarttv",M="wearable",A="embedded",U="Amazon",J="Apple",$="ASUS",Ee="BlackBerry",Je="Browser",oe="Chrome",Ce="Firefox",He="Google",Le="Huawei",ve="LG",Ue="Microsoft",Be="Motorola",ct="Opera",_e="Samsung",Ge="Sony",vt="Xiaomi",ft="Zebra",qe="Facebook",$e=function(Me){for(var Oe={},Se=0;Se<Me.length;Se++)Oe[Me[Se].toUpperCase()]=Me[Se];return Oe},de=function(Me,Oe){return typeof Me===u&&ge(Oe).indexOf(ge(Me))!==-1},ge=function(Me){return Me.toLowerCase()},Ve=function(Me,Oe){if(typeof Me===u)return Me=Me.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof Oe===y?Me:Me.substring(0,255)},f=function(Me,Oe){for(var Se,Ne,Ke,We,At,et,Dt=0;Dt<Oe.length&&!At;){var Mt=Oe[Dt],Ut=Oe[Dt+1];for(Se=Ne=0;Se<Mt.length&&!At;)if(At=Mt[Se++].exec(Me))for(Ke=0;Ke<Ut.length;Ke++)et=At[++Ne],typeof(We=Ut[Ke])===p&&We.length>0?We.length===2?typeof We[1]==e?this[We[0]]=We[1].call(this,et):this[We[0]]=We[1]:We.length===3?typeof We[1]!==e||We[1].exec&&We[1].test?this[We[0]]=et?et.replace(We[1],We[2]):t:this[We[0]]=et?We[1].call(this,et,We[2]):t:We.length===4&&(this[We[0]]=et?We[3].call(this,et.replace(We[1],We[2])):t):this[We]=et||t;Dt+=2}},i=function(Me,Oe){for(var Se in Oe)if(typeof Oe[Se]===p&&Oe[Se].length>0){for(var Ne=0;Ne<Oe[Se].length;Ne++)if(de(Oe[Se][Ne],Me))return Se==="?"?t:Se}else if(de(Oe[Se],Me))return Se==="?"?t:Se;return Me},v={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},T={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[E,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[E,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[E,d],[/opios[\/ ]+([\w\.]+)/i],[d,[E,ct+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[E,ct]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[E,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[E,"UC"+Je]],[/\bqbcore\/([\w\.]+)/i],[d,[E,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[E,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[E,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[E,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[E,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[E,/(.+)/,"$1 Secure "+Je],d],[/\bfocus\/([\w\.]+)/i],[d,[E,Ce+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[E,ct+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[E,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[E,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[E,ct+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[E,"MIUI "+Je]],[/fxios\/([-\w\.]+)/i],[d,[E,Ce]],[/\bqihu|(qi?ho?o?|360)browser/i],[[E,"360 "+Je]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[E,/(.+)/,"$1 "+Je],d],[/(comodo_dragon)\/([\w\.]+)/i],[[E,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[E,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[E],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[E,qe],d],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[E,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[E,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[E,oe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[E,oe+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[E,"Android "+Je]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[E,d],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[d,[E,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[d,E],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[E,[d,i,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[E,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[E,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[E,Ce+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[E,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[D,"amd64"]],[/(ia32(?=;))/i],[[D,ge]],[/((?:i[346]|x)86)[;\)]/i],[[D,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[D,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[D,"armhf"]],[/windows (ce|mobile); ppc;/i],[[D,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[D,/ower/,"",ge]],[/(sun4\w)[;\)]/i],[[D,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[D,ge]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[l,_e],[n,F]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[g,[l,_e],[n,k]],[/\((ip(?:hone|od)[\w ]*);/i],[g,[l,J],[n,k]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[l,J],[n,F]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[g,[l,Le],[n,F]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[g,[l,Le],[n,k]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[g,/_/g," "],[l,vt],[n,k]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[g,/_/g," "],[l,vt],[n,F]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[l,"OPPO"],[n,k]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[l,"Vivo"],[n,k]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[g,[l,"Realme"],[n,k]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[l,Be],[n,k]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[l,Be],[n,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[l,ve],[n,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[l,ve],[n,k]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[g,[l,"Lenovo"],[n,F]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[g,/_/g," "],[l,"Nokia"],[n,k]],[/(pixel c)\b/i],[g,[l,He],[n,F]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[l,He],[n,k]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[l,Ge],[n,k]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[l,Ge],[n,F]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[l,"OnePlus"],[n,k]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[l,U],[n,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[l,U],[n,k]],[/(playbook);[-\w\),; ]+(rim)/i],[g,l,[n,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[l,Ee],[n,k]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[l,$],[n,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[l,$],[n,k]],[/(nexus 9)/i],[g,[l,"HTC"],[n,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[l,[g,/_/g," "],[n,k]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[l,"Acer"],[n,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[l,"Meizu"],[n,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[l,"Sharp"],[n,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,g,[n,k]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,g,[n,F]],[/(surface duo)/i],[g,[l,Ue],[n,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[l,"Fairphone"],[n,k]],[/(u304aa)/i],[g,[l,"AT&T"],[n,k]],[/\bsie-(\w*)/i],[g,[l,"Siemens"],[n,k]],[/\b(rct\w+) b/i],[g,[l,"RCA"],[n,F]],[/\b(venue[\d ]{2,7}) b/i],[g,[l,"Dell"],[n,F]],[/\b(q(?:mv|ta)\w+) b/i],[g,[l,"Verizon"],[n,F]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[l,"Barnes & Noble"],[n,F]],[/\b(tm\d{3}\w+) b/i],[g,[l,"NuVision"],[n,F]],[/\b(k88) b/i],[g,[l,"ZTE"],[n,F]],[/\b(nx\d{3}j) b/i],[g,[l,"ZTE"],[n,k]],[/\b(gen\d{3}) b.+49h/i],[g,[l,"Swiss"],[n,k]],[/\b(zur\d{3}) b/i],[g,[l,"Swiss"],[n,F]],[/\b((zeki)?tb.*\b) b/i],[g,[l,"Zeki"],[n,F]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],g,[n,F]],[/\b(ns-?\w{0,9}) b/i],[g,[l,"Insignia"],[n,F]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[l,"NextBook"],[n,F]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],g,[n,k]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],g,[n,k]],[/\b(ph-1) /i],[g,[l,"Essential"],[n,k]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[l,"Envizen"],[n,F]],[/\b(trio[-\w\. ]+) b/i],[g,[l,"MachSpeed"],[n,F]],[/\btu_(1491) b/i],[g,[l,"Rotor"],[n,F]],[/(shield[\w ]+) b/i],[g,[l,"Nvidia"],[n,F]],[/(sprint) (\w+)/i],[l,g,[n,k]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[l,Ue],[n,k]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[l,ft],[n,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[l,ft],[n,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,g,[n,Z]],[/droid.+; (shield) bui/i],[g,[l,"Nvidia"],[n,Z]],[/(playstation [345portablevi]+)/i],[g,[l,Ge],[n,Z]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[l,Ue],[n,Z]],[/smart-tv.+(samsung)/i],[l,[n,ee]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[l,_e],[n,ee]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,ve],[n,ee]],[/(apple) ?tv/i],[l,[g,J+" TV"],[n,ee]],[/crkey/i],[[g,oe+"cast"],[l,He],[n,ee]],[/droid.+aft(\w)( bui|\))/i],[g,[l,U],[n,ee]],[/\(dtv[\);].+(aquos)/i],[g,[l,"Sharp"],[n,ee]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[l,Ve],[g,Ve],[n,ee]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[n,ee]],[/((pebble))app/i],[l,g,[n,M]],[/droid.+; (glass) \d/i],[g,[l,He],[n,M]],[/droid.+; (wt63?0{2,3})\)/i],[g,[l,ft],[n,M]],[/(quest( 2)?)/i],[g,[l,qe],[n,M]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[n,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[g,[n,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[n,F]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[n,F]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[n,k]],[/(android[-\w\. ]{0,9});.+buil/i],[g,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[E,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[E,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[E,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,E]],os:[[/microsoft (windows) (vista|xp)/i],[E,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[E,[d,i,v]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,"Windows"],[d,i,v]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[E,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[E,"Mac OS"],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[d,E],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[E,d],[/\(bb(10);/i],[d,[E,Ee]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[E,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[E,Ce+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[E,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[E,oe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[E,"Chromium OS"],d],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[E,d],[/(sunos) ?([\w\.\d]*)/i],[[E,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[E,d]]},W=function(Me,Oe){if(typeof Me===p&&(Oe=Me,Me=t),!(this instanceof W))return new W(Me,Oe).getResult();var Se=Me||(typeof S!==y&&S.navigator&&S.navigator.userAgent?S.navigator.userAgent:""),Ne=Oe?function(Ke,We){var At={};for(var et in Ke)We[et]&&We[et].length%2==0?At[et]=We[et].concat(Ke[et]):At[et]=Ke[et];return At}(T,Oe):T;return this.getBrowser=function(){var Ke,We={};return We[E]=t,We[d]=t,f.call(We,Se,Ne.browser),We.major=typeof(Ke=We.version)===u?Ke.replace(/[^\d\.]/g,"").split(".")[0]:t,We},this.getCPU=function(){var Ke={};return Ke[D]=t,f.call(Ke,Se,Ne.cpu),Ke},this.getDevice=function(){var Ke={};return Ke[l]=t,Ke[g]=t,Ke[n]=t,f.call(Ke,Se,Ne.device),Ke},this.getEngine=function(){var Ke={};return Ke[E]=t,Ke[d]=t,f.call(Ke,Se,Ne.engine),Ke},this.getOS=function(){var Ke={};return Ke[E]=t,Ke[d]=t,f.call(Ke,Se,Ne.os),Ke},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Se},this.setUA=function(Ke){return Se=typeof Ke===u&&Ke.length>255?Ve(Ke,255):Ke,this},this.setUA(Se),this};W.VERSION="1.0.2",W.BROWSER=$e([E,d,"major"]),W.CPU=$e([D]),W.DEVICE=$e([g,l,n,Z,k,ee,F,M,A]),W.ENGINE=W.OS=$e([E,d]),typeof we!==y?(tt.exports&&(we=tt.exports=W),we.UAParser=W):O.amdO?(ie=(function(){return W}).call(we,O,we,tt))===t||(tt.exports=ie):typeof S!==y&&(S.UAParser=W);var V=typeof S!==y&&(S.jQuery||S.Zepto);if(V&&!V.ua){var he=new W;V.ua=he.getResult(),V.ua.get=function(){return he.getUA()},V.ua.set=function(Me){he.setUA(Me);var Oe=he.getResult();for(var Se in Oe)V.ua[Se]=Oe[Se]}}})(typeof window=="object"?window:this)},7839:function(tt,we,O){function ie(S){try{if(!O.g.localStorage)return!1}catch{return!1}var t=O.g.localStorage[S];return t!=null&&String(t).toLowerCase()==="true"}tt.exports=function(S,t){if(ie("noDeprecation"))return S;var e=!1;return function(){if(!e){if(ie("throwDeprecation"))throw new Error(t);ie("traceDeprecation")?console.trace(t):console.warn(t),e=!0}return S.apply(this,arguments)}}},9862:function(){},964:function(){},3165:function(tt){tt.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:function(tt){tt.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:function(tt){tt.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:function(tt){tt.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:function(tt){tt.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:function(tt){tt.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},ur={};function xn(tt){var we=ur[tt];if(we!==void 0)return we.exports;var O=ur[tt]={exports:{}};return wr[tt].call(O.exports,O,O.exports,xn),O.exports}xn.amdO={},xn.n=function(tt){var we=tt&&tt.__esModule?function(){return tt.default}:function(){return tt};return xn.d(we,{a:we}),we},xn.d=function(tt,we){for(var O in we)xn.o(we,O)&&!xn.o(tt,O)&&Object.defineProperty(tt,O,{enumerable:!0,get:we[O]})},xn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),xn.o=function(tt,we){return Object.prototype.hasOwnProperty.call(tt,we)};var Nr={};return function(){xn.d(Nr,{default:function(){return p}}),xn(8416);var tt,we=xn(1715),O=xn(8080),ie=xn(1737),S=xn(7688),t=function(){var u,g="application/dash+xml";function E(l,d,D){if(!l||!/^VIDEO$/i.test(l.nodeName))return null;if(l._dashjs_player)return l._dashjs_player;var Z,k=l.id||l.name||"video element";if(!(d=d||[].slice.call(l.querySelectorAll("source")).filter(function(F){return F.type==g})[0])&&l.src)(d=document.createElement("source")).src=l.src;else if(!d&&!l.src)return null;return D=D||{},(Z=(0,S.Z)(D).create()).initialize(l,d.src,l.autoplay),u||(u=Z.getDebug().getLogger()),u.debug("Converted "+k+" to dash.js player and added content: "+d.src),l._dashjs_player=Z,Z}function n(l){return/^VIDEO$/i.test(l.nodeName)?l:n(l.parentNode)}return{create:E,createAll:function(l,d){var D=[];l=l||"[data-dashjs-player]";for(var Z=(d=d||document).querySelectorAll(l),k=0;k<Z.length;k++){var F=E(Z[k],null);D.push(F)}for(var ee=d.querySelectorAll('source[type="'+g+'"]'),M=0;M<ee.length;M++){var A=E(n(ee[M]),null);D.push(A)}return D}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?t.createAll():tt=window.setInterval(function(){window.dashjs&&(window.clearInterval(tt),t.createAll())},500):window.addEventListener("load",function u(){window.removeEventListener("load",u),t.createAll()}));var e=t,y=xn(6398);dashjs.Protection=ie.default,dashjs.MetricsReporting=O.default,dashjs.MediaPlayerFactory=e,dashjs.Debug=y.Z,dashjs.supportsMediaSource=we.B;var p=dashjs}(),Nr.default}()})})(ho);var mo=ho.exports;const iu=nu(mo),ou=ru({__proto__:null,default:iu},[mo]);export{ou as d};
